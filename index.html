<!DOCTYPE html>
<html lang="fr" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LifeOS — Votre Plateforme de Vie Complète</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Sora:wght@400;500;600;700;800&family=Fira+Code:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>

    <!-- ==================== AUTH SCREEN ==================== -->
    <div id="auth-screen" class="auth-screen">
        <!-- Animated mesh gradient background -->
        <div class="auth-bg">
            <div class="auth-gradient-orb orb-1"></div>
            <div class="auth-gradient-orb orb-2"></div>
            <div class="auth-gradient-orb orb-3"></div>
            <div class="auth-gradient-orb orb-4"></div>
            <div class="auth-gradient-orb orb-5"></div>
        </div>
        <!-- Grid pattern overlay -->
        <div class="auth-grid-pattern"></div>
        <!-- Floating finance icons -->
        <div class="auth-floating-icons">
            <i class="auth-float-icon fas fa-coins"></i>
            <i class="auth-float-icon fas fa-wallet"></i>
            <i class="auth-float-icon fas fa-piggy-bank"></i>
            <i class="auth-float-icon fas fa-chart-line"></i>
            <i class="auth-float-icon fas fa-money-bill-wave"></i>
            <i class="auth-float-icon fas fa-credit-card"></i>
            <i class="auth-float-icon fas fa-gem"></i>
            <i class="auth-float-icon fas fa-hand-holding-usd"></i>
            <i class="auth-float-icon fas fa-chart-pie"></i>
            <i class="auth-float-icon fas fa-dollar-sign"></i>
            <i class="auth-float-icon fas fa-receipt"></i>
            <i class="auth-float-icon fas fa-landmark"></i>
        </div>
        <!-- Sparkle particles -->
        <canvas id="auth-particles" class="auth-particles-canvas"></canvas>

        <div class="auth-card">
            <!-- Animated border -->
            <div class="auth-card-border"></div>
            <div class="auth-card-inner">
                <div class="auth-logo">
                    <div class="auth-logo-icon-wrap">
                        <div class="auth-logo-ring"></div>
                        <i class="fas fa-wallet"></i>
                    </div>
                    <h1>Life<span class="gradient-text">OS</span></h1>
                    <p>Votre plateforme de vie intelligente</p>
                </div>
                <div class="auth-tabs">
                    <button class="auth-tab active" data-tab="login">
                        <i class="fas fa-sign-in-alt"></i> Connexion
                    </button>
                    <button class="auth-tab" data-tab="register">
                        <i class="fas fa-user-plus"></i> Inscription
                    </button>
                    <div class="auth-tab-indicator"></div>
                </div>
                <!-- Login Form -->
                <form id="login-form" class="auth-form active">
                    <div class="form-group">
                        <label for="login-email"><i class="fas fa-envelope"></i> Email</label>
                        <div class="input-wrap">
                            <input type="email" id="login-email" required placeholder="votre@email.com">
                            <span class="input-focus-border"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="login-password"><i class="fas fa-lock"></i> Mot de passe</label>
                        <div class="input-wrap">
                            <input type="password" id="login-password" required placeholder="••••••••" minlength="6">
                            <span class="input-focus-border"></span>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary btn-block btn-glow" id="login-btn">
                        <span class="btn-content"><i class="fas fa-sign-in-alt"></i> Se connecter</span>
                        <span class="btn-shimmer"></span>
                    </button>
                    <div class="auth-footer">
                        <a href="#" id="forgot-password-link"><i class="fas fa-key"></i> Mot de passe oublié ?</a>
                    </div>
                </form>
                <!-- Register Form -->
                <form id="register-form" class="auth-form">
                    <div class="form-group">
                        <label for="register-name"><i class="fas fa-user"></i> Nom complet</label>
                        <div class="input-wrap">
                            <input type="text" id="register-name" required placeholder="Prénom Nom">
                            <span class="input-focus-border"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="register-email"><i class="fas fa-envelope"></i> Email</label>
                        <div class="input-wrap">
                            <input type="email" id="register-email" required placeholder="votre@email.com">
                            <span class="input-focus-border"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="register-password"><i class="fas fa-lock"></i> Mot de passe</label>
                        <div class="input-wrap">
                            <input type="password" id="register-password" required placeholder="Min. 6 caractères" minlength="6">
                            <span class="input-focus-border"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="register-password-confirm"><i class="fas fa-shield-alt"></i> Confirmer</label>
                        <div class="input-wrap">
                            <input type="password" id="register-password-confirm" required placeholder="••••••••" minlength="6">
                            <span class="input-focus-border"></span>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary btn-block btn-glow" id="register-btn">
                        <span class="btn-content"><i class="fas fa-user-plus"></i> Créer un compte</span>
                        <span class="btn-shimmer"></span>
                    </button>
                </form>
                <!-- Reset Password Form -->
                <form id="reset-form" class="auth-form">
                    <p class="auth-reset-hint"><i class="fas fa-info-circle"></i> Entrez votre email pour recevoir un lien de réinitialisation.</p>
                    <div class="form-group">
                        <label for="reset-email"><i class="fas fa-envelope"></i> Email</label>
                        <div class="input-wrap">
                            <input type="email" id="reset-email" required placeholder="votre@email.com">
                            <span class="input-focus-border"></span>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary btn-block btn-glow" id="reset-btn">
                        <span class="btn-content"><i class="fas fa-paper-plane"></i> Envoyer le lien</span>
                        <span class="btn-shimmer"></span>
                    </button>
                    <div class="auth-footer">
                        <a href="#" id="back-to-login-link"><i class="fas fa-arrow-left"></i> Retour à la connexion</a>
                    </div>
                </form>
                <div id="auth-message" class="auth-message"></div>
            </div>
        </div>
    </div>

    <!-- ==================== APP SHELL (hidden until auth) ==================== -->
    <div id="app-shell" style="display:none;">

    <!-- Animated background -->
    <div class="app-bg-effects">
        <div class="bg-blob blob-1"></div>
        <div class="bg-blob blob-2"></div>
        <div class="bg-blob blob-3"></div>
        <div class="bg-blob blob-4"></div>
        <div class="bg-blob blob-5"></div>
        <div class="bg-blob blob-6"></div>
        <div class="cursor-reactive-glow" aria-hidden="true"></div>
        <canvas id="particles-canvas" class="particles-canvas"></canvas>
    </div>

    <!-- Sidebar Navigation -->
    <nav id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <a class="logo" href="#" tabindex="-1">
                <div class="logo-icon">
                    <i class="fas fa-infinity"></i>
                </div>
                <span>Life<strong>OS</strong></span>
            </a>
            <button id="btn-pin-sidebar" class="sidebar-pin-btn" title="Épingler la sidebar">
                <i class="fas fa-thumbtack"></i>
            </button>
        </div>
        <!-- Sidebar Search -->
        <div class="sidebar-search">
            <i class="sidebar-search-icon fas fa-search"></i>
            <input type="text" id="sidebar-search-input" placeholder="Rechercher un module..." autocomplete="off">
        </div>

        <!-- Dashboard — standalone at top -->
        <div class="sidebar-dashboard-link">
            <ul class="nav-menu">
                <li class="nav-item active" data-view="dashboard">
                    <div class="nav-icon-wrap"><i class="fas fa-th-large"></i></div>
                    <span>Tableau de bord</span>
                    <div class="nav-active-dot"></div>
                </li>
            </ul>
        </div>

        <!-- Nav Groups -->
        <div class="nav-groups-container" id="nav-groups-container">

            <!-- 💰 Finance -->
            <div class="nav-group" data-group="finance">
                <button class="nav-group-header" data-toggle="finance">
                    <div class="nav-group-dot" style="background:#2563EB"></div>
                    <span class="nav-group-label">Finance</span>
                    <span class="nav-group-count">7</span>
                    <i class="nav-group-chevron fas fa-chevron-down"></i>
                </button>
                <div class="nav-group-items">
                    <ul class="nav-menu">
                        <li class="nav-item" data-view="budget">
                            <div class="nav-icon-wrap"><i class="fas fa-bullseye"></i></div>
                            <span>Budget</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="transactions">
                            <div class="nav-icon-wrap"><i class="fas fa-exchange-alt"></i></div>
                            <span>Transactions</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="recurring">
                            <div class="nav-icon-wrap"><i class="fas fa-redo"></i></div>
                            <span>Récurrences</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="categories">
                            <div class="nav-icon-wrap"><i class="fas fa-tags"></i></div>
                            <span>Catégories</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="goals">
                            <div class="nav-icon-wrap"><i class="fas fa-flag-checkered"></i></div>
                            <span>Objectifs</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="reports">
                            <div class="nav-icon-wrap"><i class="fas fa-chart-bar"></i></div>
                            <span>Rapports</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="audit">
                            <div class="nav-icon-wrap"><i class="fas fa-history"></i></div>
                            <span>Journal d'audit</span>
                            <div class="nav-active-dot"></div>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- 🌿 Bien-être -->
            <div class="nav-group" data-group="wellbeing">
                <button class="nav-group-header" data-toggle="wellbeing">
                    <div class="nav-group-dot" style="background:#06B6D4"></div>
                    <span class="nav-group-label">Bien-être</span>
                    <span class="nav-group-count">5</span>
                    <i class="nav-group-chevron fas fa-chevron-down"></i>
                </button>
                <div class="nav-group-items">
                    <ul class="nav-menu">
                        <li class="nav-item" data-view="fitness">
                            <div class="nav-icon-wrap"><i class="fas fa-dumbbell"></i></div>
                            <span>Fitness</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="health">
                            <div class="nav-icon-wrap"><i class="fas fa-heartbeat"></i></div>
                            <span>Santé</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="sleep">
                            <div class="nav-icon-wrap"><i class="fas fa-moon"></i></div>
                            <span>Sommeil</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="habits">
                            <div class="nav-icon-wrap"><i class="fas fa-check-double"></i></div>
                            <span>Habitudes</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="medications">
                            <div class="nav-icon-wrap"><i class="fas fa-pills"></i></div>
                            <span>Médicaments</span>
                            <div class="nav-active-dot"></div>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- 🧠 Productivité -->
            <div class="nav-group" data-group="productivity">
                <button class="nav-group-header" data-toggle="productivity">
                    <div class="nav-group-dot" style="background:#A78BFA"></div>
                    <span class="nav-group-label">Productivité</span>
                    <span class="nav-group-count">5</span>
                    <i class="nav-group-chevron fas fa-chevron-down"></i>
                </button>
                <div class="nav-group-items">
                    <ul class="nav-menu">
                        <li class="nav-item" data-view="notes">
                            <div class="nav-icon-wrap"><i class="fas fa-sticky-note"></i></div>
                            <span>Journal & Notes</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="ideas">
                            <div class="nav-icon-wrap"><i class="fas fa-lightbulb"></i></div>
                            <span>Idées</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="projects">
                            <div class="nav-icon-wrap"><i class="fas fa-project-diagram"></i></div>
                            <span>Projets</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="learning">
                            <div class="nav-icon-wrap"><i class="fas fa-graduation-cap"></i></div>
                            <span>Apprentissage</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="events">
                            <div class="nav-icon-wrap"><i class="fas fa-calendar-alt"></i></div>
                            <span>Événements</span>
                            <div class="nav-active-dot"></div>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- 🎭 Loisirs -->
            <div class="nav-group collapsed" data-group="leisure">
                <button class="nav-group-header" data-toggle="leisure">
                    <div class="nav-group-dot" style="background:#F59E0B"></div>
                    <span class="nav-group-label">Loisirs</span>
                    <span class="nav-group-count">7</span>
                    <i class="nav-group-chevron fas fa-chevron-down"></i>
                </button>
                <div class="nav-group-items">
                    <ul class="nav-menu">
                        <li class="nav-item" data-view="movies">
                            <div class="nav-icon-wrap"><i class="fas fa-film"></i></div>
                            <span>Films & Séries</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="music">
                            <div class="nav-icon-wrap"><i class="fas fa-music"></i></div>
                            <span>Musique</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="games">
                            <div class="nav-icon-wrap"><i class="fas fa-gamepad"></i></div>
                            <span>Jeux</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="travel">
                            <div class="nav-icon-wrap"><i class="fas fa-globe-americas"></i></div>
                            <span>Voyages</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="podcasts">
                            <div class="nav-icon-wrap"><i class="fas fa-podcast"></i></div>
                            <span>Podcasts</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="albums">
                            <div class="nav-icon-wrap"><i class="fas fa-images"></i></div>
                            <span>Albums</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="wine">
                            <div class="nav-icon-wrap"><i class="fas fa-wine-bottle"></i></div>
                            <span>Cave à vin</span>
                            <div class="nav-active-dot"></div>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- 🏠 Maison & Vie -->
            <div class="nav-group collapsed" data-group="home">
                <button class="nav-group-header" data-toggle="home">
                    <div class="nav-group-dot" style="background:#F97316"></div>
                    <span class="nav-group-label">Maison & Vie</span>
                    <span class="nav-group-count">8</span>
                    <i class="nav-group-chevron fas fa-chevron-down"></i>
                </button>
                <div class="nav-group-items">
                    <ul class="nav-menu">
                        <li class="nav-item" data-view="inventory">
                            <div class="nav-icon-wrap"><i class="fas fa-boxes"></i></div>
                            <span>Inventaire</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="recipes">
                            <div class="nav-icon-wrap"><i class="fas fa-utensils"></i></div>
                            <span>Recettes</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="plants">
                            <div class="nav-icon-wrap"><i class="fas fa-seedling"></i></div>
                            <span>Plantes</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="pets">
                            <div class="nav-icon-wrap"><i class="fas fa-paw"></i></div>
                            <span>Animaux</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="home">
                            <div class="nav-icon-wrap"><i class="fas fa-home"></i></div>
                            <span>Maison</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="cleaning">
                            <div class="nav-icon-wrap"><i class="fas fa-broom"></i></div>
                            <span>Ménage</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="wardrobe">
                            <div class="nav-icon-wrap"><i class="fas fa-tshirt"></i></div>
                            <span>Garde-robe</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="vehicles">
                            <div class="nav-icon-wrap"><i class="fas fa-car"></i></div>
                            <span>Véhicules</span>
                            <div class="nav-active-dot"></div>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- 👥 Social & Collections -->
            <div class="nav-group collapsed" data-group="social">
                <button class="nav-group-header" data-toggle="social">
                    <div class="nav-group-dot" style="background:#EC4899"></div>
                    <span class="nav-group-label">Social</span>
                    <span class="nav-group-count">8</span>
                    <i class="nav-group-chevron fas fa-chevron-down"></i>
                </button>
                <div class="nav-group-items">
                    <ul class="nav-menu">
                        <li class="nav-item" data-view="contacts">
                            <div class="nav-icon-wrap"><i class="fas fa-address-book"></i></div>
                            <span>Contacts</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="gifts">
                            <div class="nav-icon-wrap"><i class="fas fa-gift"></i></div>
                            <span>Cadeaux</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="wishlist">
                            <div class="nav-icon-wrap"><i class="fas fa-star"></i></div>
                            <span>Wishlist</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="books">
                            <div class="nav-icon-wrap"><i class="fas fa-book"></i></div>
                            <span>Bibliothèque</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="collections">
                            <div class="nav-icon-wrap"><i class="fas fa-palette"></i></div>
                            <span>Collections</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="packages">
                            <div class="nav-icon-wrap"><i class="fas fa-box"></i></div>
                            <span>Colis</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="subscriptions">
                            <div class="nav-icon-wrap"><i class="fas fa-newspaper"></i></div>
                            <span>Abonnements</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="documents">
                            <div class="nav-icon-wrap"><i class="fas fa-file-alt"></i></div>
                            <span>Documents</span>
                            <div class="nav-active-dot"></div>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- � Trading -->
            <div class="nav-group collapsed" data-group="trading">
                <button class="nav-group-header" data-toggle="trading">
                    <div class="nav-group-dot" style="background:#10B981"></div>
                    <span class="nav-group-label">Trading</span>
                    <span class="nav-group-count">3</span>
                    <i class="nav-group-chevron fas fa-chevron-down"></i>
                </button>
                <div class="nav-group-items">
                    <ul class="nav-menu">
                        <li class="nav-item" data-view="trades">
                            <div class="nav-icon-wrap"><i class="fas fa-chart-line"></i></div>
                            <span>Journal de Trading</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="portfolio">
                            <div class="nav-icon-wrap"><i class="fas fa-briefcase"></i></div>
                            <span>Portefeuille</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="trading-watchlist">
                            <div class="nav-icon-wrap"><i class="fas fa-binoculars"></i></div>
                            <span>Surveillance</span>
                            <div class="nav-active-dot"></div>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- �🔒 Sécurité -->
            <div class="nav-group collapsed" data-group="security">
                <button class="nav-group-header" data-toggle="security">
                    <div class="nav-group-dot" style="background:#F43F5E"></div>
                    <span class="nav-group-label">Sécurité</span>
                    <span class="nav-group-count">1</span>
                    <i class="nav-group-chevron fas fa-chevron-down"></i>
                </button>
                <div class="nav-group-items">
                    <ul class="nav-menu">
                        <li class="nav-item" data-view="passwords">
                            <div class="nav-icon-wrap"><i class="fas fa-lock"></i></div>
                            <span>Mots de passe</span>
                            <div class="nav-active-dot"></div>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- ✨ Vie Spirituelle -->
            <div class="nav-group collapsed" data-group="spiritual">
                <button class="nav-group-header" data-toggle="spiritual">
                    <div class="nav-group-dot" style="background:#A78BFA"></div>
                    <span class="nav-group-label">Vie Spirituelle</span>
                    <span class="nav-group-count">4</span>
                    <i class="nav-group-chevron fas fa-chevron-down"></i>
                </button>
                <div class="nav-group-items">
                    <ul class="nav-menu">
                        <li class="nav-item" data-view="spiritual">
                            <div class="nav-icon-wrap"><i class="fas fa-dove"></i></div>
                            <span>Tableau de bord</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="bible">
                            <div class="nav-icon-wrap"><i class="fas fa-bible"></i></div>
                            <span>Bible</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="prayer">
                            <div class="nav-icon-wrap"><i class="fas fa-pray"></i></div>
                            <span>Journal de prière</span>
                            <div class="nav-active-dot"></div>
                        </li>
                        <li class="nav-item" data-view="gratitude">
                            <div class="nav-icon-wrap"><i class="fas fa-heart"></i></div>
                            <span>Gratitude</span>
                            <div class="nav-active-dot"></div>
                        </li>
                    </ul>
                </div>
            </div>

        </div><!-- end nav-groups-container -->

        <div class="sidebar-divider"></div>
        <div class="sidebar-user" id="sidebar-user-area" title="Paramètres du compte" style="cursor:pointer;">
            <div class="sidebar-user-avatar" id="sidebar-user-avatar">
                <i class="fas fa-user-astronaut"></i>
            </div>
            <div class="sidebar-user-details">
                <span id="sidebar-user-name" class="sidebar-user-name">Utilisateur</span>
                <span class="sidebar-user-role">Membre Premium</span>
            </div>
            <button id="btn-logout" class="sidebar-logout-btn" title="Se déconnecter">
                <i class="fas fa-sign-out-alt"></i>
            </button>
        </div>
        <div class="sidebar-footer">
            <button id="btn-export-all" class="btn btn-outline btn-sm" title="Exporter toutes les données">
                <i class="fas fa-download"></i>
                <span>Exporter</span>
            </button>
            <button id="btn-import-all" class="btn btn-outline btn-sm" title="Importer des données">
                <i class="fas fa-upload"></i>
                <span>Importer</span>
            </button>
            <input type="file" id="import-file" accept=".json" style="display:none">
        </div>
    </nav>

    <!-- Mobile Overlay (closes sidebar on tap) -->
    <div id="mobile-overlay" class="mobile-overlay"></div>

    <!-- Main Content -->
    <main id="main-content" class="main-content">
        <!-- Top Bar -->
        <header class="topbar">
            <div class="topbar-left">
                <button id="mobile-menu-btn" class="mobile-menu-btn">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="topbar-title-wrap">
                    <h1 id="page-title">Tableau de bord</h1>
                    <span class="topbar-subtitle" id="topbar-subtitle">Vue d'ensemble</span>
                </div>
            </div>
            <div class="topbar-right">
                <div class="topbar-meta">
                    <span id="live-greeting" class="live-greeting">Bienvenue</span>
                    <span id="live-clock" class="live-clock">--:--:--</span>
                </div>
                <div class="month-selector">
                    <button id="prev-month" class="btn btn-icon"><i class="fas fa-chevron-left"></i></button>
                    <span id="current-month-label">Février 2026</span>
                    <button id="next-month" class="btn btn-icon"><i class="fas fa-chevron-right"></i></button>
                </div>
                <div class="topbar-actions">
                    <button id="theme-toggle" class="theme-toggle" title="Changer le thème">
                        <i class="fas fa-moon theme-icon-dark"></i>
                        <i class="fas fa-sun theme-icon-light"></i>
                    </button>
                    <div class="notification-wrap">
                        <button id="btn-notifications" class="notification-bell" title="Notifications">
                            <i class="fas fa-bell"></i>
                            <span class="notification-badge" id="notif-badge" style="display:none;">0</span>
                        </button>
                        <div class="notification-panel" id="notification-panel" aria-hidden="true">
                            <div class="notif-panel-header">
                                <h4><i class="fas fa-bell"></i> Notifications</h4>
                                <div class="notif-header-actions">
                                    <button id="notif-refresh" class="btn btn-ghost btn-sm" title="Actualiser"><i class="fas fa-sync-alt"></i></button>
                                    <button id="notif-clear-all" class="btn btn-ghost btn-sm" title="Tout supprimer"><i class="fas fa-trash-alt"></i></button>
                                </div>
                            </div>
                            <div class="notif-tabs">
                                <button class="notif-tab active" data-notif-tab="all">Toutes</button>
                                <button class="notif-tab" data-notif-tab="unread">Non lues</button>
                            </div>
                            <div class="notif-panel-body" id="notif-list">
                                <p class="notif-empty"><i class="fas fa-inbox"></i> Aucune notification</p>
                            </div>
                        </div>
                    </div>
                    <button id="btn-style-lab" class="btn btn-outline" title="Style Lab">
                        <i class="fas fa-palette"></i> Style
                    </button>
                    <button id="btn-shortcuts" class="btn btn-outline" title="Raccourcis clavier">
                        <i class="fas fa-keyboard"></i> Raccourcis
                    </button>
                    <button id="btn-settings" class="btn btn-icon topbar-settings-btn" title="Paramètres">
                        <i class="fas fa-cog"></i>
                    </button>
                    <button id="btn-quick-add" class="btn btn-primary btn-glow" title="Ajouter une transaction">
                        <span class="btn-content"><i class="fas fa-plus"></i> <span>Nouvelle transaction</span></span>
                        <span class="btn-shimmer"></span>
                    </button>
                </div>
            </div>
        </header>

        <!-- ==================== DASHBOARD VIEW ==================== -->
        <section id="view-dashboard" class="view active">

            <!-- ① Hero greeting -->
            <div class="lm-hero">
                <div class="lm-hero-left">
                    <div class="lm-greeting" id="lm-greeting">Bonjour 👋</div>
                    <div class="lm-date" id="lm-date">Chargement...</div>
                </div>
                <div class="lm-hero-right">
                    <div class="lm-hero-actions">
                        <button class="qa-add-btn" id="qa-add-income" title="Ajouter un revenu">
                            <i class="fas fa-plus"></i> Revenu
                        </button>
                        <button class="qa-add-btn qa-expense-btn" id="qa-add-expense" title="Ajouter une dépense">
                            <i class="fas fa-minus"></i> Dépense
                        </button>
                    </div>
                </div>
            </div>

            <!-- ② Life pillars — 8 micro stats -->
            <div class="lm-pillars">
                <div class="lm-pillar lm-pillar-finance" onclick="App&&App._navigateTo('transactions')">
                    <div class="lm-pillar-icon"><i class="fas fa-coins"></i></div>
                    <div class="lm-pillar-body">
                        <span class="lm-pillar-label">Solde du mois</span>
                        <span class="lm-pillar-value" id="lmp-balance">— MAD</span>
                    </div>
                    <div class="lm-pillar-trend" id="lmp-balance-trend"></div>
                </div>
                <div class="lm-pillar lm-pillar-budget" onclick="App&&App._navigateTo('budget')">
                    <div class="lm-pillar-icon"><i class="fas fa-bullseye"></i></div>
                    <div class="lm-pillar-body">
                        <span class="lm-pillar-label">Budget consommé</span>
                        <span class="lm-pillar-value" id="lmp-budget">—%</span>
                    </div>
                    <div class="lm-pillar-trend" id="lmp-budget-bar"></div>
                </div>
                <div class="lm-pillar lm-pillar-habits" onclick="App&&App._navigateTo('habits')">
                    <div class="lm-pillar-icon"><i class="fas fa-check-double"></i></div>
                    <div class="lm-pillar-body">
                        <span class="lm-pillar-label">Habitudes (auj.)</span>
                        <span class="lm-pillar-value" id="lmp-habits">—/—</span>
                    </div>
                    <div class="lm-pillar-trend" id="lmp-habits-dots"></div>
                </div>
                <div class="lm-pillar lm-pillar-events" onclick="App&&App._navigateTo('events')">
                    <div class="lm-pillar-icon"><i class="fas fa-calendar-day"></i></div>
                    <div class="lm-pillar-body">
                        <span class="lm-pillar-label">Événements</span>
                        <span class="lm-pillar-value" id="lmp-events">—</span>
                    </div>
                    <div class="lm-pillar-trend" id="lmp-events-next"></div>
                </div>
                <div class="lm-pillar lm-pillar-fitness" onclick="App&&App._navigateTo('fitness')">
                    <div class="lm-pillar-icon"><i class="fas fa-dumbbell"></i></div>
                    <div class="lm-pillar-body">
                        <span class="lm-pillar-label">Fitness (7j)</span>
                        <span class="lm-pillar-value" id="lmp-fitness">—</span>
                    </div>
                    <div class="lm-pillar-trend" id="lmp-fitness-sub"></div>
                </div>
                <div class="lm-pillar lm-pillar-goals" onclick="App&&App._navigateTo('goals')">
                    <div class="lm-pillar-icon"><i class="fas fa-flag-checkered"></i></div>
                    <div class="lm-pillar-body">
                        <span class="lm-pillar-label">Objectifs actifs</span>
                        <span class="lm-pillar-value" id="lmp-goals">—</span>
                    </div>
                    <div class="lm-pillar-trend" id="lmp-goals-sub"></div>
                </div>
                <div class="lm-pillar" style="--pillar-accent:#10B981" onclick="App&&App._navigateTo('portfolio')">
                    <div class="lm-pillar-icon"><i class="fas fa-briefcase"></i></div>
                    <div class="lm-pillar-body">
                        <span class="lm-pillar-label">Portefeuille</span>
                        <span class="lm-pillar-value" id="lmp-portfolio">—</span>
                    </div>
                    <div class="lm-pillar-trend" id="lmp-portfolio-sub"></div>
                </div>
                <div class="lm-pillar" style="--pillar-accent:#F59E0B" onclick="App&&App._navigateTo('trades')">
                    <div class="lm-pillar-icon"><i class="fas fa-chart-line"></i></div>
                    <div class="lm-pillar-body">
                        <span class="lm-pillar-label">Trading</span>
                        <span class="lm-pillar-value" id="lmp-trading">—</span>
                    </div>
                    <div class="lm-pillar-trend" id="lmp-trading-sub"></div>
                </div>
            </div>

            <!-- ③ Main zone — 3 columns -->
            <div class="lm-main-grid">

                <!-- Col A : Finance compacte -->
                <div class="lm-col-finance">
                    <div class="card lm-card">
                        <div class="card-header">
                            <h2><i class="fas fa-wallet"></i> Finances — <span id="lm-month-label" style="font-weight:400;color:var(--text-muted)"></span></h2>
                            <a href="#" data-nav="reports" style="font-size:0.72rem;color:var(--primary-light)">Rapports →</a>
                        </div>
                        <div class="card-body">
                            <div class="lm-finance-row">
                                <div class="lm-fin-kpi lm-fin-income">
                                    <span class="lm-fin-icon"><i class="fas fa-arrow-down"></i></span>
                                    <span class="lm-fin-val" id="stat-income">0 MAD</span>
                                    <span class="lm-fin-lbl">Revenus</span>
                                </div>
                                <div class="lm-fin-kpi lm-fin-expense">
                                    <span class="lm-fin-icon"><i class="fas fa-arrow-up"></i></span>
                                    <span class="lm-fin-val" id="stat-expense">0 MAD</span>
                                    <span class="lm-fin-lbl">Dépenses</span>
                                </div>
                                <div class="lm-fin-kpi lm-fin-balance">
                                    <span class="lm-fin-icon"><i class="fas fa-balance-scale"></i></span>
                                    <span class="lm-fin-val" id="stat-balance">0 MAD</span>
                                    <span class="lm-fin-lbl">Solde</span>
                                </div>
                            </div>
                            <!-- Budget progress mini -->
                            <div class="lm-budget-mini" id="lm-budget-mini"></div>
                            <!-- Recent txns -->
                            <div class="lm-recent-header">
                                <span style="font-size:0.72rem;font-weight:700;color:var(--text-muted);text-transform:uppercase;letter-spacing:0.06em">Dernières transactions</span>
                            </div>
                            <div class="lm-recent-txns" id="recent-transactions"></div>
                        </div>
                    </div>
                </div>

                <!-- Col B : Habitudes + Événements -->
                <div class="lm-col-life">

                    <!-- Habitudes du jour -->
                    <div class="card lm-card lm-habits-card">
                        <div class="card-header">
                            <h2><i class="fas fa-check-circle"></i> Habitudes du jour</h2>
                            <span class="lm-habits-score" id="lm-habits-score">0%</span>
                        </div>
                        <div class="card-body">
                            <div class="lm-habit-progress-bar"><div id="lm-habit-bar-fill"></div></div>
                            <div class="lm-habits-list" id="lm-habits-list">
                                <p class="empty-state-sm">Aucune habitude configurée.<br><a href="#" data-nav="habits">Créer une habitude →</a></p>
                            </div>
                        </div>
                    </div>

                    <!-- Événements à venir -->
                    <div class="card lm-card lm-events-card">
                        <div class="card-header">
                            <h2><i class="fas fa-calendar-alt"></i> Agenda</h2>
                            <a href="#" data-nav="events" style="font-size:0.72rem;color:var(--primary-light)">Voir tout →</a>
                        </div>
                        <div class="card-body">
                            <div class="lm-events-list" id="lm-events-list">
                                <p class="empty-state-sm">Aucun événement à venir.<br><a href="#" data-nav="events">Ajouter un événement →</a></p>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

            <!-- ④ Module Overview Cards — General Dashboard -->
            <div class="dashboard-overview-section">
                <div class="card lm-card" style="margin-bottom:1.2rem">
                    <div class="card-header">
                        <h2><i class="fas fa-th-large"></i> Vue d'ensemble des modules</h2>
                        <span style="font-size:0.72rem;color:var(--text-muted)">Résumé en temps réel</span>
                    </div>
                    <div class="card-body">
                        <div class="dashboard-overview-grid" id="dashboard-overview-grid">
                            <p class="empty-state-sm">Chargement des modules...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ⑤ Module Launcher -->
            <div class="card lm-card lm-launcher-card">
                <div class="card-header">
                    <h2><i class="fas fa-th"></i> Tous les modules</h2>
                    <span style="font-size:0.72rem;color:var(--text-muted)">Accès rapide</span>
                </div>
                <div class="card-body">
                    <div class="lm-launcher-grid">
                        <button class="lm-module-btn" onclick="App&&App._navigateTo('budget')"><i class="fas fa-bullseye"></i><span>Budget</span></button>
                        <button class="lm-module-btn" onclick="App&&App._navigateTo('transactions')"><i class="fas fa-exchange-alt"></i><span>Transactions</span></button>
                        <button class="lm-module-btn" onclick="App&&App._navigateTo('goals')"><i class="fas fa-flag-checkered"></i><span>Objectifs</span></button>
                        <button class="lm-module-btn" onclick="App&&App._navigateTo('recurring')"><i class="fas fa-redo"></i><span>Récurrences</span></button>
                        <button class="lm-module-btn" onclick="App&&App._navigateTo('reports')"><i class="fas fa-chart-bar"></i><span>Rapports</span></button>
                        <button class="lm-module-btn" onclick="App&&App._navigateTo('categories')"><i class="fas fa-tags"></i><span>Catégories</span></button>
                        <button class="lm-module-btn lm-mod-health" onclick="App&&App._navigateTo('habits')"><i class="fas fa-check-double"></i><span>Habitudes</span></button>
                        <button class="lm-module-btn lm-mod-health" onclick="App&&App._navigateTo('fitness')"><i class="fas fa-dumbbell"></i><span>Fitness</span></button>
                        <button class="lm-module-btn lm-mod-health" onclick="App&&App._navigateTo('sleep')"><i class="fas fa-moon"></i><span>Sommeil</span></button>
                        <button class="lm-module-btn lm-mod-health" onclick="App&&App._navigateTo('health')"><i class="fas fa-heartbeat"></i><span>Santé</span></button>
                        <button class="lm-module-btn lm-mod-health" onclick="App&&App._navigateTo('medications')"><i class="fas fa-pills"></i><span>Médic.</span></button>
                        <button class="lm-module-btn lm-mod-prod" onclick="App&&App._navigateTo('notes')"><i class="fas fa-sticky-note"></i><span>Notes</span></button>
                        <button class="lm-module-btn lm-mod-prod" onclick="App&&App._navigateTo('projects')"><i class="fas fa-project-diagram"></i><span>Projets</span></button>
                        <button class="lm-module-btn lm-mod-prod" onclick="App&&App._navigateTo('ideas')"><i class="fas fa-lightbulb"></i><span>Idées</span></button>
                        <button class="lm-module-btn lm-mod-prod" onclick="App&&App._navigateTo('events')"><i class="fas fa-calendar-alt"></i><span>Agenda</span></button>
                        <button class="lm-module-btn lm-mod-prod" onclick="App&&App._navigateTo('learning')"><i class="fas fa-graduation-cap"></i><span>Formation</span></button>
                        <button class="lm-module-btn lm-mod-leisure" onclick="App&&App._navigateTo('movies')"><i class="fas fa-film"></i><span>Films</span></button>
                        <button class="lm-module-btn lm-mod-leisure" onclick="App&&App._navigateTo('books')"><i class="fas fa-book"></i><span>Livres</span></button>
                        <button class="lm-module-btn lm-mod-leisure" onclick="App&&App._navigateTo('music')"><i class="fas fa-music"></i><span>Musique</span></button>
                        <button class="lm-module-btn lm-mod-leisure" onclick="App&&App._navigateTo('games')"><i class="fas fa-gamepad"></i><span>Jeux</span></button>
                        <button class="lm-module-btn lm-mod-leisure" onclick="App&&App._navigateTo('travel')"><i class="fas fa-globe-americas"></i><span>Voyages</span></button>
                        <button class="lm-module-btn lm-mod-leisure" onclick="App&&App._navigateTo('podcasts')"><i class="fas fa-podcast"></i><span>Podcasts</span></button>
                        <button class="lm-module-btn lm-mod-home" onclick="App&&App._navigateTo('inventory')"><i class="fas fa-boxes"></i><span>Inventaire</span></button>
                        <button class="lm-module-btn lm-mod-home" onclick="App&&App._navigateTo('recipes')"><i class="fas fa-utensils"></i><span>Recettes</span></button>
                        <button class="lm-module-btn lm-mod-home" onclick="App&&App._navigateTo('plants')"><i class="fas fa-seedling"></i><span>Plantes</span></button>
                        <button class="lm-module-btn lm-mod-home" onclick="App&&App._navigateTo('home')"><i class="fas fa-home"></i><span>Maison</span></button>
                        <button class="lm-module-btn lm-mod-home" onclick="App&&App._navigateTo('vehicles')"><i class="fas fa-car"></i><span>Véhicules</span></button>
                        <button class="lm-module-btn lm-mod-home" onclick="App&&App._navigateTo('wardrobe')"><i class="fas fa-tshirt"></i><span>Garde-robe</span></button>
                        <button class="lm-module-btn lm-mod-social" onclick="App&&App._navigateTo('contacts')"><i class="fas fa-address-book"></i><span>Contacts</span></button>
                        <button class="lm-module-btn lm-mod-social" onclick="App&&App._navigateTo('gifts')"><i class="fas fa-gift"></i><span>Cadeaux</span></button>
                        <button class="lm-module-btn lm-mod-social" onclick="App&&App._navigateTo('wishlist')"><i class="fas fa-star"></i><span>Wishlist</span></button>
                        <button class="lm-module-btn lm-mod-social" onclick="App&&App._navigateTo('subscriptions')"><i class="fas fa-newspaper"></i><span>Abonnements</span></button>
                        <button class="lm-module-btn lm-mod-social" onclick="App&&App._navigateTo('packages')"><i class="fas fa-box"></i><span>Colis</span></button>
                        <button class="lm-module-btn lm-mod-social" onclick="App&&App._navigateTo('passwords')"><i class="fas fa-lock"></i><span>Passwords</span></button>
                        <button class="lm-module-btn lm-mod-social" onclick="App&&App._navigateTo('documents')"><i class="fas fa-file-alt"></i><span>Documents</span></button>
                        <button class="lm-module-btn lm-mod-social" onclick="App&&App._navigateTo('wine')"><i class="fas fa-wine-bottle"></i><span>Cave à vin</span></button>
                        <button class="lm-module-btn lm-mod-social" onclick="App&&App._navigateTo('pets')"><i class="fas fa-paw"></i><span>Animaux</span></button>
                        <button class="lm-module-btn lm-mod-social" onclick="App&&App._navigateTo('collections')"><i class="fas fa-palette"></i><span>Collections</span></button>
                        <button class="lm-module-btn lm-mod-trading" onclick="App&&App._navigateTo('trades')"><i class="fas fa-chart-line"></i><span>Trades</span></button>
                        <button class="lm-module-btn lm-mod-trading" onclick="App&&App._navigateTo('portfolio')"><i class="fas fa-briefcase"></i><span>Portefeuille</span></button>
                        <button class="lm-module-btn lm-mod-trading" onclick="App&&App._navigateTo('trading-watchlist')"><i class="fas fa-binoculars"></i><span>Surveillance</span></button>
                        <button class="lm-module-btn lm-mod-spiritual" onclick="App&&App._navigateTo('spiritual')"><i class="fas fa-dove"></i><span>Spiritualité</span></button>
                    </div>
                </div>
            </div>

            <!-- Hidden elements kept for JS compatibility -->
            <div style="display:none">
                <span id="stat-budget-remaining"></span>
                <div id="budget-progress-list"></div>
                <div id="spark-income"></div><div id="spark-expense"></div>
                <div id="spark-balance"></div><div id="spark-budget"></div>
                <canvas id="chart-expense-breakdown"></canvas>
                <canvas id="chart-monthly-trend"></canvas>
                <canvas id="chart-budget-vs-actual"></canvas>
                <p id="chart-expense-empty"></p>
                <p id="chart-bva-empty"></p>
                <div id="insights-list"></div>
                <button id="btn-refresh-insights"></button>
                <div id="health-score-num"></div>
                <div id="health-ring-fill"></div>
                <div id="health-label"></div>
                <div id="health-factors"></div>
                <div id="alerts-card"><div id="alerts-list"></div></div>
            </div>

        </section>

        <!-- ==================== BUDGET VIEW ==================== -->
        <section id="view-budget" class="view">
            <div class="view-toolbar">
                <h2>Planification du budget — <span id="budget-month-label"></span></h2>
                <div class="toolbar-actions">
                    <button id="btn-copy-prev-budget" class="btn btn-outline">
                        <i class="fas fa-copy"></i> Copier le mois précédent
                    </button>
                </div>
            </div>
            <div class="card glass-card">
                <div class="card-header">
                    <h2><i class="fas fa-plus-circle"></i> Ajouter/Modifier un budget</h2>
                </div>
                <div class="card-body">
                    <form id="budget-form" class="form-inline">
                        <div class="form-group">
                            <label for="budget-category">Catégorie</label>
                            <select id="budget-category" required><option value="">— Sélectionner —</option></select>
                        </div>
                        <div class="form-group">
                            <label for="budget-amount">Montant prévu (MAD)</label>
                            <input type="number" id="budget-amount" step="0.01" min="0" required placeholder="0,00">
                        </div>
                        <div class="form-group">
                            <label for="budget-notes">Notes</label>
                            <input type="text" id="budget-notes" placeholder="Notes optionnelles">
                        </div>
                        <button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button>
                    </form>
                </div>
            </div>
            <div class="card glass-card">
                <div class="card-header">
                    <h2><i class="fas fa-list-alt"></i> Budgets du mois</h2>
                    <span class="badge badge-glass" id="budget-total-badge">Total: 0,00 MAD</span>
                </div>
                <div class="card-body">
                    <table class="data-table" id="budget-table">
                        <thead><tr>
                            <th>Catégorie</th><th>Budget prévu</th><th>Dépensé</th><th>Restant</th><th>Progression</th><th>Notes</th><th>Actions</th>
                        </tr></thead>
                        <tbody id="budget-table-body"></tbody>
                    </table>
                    <p class="empty-state" id="budget-empty"><span class="empty-state-icon"><i class="fas fa-wallet"></i></span>Aucun budget défini pour ce mois</p>
                </div>
            </div>
        </section>

        <!-- ==================== TRANSACTIONS VIEW ==================== -->
        <section id="view-transactions" class="view">
            <div class="view-toolbar">
                <h2>Transactions</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-transaction" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouvelle transaction</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-transactions" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter CSV</button>
                </div>
            </div>
            <div class="card glass-card">
                <div class="card-body filters-bar">
                    <div class="form-group"><label for="filter-type">Type</label><select id="filter-type"><option value="">Tous</option><option value="expense">Dépenses</option><option value="income">Revenus</option></select></div>
                    <div class="form-group"><label for="filter-category">Catégorie</label><select id="filter-category"><option value="">Toutes</option></select></div>
                    <div class="form-group"><label for="filter-date-from">Du</label><input type="date" id="filter-date-from"></div>
                    <div class="form-group"><label for="filter-date-to">Au</label><input type="date" id="filter-date-to"></div>
                    <div class="form-group"><label for="filter-search">Recherche</label><input type="text" id="filter-search" placeholder="Mot-clé..."></div>
                    <button id="btn-clear-filters" class="btn btn-outline btn-sm"><i class="fas fa-times"></i> Réinitialiser</button>
                </div>
            </div>
            <div class="card glass-card">
                <div class="card-header">
                    <h2 id="transactions-count">0 transactions</h2>
                    <span class="badge badge-glass" id="transactions-sum-badge"></span>
                </div>
                <div class="card-body">
                    <table class="data-table" id="transactions-table">
                        <thead><tr>
                            <th class="sortable" data-sort="date">Date <i class="fas fa-sort"></i></th>
                            <th class="sortable" data-sort="type">Type <i class="fas fa-sort"></i></th>
                            <th class="sortable" data-sort="category">Catégorie <i class="fas fa-sort"></i></th>
                            <th>Description</th>
                            <th class="sortable" data-sort="amount">Montant <i class="fas fa-sort"></i></th>
                            <th>Actions</th>
                        </tr></thead>
                        <tbody id="transactions-table-body"></tbody>
                    </table>
                    <p class="empty-state" id="transactions-empty"><span class="empty-state-icon"><i class="fas fa-search"></i></span>Aucune transaction trouvée</p>
                    <div class="pagination" id="transactions-pagination"></div>
                </div>
            </div>
        </section>

        <!-- ==================== RECURRING VIEW ==================== -->
        <section id="view-recurring" class="view">
            <div class="view-toolbar">
                <h2>Transactions récurrentes</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-recurring" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouvelle récurrence</span><span class="btn-shimmer"></span></button>
                </div>
            </div>
            <div class="card glass-card">
                <div class="card-body">
                    <table class="data-table" id="recurring-table">
                        <thead><tr><th>Type</th><th>Catégorie</th><th>Description</th><th>Montant</th><th>Fréquence</th><th>Prochaine échéance</th><th>Statut</th><th>Actions</th></tr></thead>
                        <tbody id="recurring-table-body"></tbody>
                    </table>
                    <p class="empty-state" id="recurring-empty"><span class="empty-state-icon"><i class="fas fa-redo"></i></span>Aucune transaction récurrente</p>
                </div>
            </div>
        </section>

        <!-- ==================== CATEGORIES VIEW ==================== -->
        <section id="view-categories" class="view">
            <div class="view-toolbar">
                <h2>Gestion des catégories</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-category" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouvelle catégorie</span><span class="btn-shimmer"></span></button>
                </div>
            </div>
            <div class="categories-grid" id="categories-grid"></div>
        </section>

        <!-- ==================== GOALS VIEW ==================== -->
        <section id="view-goals" class="view">
            <div class="view-toolbar">
                <h2>Objectifs financiers</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-goal" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouvel objectif</span><span class="btn-shimmer"></span></button>
                </div>
            </div>
            <div class="goals-grid" id="goals-grid">
                <p class="empty-state" id="goals-empty"><span class="empty-state-icon"><i class="fas fa-trophy"></i></span>Aucun objectif défini</p>
            </div>
        </section>

        <!-- ==================== INVENTORY VIEW ==================== -->
        <section id="view-inventory" class="view">
            <div class="view-toolbar">
                <h2>Inventaire & Stock</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-inventory" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouvel article</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-inventory" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>

            <!-- Inventory Stats -->
            <div class="stats-grid">
                <div class="stat-card stat-income">
                    <div class="stat-card-bg"></div>
                    <div class="stat-icon"><i class="fas fa-boxes"></i></div>
                    <div class="stat-info">
                        <span class="stat-label">Articles en stock</span>
                        <span class="stat-value" id="inv-stat-total">0</span>
                    </div>
                    <div class="stat-decoration"><i class="fas fa-cubes"></i></div>
                </div>
                <div class="stat-card stat-expense">
                    <div class="stat-card-bg"></div>
                    <div class="stat-icon"><i class="fas fa-exclamation-triangle"></i></div>
                    <div class="stat-info">
                        <span class="stat-label">Stock faible</span>
                        <span class="stat-value" id="inv-stat-low">0</span>
                    </div>
                    <div class="stat-decoration"><i class="fas fa-battery-quarter"></i></div>
                </div>
                <div class="stat-card stat-balance">
                    <div class="stat-card-bg"></div>
                    <div class="stat-icon"><i class="fas fa-calendar-times"></i></div>
                    <div class="stat-info">
                        <span class="stat-label">Expirent bientôt</span>
                        <span class="stat-value" id="inv-stat-expiring">0</span>
                    </div>
                    <div class="stat-decoration"><i class="fas fa-hourglass-half"></i></div>
                </div>
                <div class="stat-card stat-budget">
                    <div class="stat-card-bg"></div>
                    <div class="stat-icon"><i class="fas fa-money-bill-wave"></i></div>
                    <div class="stat-info">
                        <span class="stat-label">Valeur totale</span>
                        <span class="stat-value" id="inv-stat-value">0,00 MAD</span>
                    </div>
                    <div class="stat-decoration"><i class="fas fa-coins"></i></div>
                </div>
            </div>

            <!-- Filters -->
            <div class="card glass-card">
                <div class="card-body filters-bar">
                    <div class="form-group">
                        <label for="inv-filter-category">Catégorie</label>
                        <select id="inv-filter-category">
                            <option value="">Toutes</option>
                            <option value="alimentaire">Alimentaire</option>
                            <option value="hygiene">Hygiène</option>
                            <option value="menage">Ménage</option>
                            <option value="electronique">Électronique</option>
                            <option value="vetements">Vêtements</option>
                            <option value="autre">Autre</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="inv-filter-status">Statut</label>
                        <select id="inv-filter-status">
                            <option value="">Tous</option>
                            <option value="ok">En stock</option>
                            <option value="low">Stock faible</option>
                            <option value="expired">Expiré</option>
                            <option value="expiring">Expire bientôt</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="inv-filter-search">Recherche</label>
                        <input type="text" id="inv-filter-search" placeholder="Nom d'article...">
                    </div>
                    <button id="btn-inv-clear-filters" class="btn btn-outline btn-sm"><i class="fas fa-times"></i> Réinitialiser</button>
                </div>
            </div>

            <!-- Inventory Grid -->
            <div class="inventory-grid" id="inventory-grid">
                <p class="empty-state" id="inventory-empty"><span class="empty-state-icon"><i class="fas fa-box-open"></i></span>Aucun article en stock. Ajoutez votre premier article !</p>
            </div>
        </section>

        <!-- ==================== BOOKS / BIBLIOTHÈQUE VIEW ==================== -->
        <section id="view-books" class="view">
            <div class="view-toolbar">
                <h2>Bibliothèque & Lecture</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-book" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouveau livre</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-books" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>

            <!-- Books Stats -->
            <div class="stats-grid">
                <div class="stat-card stat-income">
                    <div class="stat-card-bg"></div>
                    <div class="stat-icon"><i class="fas fa-book"></i></div>
                    <div class="stat-info">
                        <span class="stat-label">Total livres</span>
                        <span class="stat-value" id="book-stat-total">0</span>
                    </div>
                    <div class="stat-decoration"><i class="fas fa-books"></i></div>
                </div>
                <div class="stat-card stat-balance">
                    <div class="stat-card-bg"></div>
                    <div class="stat-icon"><i class="fas fa-book-reader"></i></div>
                    <div class="stat-info">
                        <span class="stat-label">En cours de lecture</span>
                        <span class="stat-value" id="book-stat-reading">0</span>
                    </div>
                    <div class="stat-decoration"><i class="fas fa-glasses"></i></div>
                </div>
                <div class="stat-card stat-budget">
                    <div class="stat-card-bg"></div>
                    <div class="stat-icon"><i class="fas fa-check-double"></i></div>
                    <div class="stat-info">
                        <span class="stat-label">Livres terminés</span>
                        <span class="stat-value" id="book-stat-finished">0</span>
                    </div>
                    <div class="stat-decoration"><i class="fas fa-trophy"></i></div>
                </div>
                <div class="stat-card stat-expense">
                    <div class="stat-card-bg"></div>
                    <div class="stat-icon"><i class="fas fa-file-alt"></i></div>
                    <div class="stat-info">
                        <span class="stat-label">Pages lues</span>
                        <span class="stat-value" id="book-stat-pages">0</span>
                    </div>
                    <div class="stat-decoration"><i class="fas fa-scroll"></i></div>
                </div>
            </div>

            <!-- Reading Progress (currently reading) -->
            <div class="card glass-card" id="books-reading-card" style="display:none;">
                <div class="card-header">
                    <h2><i class="fas fa-book-open"></i> En cours de lecture</h2>
                </div>
                <div class="card-body" id="books-reading-list"></div>
            </div>

            <!-- Filters -->
            <div class="card glass-card">
                <div class="card-body filters-bar">
                    <div class="form-group">
                        <label for="book-filter-status">Statut</label>
                        <select id="book-filter-status">
                            <option value="">Tous</option>
                            <option value="to-read">À lire</option>
                            <option value="reading">En cours</option>
                            <option value="finished">Terminés</option>
                            <option value="abandoned">Abandonnés</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="book-filter-genre">Genre</label>
                        <select id="book-filter-genre">
                            <option value="">Tous</option>
                            <option value="fiction">Fiction</option>
                            <option value="non-fiction">Non-fiction</option>
                            <option value="science">Science</option>
                            <option value="histoire">Histoire</option>
                            <option value="philosophie">Philosophie</option>
                            <option value="religion">Religion</option>
                            <option value="biographie">Biographie</option>
                            <option value="developpement">Développement personnel</option>
                            <option value="business">Business</option>
                            <option value="technologie">Technologie</option>
                            <option value="roman">Roman</option>
                            <option value="manga">Manga / BD</option>
                            <option value="poesie">Poésie</option>
                            <option value="scolaire">Scolaire</option>
                            <option value="autre">Autre</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="book-filter-search">Recherche</label>
                        <input type="text" id="book-filter-search" placeholder="Titre, auteur...">
                    </div>
                    <button id="btn-book-clear-filters" class="btn btn-outline btn-sm"><i class="fas fa-times"></i> Réinitialiser</button>
                </div>
            </div>

            <!-- Books Grid -->
            <div class="books-grid" id="books-grid">
                <p class="empty-state" id="books-empty"><span class="empty-state-icon"><i class="fas fa-book-open"></i></span>Aucun livre dans votre bibliothèque. Ajoutez votre premier livre !</p>
            </div>
        </section>

        <!-- ==================== FITNESS VIEW ==================== -->
        <section id="view-fitness" class="view">
            <div class="view-toolbar">
                <h2>Fitness & Santé</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-workout" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouvel entraînement</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-fitness" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-dumbbell"></i></div><div class="stat-info"><span class="stat-label">Total entraînements</span><span class="stat-value" id="fitness-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-calendar-week"></i></div><div class="stat-info"><span class="stat-label">Cette semaine</span><span class="stat-value" id="fitness-stat-week">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-clock"></i></div><div class="stat-info"><span class="stat-label">Temps total</span><span class="stat-value" id="fitness-stat-duration">0h</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-fire"></i></div><div class="stat-info"><span class="stat-label">Calories brûlées</span><span class="stat-value" id="fitness-stat-calories">0</span></div></div>
            </div>
            <!-- Filters -->
            <div class="filter-bar">
                <div class="filter-group">
                    <select id="fitness-filter-type" class="form-control">
                        <option value="">Tous les types</option>
                        <option value="strength">🏋️ Musculation</option>
                        <option value="cardio">🏃 Cardio</option>
                        <option value="flexibility">🧘 Souplesse</option>
                        <option value="sport">⚽ Sport</option>
                        <option value="swimming">🏊 Natation</option>
                        <option value="cycling">🚴 Cyclisme</option>
                        <option value="hiking">🥾 Randonnée</option>
                        <option value="other">💪 Autre</option>
                    </select>
                    <input type="text" id="fitness-filter-search" class="form-control" placeholder="Rechercher...">
                    <button id="btn-fitness-clear-filters" class="btn btn-outline btn-sm"><i class="fas fa-times"></i> Réinitialiser</button>
                </div>
            </div>
            <div class="fitness-grid" id="fitness-grid">
                <p class="empty-state" id="fitness-empty"><span class="empty-state-icon"><i class="fas fa-running"></i></span>Aucun entraînement enregistré. C'est parti !</p>
            </div>
        </section>

        <!-- ==================== RECIPES VIEW ==================== -->
        <section id="view-recipes" class="view">
            <div class="view-toolbar">
                <h2>Recettes & Cuisine</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-recipe" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouvelle recette</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-recipes" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-book-open"></i></div><div class="stat-info"><span class="stat-label">Total recettes</span><span class="stat-value" id="recipe-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-heart"></i></div><div class="stat-info"><span class="stat-label">Favorites</span><span class="stat-value" id="recipe-stat-favorites">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-star"></i></div><div class="stat-info"><span class="stat-label">Note moyenne</span><span class="stat-value" id="recipe-stat-rating">—</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-tags"></i></div><div class="stat-info"><span class="stat-label">Catégories</span><span class="stat-value" id="recipe-stat-categories">0</span></div></div>
            </div>
            <div class="filter-bar">
                <div class="filter-group">
                    <select id="recipe-filter-category" class="form-control">
                        <option value="">Toutes catégories</option>
                        <option value="entree">🥗 Entrée</option>
                        <option value="plat">🍽️ Plat principal</option>
                        <option value="dessert">🍰 Dessert</option>
                        <option value="soupe">🍜 Soupe</option>
                        <option value="salade">🥙 Salade</option>
                        <option value="snack">🥨 Snack</option>
                        <option value="boisson">🥤 Boisson</option>
                        <option value="pain">🥖 Pain & Pâtisserie</option>
                        <option value="sauce">🫙 Sauce</option>
                        <option value="autre">🍴 Autre</option>
                    </select>
                    <select id="recipe-filter-difficulty" class="form-control">
                        <option value="">Toutes difficultés</option>
                        <option value="easy">Facile</option>
                        <option value="medium">Moyen</option>
                        <option value="hard">Difficile</option>
                    </select>
                    <input type="text" id="recipe-filter-search" class="form-control" placeholder="Rechercher...">
                    <button id="btn-recipe-clear-filters" class="btn btn-outline btn-sm"><i class="fas fa-times"></i> Réinitialiser</button>
                </div>
            </div>
            <div class="recipes-grid" id="recipes-grid">
                <p class="empty-state" id="recipes-empty"><span class="empty-state-icon"><i class="fas fa-utensils"></i></span>Aucune recette enregistrée. Ajoutez votre première recette !</p>
            </div>
        </section>

        <!-- ==================== NOTES / JOURNAL VIEW ==================== -->
        <section id="view-notes" class="view">
            <div class="view-toolbar">
                <h2>Journal & Notes</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-note" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouvelle note</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-notes" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-sticky-note"></i></div><div class="stat-info"><span class="stat-label">Total notes</span><span class="stat-value" id="note-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-thumbtack"></i></div><div class="stat-info"><span class="stat-label">Épinglées</span><span class="stat-value" id="note-stat-pinned">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-tags"></i></div><div class="stat-info"><span class="stat-label">Tags uniques</span><span class="stat-value" id="note-stat-tags">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-smile"></i></div><div class="stat-info"><span class="stat-label">Humeur moyenne</span><span class="stat-value" id="note-stat-mood">—</span></div></div>
            </div>
            <div class="filter-bar">
                <div class="filter-group">
                    <select id="note-filter-mood" class="form-control">
                        <option value="">Toutes humeurs</option>
                        <option value="5">🔥 Excellent</option>
                        <option value="4">😊 Bien</option>
                        <option value="3">😐 Neutre</option>
                        <option value="2">😕 Mauvais</option>
                        <option value="1">😫 Terrible</option>
                    </select>
                    <input type="text" id="note-filter-search" class="form-control" placeholder="Rechercher titre, contenu, tags...">
                    <button id="btn-note-clear-filters" class="btn btn-outline btn-sm"><i class="fas fa-times"></i> Réinitialiser</button>
                </div>
            </div>
            <div class="notes-grid" id="notes-grid">
                <p class="empty-state" id="notes-empty"><span class="empty-state-icon"><i class="fas fa-pen-fancy"></i></span>Aucune note. Écrivez votre première pensée !</p>
            </div>
        </section>

        <!-- ==================== HABITS VIEW ==================== -->
        <section id="view-habits" class="view">
            <div class="view-toolbar">
                <h2>Habitudes & Suivi</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-habit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouvelle habitude</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-habits" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-check-double"></i></div><div class="stat-info"><span class="stat-label">Habitudes actives</span><span class="stat-value" id="habit-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-check-circle"></i></div><div class="stat-info"><span class="stat-label">Faites aujourd'hui</span><span class="stat-value" id="habit-stat-today">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-percentage"></i></div><div class="stat-info"><span class="stat-label">Taux aujourd'hui</span><span class="stat-value" id="habit-stat-rate">0%</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-fire"></i></div><div class="stat-info"><span class="stat-label">Meilleure série</span><span class="stat-value" id="habit-stat-best">0</span></div></div>
            </div>
            <div class="habits-grid" id="habits-grid">
                <p class="empty-state" id="habits-empty"><span class="empty-state-icon"><i class="fas fa-seedling"></i></span>Aucune habitude créée. Commencez à bâtir vos routines !</p>
            </div>
        </section>

        <!-- ==================== CONTACTS VIEW ==================== -->
        <section id="view-contacts" class="view">
            <div class="view-toolbar">
                <h2>Carnet d'Adresses</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-contact" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouveau contact</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-contacts" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-users"></i></div><div class="stat-info"><span class="stat-label">Total contacts</span><span class="stat-value" id="contact-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-layer-group"></i></div><div class="stat-info"><span class="stat-label">Groupes</span><span class="stat-value" id="contact-stat-groups">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-birthday-cake"></i></div><div class="stat-info"><span class="stat-label">Anniversaires</span><span class="stat-value" id="contact-stat-birthdays">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-star"></i></div><div class="stat-info"><span class="stat-label">Favoris</span><span class="stat-value" id="contact-stat-favorites">0</span></div></div>
            </div>
            <div class="filter-bar" id="contacts-filter-bar">
                <select id="contact-filter-group" class="form-control"><option value="">Tous les groupes</option></select>
                <input type="text" id="contact-search" class="form-control" placeholder="Rechercher un contact...">
            </div>
            <div class="contacts-grid" id="contacts-grid">
                <p class="empty-state" id="contacts-empty"><span class="empty-state-icon"><i class="fas fa-address-book"></i></span>Aucun contact. Ajoutez vos premiers contacts !</p>
            </div>
        </section>

        <!-- ==================== MOVIES VIEW ==================== -->
        <section id="view-movies" class="view">
            <div class="view-toolbar">
                <h2>Films & Séries</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-movie" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Ajouter</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-movies" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-film"></i></div><div class="stat-info"><span class="stat-label">Total</span><span class="stat-value" id="movie-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-check-circle"></i></div><div class="stat-info"><span class="stat-label">Vus</span><span class="stat-value" id="movie-stat-watched">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-list"></i></div><div class="stat-info"><span class="stat-label">À voir</span><span class="stat-value" id="movie-stat-towatch">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-star"></i></div><div class="stat-info"><span class="stat-label">Note moyenne</span><span class="stat-value" id="movie-stat-rating">—</span></div></div>
            </div>
            <div class="filter-bar" id="movies-filter-bar">
                <select id="movie-filter-status" class="form-control"><option value="">Tous les statuts</option><option value="to-watch">📋 À voir</option><option value="watching">▶️ En cours</option><option value="watched">✅ Vu</option><option value="abandoned">❌ Abandonné</option></select>
                <select id="movie-filter-type" class="form-control"><option value="">Tous les types</option><option value="movie">🎬 Films</option><option value="series">📺 Séries</option><option value="documentary">🎥 Documentaires</option><option value="anime">🎌 Anime</option></select>
            </div>
            <div class="movies-grid" id="movies-grid">
                <p class="empty-state" id="movies-empty"><span class="empty-state-icon"><i class="fas fa-popcorn"></i></span>Aucun film ou série. Commencez votre watchlist !</p>
            </div>
        </section>

        <!-- ==================== TRAVEL VIEW ==================== -->
        <section id="view-travel" class="view">
            <div class="view-toolbar">
                <h2>Voyages & Destinations</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-trip" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouveau voyage</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-travel" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-globe-americas"></i></div><div class="stat-info"><span class="stat-label">Total voyages</span><span class="stat-value" id="travel-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-map-marker-alt"></i></div><div class="stat-info"><span class="stat-label">Visités</span><span class="stat-value" id="travel-stat-visited">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-calendar-alt"></i></div><div class="stat-info"><span class="stat-label">Planifiés</span><span class="stat-value" id="travel-stat-planned">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-flag"></i></div><div class="stat-info"><span class="stat-label">Pays</span><span class="stat-value" id="travel-stat-countries">0</span></div></div>
            </div>
            <div class="filter-bar" id="travel-filter-bar">
                <select id="travel-filter-status" class="form-control"><option value="">Tous les statuts</option><option value="dream">💭 Rêve</option><option value="planned">📅 Planifié</option><option value="ongoing">✈️ En cours</option><option value="visited">✅ Visité</option></select>
                <select id="travel-filter-continent" class="form-control"><option value="">Tous les continents</option><option value="afrique">🌍 Afrique</option><option value="amerique">🌎 Amérique</option><option value="asie">🌏 Asie</option><option value="europe">🏰 Europe</option><option value="oceanie">🏝️ Océanie</option></select>
            </div>
            <div class="travel-grid" id="travel-grid">
                <p class="empty-state" id="travel-empty"><span class="empty-state-icon"><i class="fas fa-plane"></i></span>Aucun voyage. Planifiez votre prochaine aventure !</p>
            </div>
        </section>

        <!-- ==================== PLANTS VIEW ==================== -->
        <section id="view-plants" class="view">
            <div class="view-toolbar">
                <h2>Plantes d'Intérieur</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-plant" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouvelle plante</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-plants" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-seedling"></i></div><div class="stat-info"><span class="stat-label">Total plantes</span><span class="stat-value" id="plant-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-tint"></i></div><div class="stat-info"><span class="stat-label">À arroser</span><span class="stat-value" id="plant-stat-water">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-heart"></i></div><div class="stat-info"><span class="stat-label">En bonne santé</span><span class="stat-value" id="plant-stat-healthy">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-map-pin"></i></div><div class="stat-info"><span class="stat-label">Emplacements</span><span class="stat-value" id="plant-stat-locations">0</span></div></div>
            </div>
            <div class="plants-grid" id="plants-grid">
                <p class="empty-state" id="plants-empty"><span class="empty-state-icon"><i class="fas fa-leaf"></i></span>Aucune plante ajoutée. Commencez votre jardin intérieur !</p>
            </div>
        </section>

        <!-- ==================== MUSIC VIEW ==================== -->
        <section id="view-music" class="view">
            <div class="view-toolbar">
                <h2>Musique & Playlists</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-music" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouveau morceau</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-music" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-music"></i></div><div class="stat-info"><span class="stat-label">Total morceaux</span><span class="stat-value" id="music-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-microphone-alt"></i></div><div class="stat-info"><span class="stat-label">Artistes</span><span class="stat-value" id="music-stat-artists">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-heart"></i></div><div class="stat-info"><span class="stat-label">Favoris</span><span class="stat-value" id="music-stat-favorites">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-star"></i></div><div class="stat-info"><span class="stat-label">Note moyenne</span><span class="stat-value" id="music-stat-rating">0</span></div></div>
            </div>
            <div class="card glass-card"><div class="card-body filters-bar">
                <div class="form-group"><label for="music-filter-genre">Genre</label><select id="music-filter-genre"><option value="">Tous</option><option value="pop">Pop</option><option value="rock">Rock</option><option value="hiphop">Hip-Hop</option><option value="rnb">R&B</option><option value="jazz">Jazz</option><option value="classical">Classique</option><option value="electronic">Électronique</option><option value="reggae">Reggae</option><option value="metal">Metal</option><option value="latin">Latin</option><option value="kpop">K-Pop</option><option value="arabic">Arabe</option><option value="autre">Autre</option></select></div>
                <div class="form-group"><label for="music-filter-mood">Humeur</label><select id="music-filter-mood"><option value="">Toutes</option><option value="happy">Joyeux</option><option value="sad">Triste</option><option value="energetic">Énergique</option><option value="chill">Chill</option><option value="romantic">Romantique</option><option value="focus">Concentration</option><option value="party">Fête</option></select></div>
                <div class="form-group"><label for="music-search">Recherche</label><input type="text" id="music-search" placeholder="Titre, artiste..."></div>
            </div></div>
            <div class="music-grid" id="music-grid">
                <p class="empty-state" id="music-empty"><span class="empty-state-icon"><i class="fas fa-headphones"></i></span>Aucun morceau ajouté. Partagez votre musique !</p>
            </div>
        </section>

        <!-- ==================== VEHICLES VIEW ==================== -->
        <section id="view-vehicles" class="view">
            <div class="view-toolbar">
                <h2>Véhicules & Entretien</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-vehicle" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouveau véhicule</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-vehicles" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-car"></i></div><div class="stat-info"><span class="stat-label">Total véhicules</span><span class="stat-value" id="vehicle-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-check-circle"></i></div><div class="stat-info"><span class="stat-label">Actifs</span><span class="stat-value" id="vehicle-stat-active">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-exclamation-triangle"></i></div><div class="stat-info"><span class="stat-label">Alertes</span><span class="stat-value" id="vehicle-stat-alerts">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-tachometer-alt"></i></div><div class="stat-info"><span class="stat-label">Km total</span><span class="stat-value" id="vehicle-stat-km">0</span></div></div>
            </div>
            <div class="vehicles-grid" id="vehicles-grid">
                <p class="empty-state" id="vehicles-empty"><span class="empty-state-icon"><i class="fas fa-car-side"></i></span>Aucun véhicule ajouté. Gérez votre parc !</p>
            </div>
        </section>

        <!-- ==================== HEALTH VIEW ==================== -->
        <section id="view-health" class="view">
            <div class="view-toolbar">
                <h2>Santé & Médical</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-health" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouveau suivi</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-health" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-notes-medical"></i></div><div class="stat-info"><span class="stat-label">Total entrées</span><span class="stat-value" id="health-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-calendar-check"></i></div><div class="stat-info"><span class="stat-label">À venir</span><span class="stat-value" id="health-stat-upcoming">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-check-double"></i></div><div class="stat-info"><span class="stat-label">Effectués</span><span class="stat-value" id="health-stat-completed">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-coins"></i></div><div class="stat-info"><span class="stat-label">Coût total</span><span class="stat-value" id="health-stat-cost">0 MAD</span></div></div>
            </div>
            <div class="card glass-card"><div class="card-body filters-bar">
                <div class="form-group"><label for="health-filter-type">Type</label><select id="health-filter-type"><option value="">Tous</option><option value="appointment">Rendez-vous</option><option value="medication">Médicament</option><option value="vaccine">Vaccin</option><option value="exam">Examen</option><option value="surgery">Intervention</option><option value="measure">Mesure</option></select></div>
                <div class="form-group"><label for="health-filter-status">Statut</label><select id="health-filter-status"><option value="">Tous</option><option value="scheduled">Planifié</option><option value="completed">Effectué</option><option value="ongoing">En cours</option><option value="cancelled">Annulé</option></select></div>
            </div></div>
            <div class="health-grid" id="health-grid">
                <p class="empty-state" id="health-empty"><span class="empty-state-icon"><i class="fas fa-heartbeat"></i></span>Aucun suivi médical. Prenez soin de vous !</p>
            </div>
        </section>

        <!-- ==================== EVENTS VIEW ==================== -->
        <section id="view-events" class="view">
            <div class="view-toolbar">
                <h2>Événements & Planning</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-event" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouvel événement</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-events" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-calendar-alt"></i></div><div class="stat-info"><span class="stat-label">Total événements</span><span class="stat-value" id="event-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-hourglass-half"></i></div><div class="stat-info"><span class="stat-label">À venir</span><span class="stat-value" id="event-stat-upcoming">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-calendar-day"></i></div><div class="stat-info"><span class="stat-label">Ce mois</span><span class="stat-value" id="event-stat-month">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-money-bill-wave"></i></div><div class="stat-info"><span class="stat-label">Budget total</span><span class="stat-value" id="event-stat-budget">0 MAD</span></div></div>
            </div>
            <div class="card glass-card"><div class="card-body filters-bar">
                <div class="form-group"><label for="event-filter-type">Type</label><select id="event-filter-type"><option value="">Tous</option><option value="personal">Personnel</option><option value="family">Famille</option><option value="work">Travail</option><option value="social">Social</option><option value="sport">Sport</option><option value="cultural">Culturel</option></select></div>
                <div class="form-group"><label for="event-filter-status">Statut</label><select id="event-filter-status"><option value="">Tous</option><option value="upcoming">À venir</option><option value="ongoing">En cours</option><option value="completed">Terminé</option><option value="cancelled">Annulé</option></select></div>
            </div></div>
            <div class="events-grid" id="events-grid">
                <p class="empty-state" id="events-empty"><span class="empty-state-icon"><i class="fas fa-calendar-plus"></i></span>Aucun événement. Planifiez vos moments !</p>
            </div>
        </section>

        <!-- ==================== PETS VIEW ==================== -->
        <section id="view-pets" class="view">
            <div class="view-toolbar">
                <h2>Animaux de Compagnie</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-pet" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouvel animal</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-pets" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-paw"></i></div><div class="stat-info"><span class="stat-label">Total animaux</span><span class="stat-value" id="pet-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-dna"></i></div><div class="stat-info"><span class="stat-label">Espèces</span><span class="stat-value" id="pet-stat-species">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-stethoscope"></i></div><div class="stat-info"><span class="stat-label">Visite véto</span><span class="stat-value" id="pet-stat-vet">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-heart"></i></div><div class="stat-info"><span class="stat-label">Favoris</span><span class="stat-value" id="pet-stat-fav">0</span></div></div>
            </div>
            <div class="pets-grid" id="pets-grid">
                <p class="empty-state" id="pets-empty"><span class="empty-state-icon"><i class="fas fa-paw"></i></span>Aucun animal. Ajoutez votre compagnon !</p>
            </div>
        </section>

        <!-- ==================== LEARNING VIEW ==================== -->
        <section id="view-learning" class="view">
            <div class="view-toolbar">
                <h2>Apprentissage & Formation</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-course" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouveau cours</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-learning" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-graduation-cap"></i></div><div class="stat-info"><span class="stat-label">Total cours</span><span class="stat-value" id="learning-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-play-circle"></i></div><div class="stat-info"><span class="stat-label">En cours</span><span class="stat-value" id="learning-stat-progress">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-check-circle"></i></div><div class="stat-info"><span class="stat-label">Terminés</span><span class="stat-value" id="learning-stat-completed">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-coins"></i></div><div class="stat-info"><span class="stat-label">Investi</span><span class="stat-value" id="learning-stat-cost">0 MAD</span></div></div>
            </div>
            <div class="card glass-card"><div class="card-body filters-bar">
                <div class="form-group"><label for="learning-filter-status">Statut</label><select id="learning-filter-status"><option value="">Tous</option><option value="not_started">Pas commencé</option><option value="in_progress">En cours</option><option value="completed">Terminé</option><option value="paused">En pause</option></select></div>
                <div class="form-group"><label for="learning-filter-category">Catégorie</label><select id="learning-filter-category"><option value="">Toutes</option><option value="dev">Développement</option><option value="design">Design</option><option value="business">Business</option><option value="language">Langues</option><option value="autre">Autre</option></select></div>
            </div></div>
            <div class="learning-grid" id="learning-grid">
                <p class="empty-state" id="learning-empty"><span class="empty-state-icon"><i class="fas fa-graduation-cap"></i></span>Aucun cours. Commencez à apprendre !</p>
            </div>
        </section>

        <!-- ==================== SLEEP VIEW ==================== -->
        <section id="view-sleep" class="view">
            <div class="view-toolbar">
                <h2>Sommeil & Repos</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-sleep" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouvelle nuit</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-sleep" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-moon"></i></div><div class="stat-info"><span class="stat-label">Total nuits</span><span class="stat-value" id="sleep-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-clock"></i></div><div class="stat-info"><span class="stat-label">Durée moy.</span><span class="stat-value" id="sleep-stat-duration">0h</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-star"></i></div><div class="stat-info"><span class="stat-label">Qualité moy.</span><span class="stat-value" id="sleep-stat-quality">0/5</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-calendar-week"></i></div><div class="stat-info"><span class="stat-label">Cette semaine</span><span class="stat-value" id="sleep-stat-week">0</span></div></div>
            </div>
            <div class="sleep-grid" id="sleep-grid">
                <p class="empty-state" id="sleep-empty"><span class="empty-state-icon"><i class="fas fa-moon"></i></span>Aucun enregistrement. Suivez votre sommeil !</p>
            </div>
        </section>

        <!-- ==================== HOME VIEW ==================== -->
        <section id="view-home" class="view">
            <div class="view-toolbar">
                <h2>Maison & Entretien</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-home-task" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouvelle tâche</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-home" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-home"></i></div><div class="stat-info"><span class="stat-label">Total tâches</span><span class="stat-value" id="home-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-tasks"></i></div><div class="stat-info"><span class="stat-label">En attente</span><span class="stat-value" id="home-stat-pending">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-exclamation-triangle"></i></div><div class="stat-info"><span class="stat-label">En retard</span><span class="stat-value" id="home-stat-overdue">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-money-bill-wave"></i></div><div class="stat-info"><span class="stat-label">Coût total</span><span class="stat-value" id="home-stat-cost">0 MAD</span></div></div>
            </div>
            <div class="card glass-card"><div class="card-body filters-bar">
                <div class="form-group"><label for="home-filter-status">Statut</label><select id="home-filter-status"><option value="">Tous</option><option value="todo">À faire</option><option value="in_progress">En cours</option><option value="waiting">En attente</option><option value="done">Terminé</option></select></div>
                <div class="form-group"><label for="home-filter-room">Pièce</label><select id="home-filter-room"><option value="">Toutes</option><option value="salon">Salon</option><option value="cuisine">Cuisine</option><option value="chambre">Chambre</option><option value="sdb">Salle de bain</option><option value="jardin">Jardin</option><option value="autre">Autre</option></select></div>
            </div></div>
            <div class="home-grid" id="home-grid">
                <p class="empty-state" id="home-empty"><span class="empty-state-icon"><i class="fas fa-home"></i></span>Aucune tâche. Votre maison est parfaite !</p>
            </div>
        </section>

        <!-- ==================== GAMES VIEW ==================== -->
        <section id="view-games" class="view">
            <div class="view-toolbar">
                <h2>Jeux Vidéo</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-game" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouveau jeu</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-games" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-gamepad"></i></div><div class="stat-info"><span class="stat-label">Total jeux</span><span class="stat-value" id="game-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-play"></i></div><div class="stat-info"><span class="stat-label">En cours</span><span class="stat-value" id="game-stat-playing">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-trophy"></i></div><div class="stat-info"><span class="stat-label">Terminés</span><span class="stat-value" id="game-stat-completed">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-clock"></i></div><div class="stat-info"><span class="stat-label">Heures jouées</span><span class="stat-value" id="game-stat-hours">0h</span></div></div>
            </div>
            <div class="card glass-card"><div class="card-body filters-bar">
                <div class="form-group"><label for="game-filter-status">Statut</label><select id="game-filter-status"><option value="">Tous</option><option value="playing">En cours</option><option value="completed">Terminé</option><option value="backlog">Backlog</option><option value="wishlist">Wishlist</option></select></div>
                <div class="form-group"><label for="game-filter-platform">Plateforme</label><select id="game-filter-platform"><option value="">Toutes</option><option value="pc">PC</option><option value="ps5">PS5</option><option value="ps4">PS4</option><option value="xbox">Xbox</option><option value="switch">Switch</option><option value="mobile">Mobile</option></select></div>
            </div></div>
            <div class="games-grid" id="games-grid">
                <p class="empty-state" id="games-empty"><span class="empty-state-icon"><i class="fas fa-gamepad"></i></span>Aucun jeu. Ajoutez votre collection !</p>
            </div>
        </section>

        <!-- ==================== WARDROBE VIEW ==================== -->
        <section id="view-wardrobe" class="view">
            <div class="view-toolbar">
                <h2>Garde-robe</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-wardrobe" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouveau vêtement</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-wardrobe" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-tshirt"></i></div><div class="stat-info"><span class="stat-label">Total pièces</span><span class="stat-value" id="wardrobe-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-tags"></i></div><div class="stat-info"><span class="stat-label">Catégories</span><span class="stat-value" id="wardrobe-stat-categories">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-coins"></i></div><div class="stat-info"><span class="stat-label">Valeur totale</span><span class="stat-value" id="wardrobe-stat-value">0 MAD</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-heart"></i></div><div class="stat-info"><span class="stat-label">Favoris</span><span class="stat-value" id="wardrobe-stat-fav">0</span></div></div>
            </div>
            <div class="card glass-card"><div class="card-body filters-bar">
                <div class="form-group"><label for="wardrobe-filter-category">Catégorie</label><select id="wardrobe-filter-category"><option value="">Toutes</option><option value="top">Haut</option><option value="bottom">Bas</option><option value="dress">Robe</option><option value="outerwear">Veste</option><option value="shoes">Chaussures</option><option value="accessory">Accessoire</option></select></div>
                <div class="form-group"><label for="wardrobe-filter-season">Saison</label><select id="wardrobe-filter-season"><option value="">Toutes</option><option value="all">Toutes saisons</option><option value="spring">Printemps</option><option value="summer">Été</option><option value="autumn">Automne</option><option value="winter">Hiver</option></select></div>
            </div></div>
            <div class="wardrobe-grid" id="wardrobe-grid">
                <p class="empty-state" id="wardrobe-empty"><span class="empty-state-icon"><i class="fas fa-tshirt"></i></span>Aucun vêtement. Organisez votre garde-robe !</p>
            </div>
        </section>

        <!-- ==================== PACKAGES VIEW ==================== -->
        <section id="view-packages" class="view">
            <div class="view-toolbar">
                <h2>Colis & Livraisons</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-package" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouveau colis</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-packages" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-box"></i></div><div class="stat-info"><span class="stat-label">Total colis</span><span class="stat-value" id="package-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-truck"></i></div><div class="stat-info"><span class="stat-label">En transit</span><span class="stat-value" id="package-stat-transit">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-check-circle"></i></div><div class="stat-info"><span class="stat-label">Livrés</span><span class="stat-value" id="package-stat-delivered">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-coins"></i></div><div class="stat-info"><span class="stat-label">Total dépensé</span><span class="stat-value" id="package-stat-spent">0 MAD</span></div></div>
            </div>
            <div class="card glass-card"><div class="card-body filters-bar">
                <div class="form-group"><label for="package-filter-status">Statut</label><select id="package-filter-status"><option value="">Tous</option><option value="ordered">Commandé</option><option value="shipped">Expédié</option><option value="in_transit">En transit</option><option value="delivered">Livré</option></select></div>
                <div class="form-group"><label for="package-filter-carrier">Transporteur</label><select id="package-filter-carrier"><option value="">Tous</option><option value="poste">La Poste</option><option value="dhl">DHL</option><option value="ups">UPS</option><option value="fedex">FedEx</option><option value="amazon">Amazon</option></select></div>
            </div></div>
            <div class="packages-grid" id="packages-grid">
                <p class="empty-state" id="packages-empty"><span class="empty-state-icon"><i class="fas fa-box"></i></span>Aucun colis. Suivez vos livraisons !</p>
            </div>
        </section>

        <!-- ==================== IDEAS VIEW ==================== -->
        <section id="view-ideas" class="view">
            <div class="view-toolbar">
                <h2>Idées & Brainstorming</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-idea" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouvelle idée</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-ideas" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-lightbulb"></i></div><div class="stat-info"><span class="stat-label">Total idées</span><span class="stat-value" id="idea-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-bolt"></i></div><div class="stat-info"><span class="stat-label">Actives</span><span class="stat-value" id="idea-stat-active">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-check-circle"></i></div><div class="stat-info"><span class="stat-label">Réalisées</span><span class="stat-value" id="idea-stat-realized">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-heart"></i></div><div class="stat-info"><span class="stat-label">Favoris</span><span class="stat-value" id="idea-stat-fav">0</span></div></div>
            </div>
            <div class="card glass-card"><div class="card-body filters-bar">
                <div class="form-group"><label for="idea-filter-status">Statut</label><select id="idea-filter-status"><option value="">Tous</option><option value="new">Nouvelle</option><option value="exploring">En exploration</option><option value="in_progress">En cours</option><option value="realized">Réalisée</option><option value="archived">Archivée</option></select></div>
                <div class="form-group"><label for="idea-filter-category">Catégorie</label><select id="idea-filter-category"><option value="">Toutes</option><option value="general">Général</option><option value="business">Business</option><option value="tech">Tech</option><option value="creative">Créatif</option><option value="personal">Personnel</option></select></div>
            </div></div>
            <div class="ideas-grid" id="ideas-grid">
                <p class="empty-state" id="ideas-empty"><span class="empty-state-icon"><i class="fas fa-lightbulb"></i></span>Aucune idée. Laissez libre cours à votre imagination !</p>
            </div>
        </section>

        <!-- ==================== PROJECTS VIEW ==================== -->
        <section id="view-projects" class="view">
            <div class="view-toolbar">
                <h2>Projets</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-project" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouveau projet</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-projects" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-project-diagram"></i></div><div class="stat-info"><span class="stat-label">Total projets</span><span class="stat-value" id="project-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-play-circle"></i></div><div class="stat-info"><span class="stat-label">Actifs</span><span class="stat-value" id="project-stat-active">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-check-circle"></i></div><div class="stat-info"><span class="stat-label">Terminés</span><span class="stat-value" id="project-stat-completed">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-exclamation-circle"></i></div><div class="stat-info"><span class="stat-label">En retard</span><span class="stat-value" id="project-stat-overdue">0</span></div></div>
            </div>
            <div class="card glass-card"><div class="card-body filters-bar">
                <div class="form-group"><label for="project-filter-status">Statut</label><select id="project-filter-status"><option value="">Tous</option><option value="planning">Planification</option><option value="active">Actif</option><option value="on_hold">En pause</option><option value="completed">Terminé</option></select></div>
                <div class="form-group"><label for="project-filter-priority">Priorité</label><select id="project-filter-priority"><option value="">Toutes</option><option value="low">Basse</option><option value="normal">Normale</option><option value="high">Haute</option><option value="critical">Critique</option></select></div>
            </div></div>
            <div class="projects-grid" id="projects-grid">
                <p class="empty-state" id="projects-empty"><span class="empty-state-icon"><i class="fas fa-project-diagram"></i></span>Aucun projet. Créez votre premier projet !</p>
            </div>
        </section>

        <!-- ==================== PASSWORDS VIEW ==================== -->
        <section id="view-passwords" class="view">
            <div class="view-toolbar">
                <h2>Coffre-fort Mots de Passe</h2>
                <div class="toolbar-actions">
                    <button id="btn-add-password" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouveau mot de passe</span><span class="btn-shimmer"></span></button>
                    <button id="btn-export-passwords" class="btn btn-outline"><i class="fas fa-file-csv"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-lock"></i></div><div class="stat-info"><span class="stat-label">Total comptes</span><span class="stat-value" id="password-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-exclamation-triangle"></i></div><div class="stat-info"><span class="stat-label">Faibles</span><span class="stat-value" id="password-stat-weak">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-calendar-times"></i></div><div class="stat-info"><span class="stat-label">Expirés</span><span class="stat-value" id="password-stat-expired">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-shield-alt"></i></div><div class="stat-info"><span class="stat-label">Avec 2FA</span><span class="stat-value" id="password-stat-2fa">0</span></div></div>
            </div>
            <div class="card glass-card"><div class="card-body filters-bar">
                <div class="form-group"><label for="password-filter-category">Catégorie</label><select id="password-filter-category"><option value="">Toutes</option><option value="web">Site web</option><option value="email">Email</option><option value="social">Réseau social</option><option value="bank">Banque</option><option value="work">Travail</option></select></div>
                <div class="form-group"><label for="password-filter-strength">Force</label><select id="password-filter-strength"><option value="">Toutes</option><option value="weak">Faible</option><option value="medium">Moyen</option><option value="strong">Fort</option><option value="very_strong">Très fort</option></select></div>
            </div></div>
            <div class="passwords-grid" id="passwords-grid">
                <p class="empty-state" id="passwords-empty"><span class="empty-state-icon"><i class="fas fa-lock"></i></span>Aucun mot de passe. Sécurisez vos comptes !</p>
            </div>
        </section>

        <!-- ==================== SUBSCRIPTIONS VIEW ==================== -->
        <section id="view-subscriptions" class="view">
            <div class="view-toolbar"><h2>📰 Abonnements</h2><div class="toolbar-actions"><input type="search" id="subscriptions-search" class="search-input" placeholder="Rechercher..."><select id="subscriptions-filter-status"><option value="">Tous statuts</option></select><select id="subscriptions-filter-category"><option value="">Toutes catégories</option></select><button class="btn btn-primary btn-glow" id="btn-add-subscription"><span class="btn-content"><i class="fas fa-plus"></i> Ajouter</span><span class="btn-shimmer"></span></button></div></div>
            <div class="stats-grid" id="subscriptions-stats"></div>
            <div class="subscriptions-grid" id="subscriptions-grid"><p class="empty-state" id="subscriptions-empty"><span class="empty-state-icon"><i class="fas fa-newspaper"></i></span>Aucun abonnement enregistré.</p></div>
        </section>

        <!-- ==================== GIFTS VIEW ==================== -->
        <section id="view-gifts" class="view">
            <div class="view-toolbar"><h2>🎁 Cadeaux</h2><div class="toolbar-actions"><input type="search" id="gifts-search" class="search-input" placeholder="Rechercher..."><select id="gifts-filter-type"><option value="">Tous types</option></select><select id="gifts-filter-occasion"><option value="">Toutes occasions</option></select><button class="btn btn-primary btn-glow" id="btn-add-gift"><span class="btn-content"><i class="fas fa-plus"></i> Ajouter</span><span class="btn-shimmer"></span></button></div></div>
            <div class="stats-grid" id="gifts-stats"></div>
            <div class="gifts-grid" id="gifts-grid"><p class="empty-state" id="gifts-empty"><span class="empty-state-icon"><i class="fas fa-gift"></i></span>Aucun cadeau enregistré.</p></div>
        </section>

        <!-- ==================== WINE VIEW ==================== -->
        <section id="view-wine" class="view">
            <div class="view-toolbar"><h2>🍷 Cave à vin</h2><div class="toolbar-actions"><input type="search" id="wine-search" class="search-input" placeholder="Rechercher..."><select id="wine-filter-type"><option value="">Tous types</option></select><select id="wine-filter-region"><option value="">Toutes régions</option></select><button class="btn btn-primary btn-glow" id="btn-add-wine"><span class="btn-content"><i class="fas fa-plus"></i> Ajouter</span><span class="btn-shimmer"></span></button></div></div>
            <div class="stats-grid" id="wine-stats"></div>
            <div class="wine-grid" id="wine-grid"><p class="empty-state" id="wine-empty"><span class="empty-state-icon"><i class="fas fa-wine-bottle"></i></span>Aucun vin dans la cave.</p></div>
        </section>

        <!-- ==================== PODCASTS VIEW ==================== -->
        <section id="view-podcasts" class="view">
            <div class="view-toolbar"><h2>📻 Podcasts</h2><div class="toolbar-actions"><input type="search" id="podcasts-search" class="search-input" placeholder="Rechercher..."><select id="podcasts-filter-status"><option value="">Tous statuts</option></select><select id="podcasts-filter-category"><option value="">Toutes catégories</option></select><button class="btn btn-primary btn-glow" id="btn-add-podcast"><span class="btn-content"><i class="fas fa-plus"></i> Ajouter</span><span class="btn-shimmer"></span></button></div></div>
            <div class="stats-grid" id="podcasts-stats"></div>
            <div class="podcasts-grid" id="podcasts-grid"><p class="empty-state" id="podcasts-empty"><span class="empty-state-icon"><i class="fas fa-podcast"></i></span>Aucun podcast enregistré.</p></div>
        </section>

        <!-- ==================== CLEANING VIEW ==================== -->
        <section id="view-cleaning" class="view">
            <div class="view-toolbar"><h2>🧹 Ménage</h2><div class="toolbar-actions"><input type="search" id="cleaning-search" class="search-input" placeholder="Rechercher..."><select id="cleaning-filter-room"><option value="">Toutes pièces</option></select><select id="cleaning-filter-frequency"><option value="">Toutes fréquences</option></select><button class="btn btn-primary btn-glow" id="btn-add-cleaning"><span class="btn-content"><i class="fas fa-plus"></i> Ajouter</span><span class="btn-shimmer"></span></button></div></div>
            <div class="stats-grid" id="cleaning-stats"></div>
            <div class="cleaning-grid" id="cleaning-grid"><p class="empty-state" id="cleaning-empty"><span class="empty-state-icon"><i class="fas fa-broom"></i></span>Aucune tâche ménagère.</p></div>
        </section>

        <!-- ==================== ALBUMS VIEW ==================== -->
        <section id="view-albums" class="view">
            <div class="view-toolbar"><h2>📸 Albums photo</h2><div class="toolbar-actions"><input type="search" id="albums-search" class="search-input" placeholder="Rechercher..."><select id="albums-filter-category"><option value="">Toutes catégories</option></select><button class="btn btn-primary btn-glow" id="btn-add-album"><span class="btn-content"><i class="fas fa-plus"></i> Ajouter</span><span class="btn-shimmer"></span></button></div></div>
            <div class="stats-grid" id="albums-stats"></div>
            <div class="albums-grid" id="albums-grid"><p class="empty-state" id="albums-empty"><span class="empty-state-icon"><i class="fas fa-images"></i></span>Aucun album photo.</p></div>
        </section>

        <!-- ==================== MEDICATIONS VIEW ==================== -->
        <section id="view-medications" class="view">
            <div class="view-toolbar"><h2>💊 Médicaments</h2><div class="toolbar-actions"><input type="search" id="medications-search" class="search-input" placeholder="Rechercher..."><select id="medications-filter-status"><option value="">Tous statuts</option></select><select id="medications-filter-type"><option value="">Tous types</option></select><button class="btn btn-primary btn-glow" id="btn-add-medication"><span class="btn-content"><i class="fas fa-plus"></i> Ajouter</span><span class="btn-shimmer"></span></button></div></div>
            <div class="stats-grid" id="medications-stats"></div>
            <div class="medications-grid" id="medications-grid"><p class="empty-state" id="medications-empty"><span class="empty-state-icon"><i class="fas fa-pills"></i></span>Aucun médicament enregistré.</p></div>
        </section>

        <!-- ==================== WISHLIST VIEW ==================== -->
        <section id="view-wishlist" class="view">
            <div class="view-toolbar"><h2>⭐ Wishlist</h2><div class="toolbar-actions"><input type="search" id="wishlist-search" class="search-input" placeholder="Rechercher..."><select id="wishlist-filter-status"><option value="">Tous statuts</option></select><select id="wishlist-filter-category"><option value="">Toutes catégories</option></select><select id="wishlist-filter-priority"><option value="">Toutes priorités</option></select><button class="btn btn-primary btn-glow" id="btn-add-wishlist"><span class="btn-content"><i class="fas fa-plus"></i> Ajouter</span><span class="btn-shimmer"></span></button></div></div>
            <div class="stats-grid" id="wishlist-stats"></div>
            <div class="wishlist-grid" id="wishlist-grid"><p class="empty-state" id="wishlist-empty"><span class="empty-state-icon"><i class="fas fa-star"></i></span>Aucun souhait enregistré.</p></div>
        </section>

        <!-- ==================== DOCUMENTS VIEW ==================== -->
        <section id="view-documents" class="view">
            <div class="view-toolbar"><h2>📝 Documents</h2><div class="toolbar-actions"><input type="search" id="documents-search" class="search-input" placeholder="Rechercher..."><select id="documents-filter-status"><option value="">Tous statuts</option></select><select id="documents-filter-type"><option value="">Tous types</option></select><button class="btn btn-primary btn-glow" id="btn-add-document"><span class="btn-content"><i class="fas fa-plus"></i> Ajouter</span><span class="btn-shimmer"></span></button></div></div>
            <div class="stats-grid" id="documents-stats"></div>
            <div class="documents-grid" id="documents-grid"><p class="empty-state" id="documents-empty"><span class="empty-state-icon"><i class="fas fa-file-alt"></i></span>Aucun document enregistré.</p></div>
        </section>

        <!-- ==================== COLLECTIONS VIEW ==================== -->
        <section id="view-collections" class="view">
            <div class="view-toolbar"><h2>🎨 Collections</h2><div class="toolbar-actions"><input type="search" id="collections-search" class="search-input" placeholder="Rechercher..."><select id="collections-filter-type"><option value="">Tous types</option></select><select id="collections-filter-rarity"><option value="">Toutes raretés</option></select><button class="btn btn-primary btn-glow" id="btn-add-collection"><span class="btn-content"><i class="fas fa-plus"></i> Ajouter</span><span class="btn-shimmer"></span></button></div></div>
            <div class="stats-grid" id="collections-stats"></div>
            <div class="collections-grid" id="collections-grid"><p class="empty-state" id="collections-empty"><span class="empty-state-icon"><i class="fas fa-palette"></i></span>Aucune collection enregistrée.</p></div>
        </section>

        <!-- ==================== TRADES VIEW ==================== -->
        <section id="view-trades" class="view">
            <div class="view-toolbar"><h2>📊 Journal de Trading</h2><div class="toolbar-actions"><input type="search" id="trades-search" class="search-input" placeholder="Rechercher..."><select id="trades-filter-instrument"><option value="">Tous instruments</option></select><select id="trades-filter-status"><option value="">Tous statuts</option></select><select id="trades-filter-direction"><option value="">Toutes directions</option></select><button class="btn btn-primary btn-glow" id="btn-add-trade"><span class="btn-content"><i class="fas fa-plus"></i> Nouveau Trade</span><span class="btn-shimmer"></span></button></div></div>
            <div class="stats-grid" id="trades-stats"></div>
            <div class="trades-grid" id="trades-grid"><p class="empty-state" id="trades-empty"><span class="empty-state-icon"><i class="fas fa-chart-line"></i></span>Aucun trade enregistré.</p></div>
        </section>

        <!-- ==================== PORTFOLIO VIEW ==================== -->
        <section id="view-portfolio" class="view">
            <div class="view-toolbar"><h2>💼 Portefeuille</h2><div class="toolbar-actions"><input type="search" id="portfolio-search" class="search-input" placeholder="Rechercher..."><select id="portfolio-filter-type"><option value="">Tous types</option></select><select id="portfolio-filter-sector"><option value="">Tous secteurs</option></select><button class="btn btn-primary btn-glow" id="btn-add-position"><span class="btn-content"><i class="fas fa-plus"></i> Nouvelle Position</span><span class="btn-shimmer"></span></button></div></div>
            <div class="stats-grid" id="portfolio-stats"></div>
            <div class="portfolio-grid" id="portfolio-grid"><p class="empty-state" id="portfolio-empty"><span class="empty-state-icon"><i class="fas fa-briefcase"></i></span>Aucune position dans le portefeuille.</p></div>
        </section>

        <!-- ==================== TRADING WATCHLIST VIEW ==================== -->
        <section id="view-trading-watchlist" class="view">
            <div class="view-toolbar"><h2>🔭 Surveillance Trading</h2><div class="toolbar-actions"><input type="search" id="twatchlist-search" class="search-input" placeholder="Rechercher..."><select id="twatchlist-filter-type"><option value="">Tous types</option></select><select id="twatchlist-filter-signal"><option value="">Tous signaux</option></select><button class="btn btn-primary btn-glow" id="btn-add-twatchlist"><span class="btn-content"><i class="fas fa-plus"></i> Ajouter</span><span class="btn-shimmer"></span></button></div></div>
            <div class="stats-grid" id="twatchlist-stats"></div>
            <div class="twatchlist-grid" id="twatchlist-grid"><p class="empty-state" id="twatchlist-empty"><span class="empty-state-icon"><i class="fas fa-binoculars"></i></span>Aucun actif en surveillance.</p></div>
        </section>

        <!-- ==================== REPORTS VIEW ==================== -->
        <section id="view-reports" class="view">
            <div class="view-toolbar">
                <h2>Rapports & Analyses</h2>
                <div class="toolbar-actions">
                    <select id="report-year" class="form-control"></select>
                    <button id="btn-export-report" class="btn btn-outline"><i class="fas fa-file-pdf"></i> Exporter</button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card stat-income"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-arrow-down"></i></div><div class="stat-info"><span class="stat-label">Revenus annuels</span><span class="stat-value" id="report-annual-income">0,00 MAD</span></div><div class="stat-decoration"><i class="fas fa-coins"></i></div></div>
                <div class="stat-card stat-expense"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-arrow-up"></i></div><div class="stat-info"><span class="stat-label">Dépenses annuelles</span><span class="stat-value" id="report-annual-expense">0,00 MAD</span></div><div class="stat-decoration"><i class="fas fa-shopping-cart"></i></div></div>
                <div class="stat-card stat-balance"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-piggy-bank"></i></div><div class="stat-info"><span class="stat-label">Épargne nette</span><span class="stat-value" id="report-annual-savings">0,00 MAD</span></div><div class="stat-decoration"><i class="fas fa-chart-line"></i></div></div>
                <div class="stat-card stat-budget"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-percentage"></i></div><div class="stat-info"><span class="stat-label">Taux d'épargne</span><span class="stat-value" id="report-savings-rate">0 %</span></div><div class="stat-decoration"><i class="fas fa-trophy"></i></div></div>
            </div>
            <div class="charts-row">
                <div class="card chart-card glass-card"><div class="card-header"><h2><i class="fas fa-chart-line"></i> Revenus vs Dépenses (annuel)</h2></div><div class="card-body chart-container"><canvas id="chart-report-annual"></canvas></div></div>
                <div class="card chart-card glass-card"><div class="card-header"><h2><i class="fas fa-chart-pie"></i> Répartition annuelle par catégorie</h2></div><div class="card-body chart-container"><canvas id="chart-report-category"></canvas></div></div>
            </div>
            <div class="card glass-card"><div class="card-header"><h2><i class="fas fa-table"></i> Détail mensuel</h2></div><div class="card-body table-responsive"><table class="data-table" id="report-monthly-table"><thead><tr><th>Mois</th><th>Revenus</th><th>Dépenses</th><th>Budget prévu</th><th>Écart</th><th>Solde</th></tr></thead><tbody id="report-monthly-body"></tbody><tfoot id="report-monthly-footer"></tfoot></table></div></div>
            <div class="card glass-card"><div class="card-header"><h2><i class="fas fa-th"></i> Écarts Budget vs Réel par catégorie</h2></div><div class="card-body table-responsive"><table class="data-table" id="report-variance-table"><thead><tr><th>Catégorie</th><th>Budget total</th><th>Dépensé total</th><th>Écart (MAD)</th><th>Écart (%)</th><th>Statut</th></tr></thead><tbody id="report-variance-body"></tbody></table></div></div>
        </section>

        <!-- ==================== AUDIT VIEW ==================== -->
        <section id="view-audit" class="view">
            <div class="view-toolbar">
                <h2>Journal d'audit</h2>
                <div class="toolbar-actions">
                    <button id="btn-clear-audit" class="btn btn-danger btn-sm"><i class="fas fa-trash"></i> Vider le journal</button>
                    <button id="btn-export-audit" class="btn btn-outline btn-sm"><i class="fas fa-download"></i> Exporter</button>
                </div>
            </div>
            <div class="card glass-card">
                <div class="card-body filters-bar">
                    <div class="form-group"><label for="audit-filter-action">Action</label><select id="audit-filter-action"><option value="">Toutes</option><option value="create">Création</option><option value="update">Modification</option><option value="delete">Suppression</option></select></div>
                    <div class="form-group"><label for="audit-filter-entity">Entité</label><select id="audit-filter-entity"><option value="">Toutes</option><option value="transaction">Transaction</option><option value="budget">Budget</option><option value="category">Catégorie</option><option value="goal">Objectif</option><option value="recurring">Récurrence</option><option value="inventory">Inventaire</option><option value="book">Livre</option><option value="workout">Entraînement</option><option value="recipe">Recette</option><option value="note">Note</option><option value="habit">Habitude</option><option value="contact">Contact</option><option value="movie">Film/Série</option><option value="trip">Voyage</option><option value="plant">Plante</option><option value="music">Musique</option><option value="vehicle">Véhicule</option><option value="health">Santé</option><option value="event">Événement</option><option value="pet">Animal</option><option value="course">Cours</option><option value="sleep">Sommeil</option><option value="home_task">Maison</option><option value="game">Jeu</option><option value="wardrobe">Vêtement</option><option value="package">Colis</option><option value="idea">Idée</option><option value="project">Projet</option><option value="password">Mot de passe</option><option value="subscription">Abonnement</option><option value="gift">Cadeau</option><option value="wine">Vin</option><option value="podcast">Podcast</option><option value="cleaning">Ménage</option><option value="album">Album</option><option value="medication">Médicament</option><option value="wishlist">Souhait</option><option value="document">Document</option><option value="collection">Collection</option><option value="trade">Trade</option><option value="portfolio">Portfolio</option><option value="watchlist_trading">Watchlist Trading</option></select></div>
                </div>
            </div>
            <div class="card glass-card">
                <div class="card-body">
                    <div class="audit-timeline" id="audit-timeline">
                        <p class="empty-state"><span class="empty-state-icon"><i class="fas fa-history"></i></span>Aucune entrée dans le journal</p>
                    </div>
                    <div class="pagination" id="audit-pagination"></div>
                </div>
            </div>
        </section>

        <!-- ==================== SPIRITUAL OVERVIEW VIEW ==================== -->
        <section id="view-spiritual" class="view">
            <div class="view-toolbar">
                <h2>Vie Spirituelle</h2>
                <div class="toolbar-actions">
                    <button class="btn btn-outline" onclick="App._navigateTo('bible')"><i class="fas fa-bible"></i> Lire la Bible</button>
                    <button class="btn btn-primary btn-glow" onclick="App._navigateTo('prayer')"><span class="btn-content"><i class="fas fa-pray"></i> Prier</span><span class="btn-shimmer"></span></button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon" style="color:#A78BFA"><i class="fas fa-pray"></i></div><div class="stat-info"><span class="stat-label">Prières</span><span class="stat-value" id="spiritual-stat-prayers">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon" style="color:#22C55E"><i class="fas fa-check-circle"></i></div><div class="stat-info"><span class="stat-label">Exaucées</span><span class="stat-value" id="spiritual-stat-answered">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon" style="color:#F59E0B"><i class="fas fa-heart"></i></div><div class="stat-info"><span class="stat-label">Gratitudes</span><span class="stat-value" id="spiritual-stat-gratitude">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon" style="color:#EC4899"><i class="fas fa-fire"></i></div><div class="stat-info"><span class="stat-label">Série gratitude</span><span class="stat-value" id="spiritual-stat-streak">0 j</span></div></div>
            </div>
            <!-- Daily Verse -->
            <div class="module-card" style="margin-bottom:1.5rem">
                <div class="module-card-header">
                    <h3><i class="fas fa-quote-right" style="color:#A78BFA"></i> Verset du jour</h3>
                </div>
                <div class="module-card-body" id="spiritual-daily-verse">
                    <div class="daily-verse-reference">Chargement…</div>
                </div>
            </div>
            <div class="spiritual-two-col">
                <div class="module-card">
                    <div class="module-card-header">
                        <h3><i class="fas fa-pray" style="color:#A78BFA"></i> Prières récentes</h3>
                        <button class="btn btn-sm btn-outline" onclick="App._navigateTo('prayer')">Voir tout</button>
                    </div>
                    <div class="module-card-body" id="spiritual-recent-prayers"></div>
                </div>
                <div class="module-card">
                    <div class="module-card-header">
                        <h3><i class="fas fa-heart" style="color:#F59E0B"></i> Gratitude récente</h3>
                        <button class="btn btn-sm btn-outline" onclick="App._navigateTo('gratitude')">Voir tout</button>
                    </div>
                    <div class="module-card-body" id="spiritual-recent-gratitude"></div>
                </div>
            </div>
        </section>

        <!-- ==================== BIBLE VIEW ==================== -->
        <section id="view-bible" class="view">
            <div class="view-toolbar">
                <h2><i class="fas fa-bible" style="color:#A78BFA"></i> Bible <span style="color:var(--text-muted);font-weight:400;font-size:0.9rem">Nouvelle Bible Segond</span></h2>
                <div class="toolbar-actions">
                    <button id="bible-font-dec" class="btn btn-outline btn-sm" title="Réduire la police"><b>A−</b></button>
                    <button id="bible-font-inc" class="btn btn-outline btn-sm" title="Agrandir la police"><b>A+</b></button>
                    <button id="bible-mark-read" class="btn btn-sm btn-success"><i class="fas fa-check-circle"></i> Marquer lu</button>
                </div>
            </div>
            <!-- Tabs -->
            <div class="bible-tabs">
                <button class="bible-tab-btn active" data-tab="read"><i class="fas fa-book-open"></i> Lecture</button>
                <button class="bible-tab-btn" data-tab="favorites"><i class="fas fa-star"></i> Favoris</button>
                <button class="bible-tab-btn" data-tab="plan"><i class="fas fa-calendar-alt"></i> Plan annuel</button>
                <button class="bible-tab-btn" data-tab="progress"><i class="fas fa-chart-bar"></i> Progrès</button>
            </div>
            <!-- Reading Panel -->
            <div class="bible-tab-panel active" id="bible-panel-read">
                <div class="bible-controls">
                    <button id="bible-btn-prev" class="btn btn-outline"><i class="fas fa-chevron-left"></i></button>
                    <select id="bible-book-select" class="form-control bible-book-sel"></select>
                    <select id="bible-chapter-select" class="form-control bible-chap-sel"></select>
                    <button id="bible-btn-next" class="btn btn-outline"><i class="fas fa-chevron-right"></i></button>
                    <div class="bible-search-wrap">
                        <input type="text" id="bible-search-input" class="form-control" placeholder="Chercher dans le chapitre…">
                        <button id="bible-search-btn" class="btn btn-outline btn-sm"><i class="fas fa-search"></i></button>
                        <button id="bible-search-clear" class="btn btn-outline btn-sm" style="display:none"><i class="fas fa-times"></i></button>
                    </div>
                </div>
                <div class="bible-reader-wrap">
                    <h3 id="bible-chapter-title" class="bible-chapter-title"></h3>
                    <div id="bible-verses-container" class="bible-verses-container">
                        <div class="bible-loading"><i class="fas fa-spinner fa-spin"></i> Chargement…</div>
                    </div>
                </div>
            </div>
            <!-- Favorites Panel -->
            <div class="bible-tab-panel" id="bible-panel-favorites">
                <div id="bible-favorites-container" style="padding-top:1rem"></div>
            </div>
            <!-- Annual Plan Panel -->
            <div class="bible-tab-panel" id="bible-panel-plan">
                <div id="bible-plan-container" style="padding-top:1rem"></div>
            </div>
            <!-- Progress Panel -->
            <div class="bible-tab-panel" id="bible-panel-progress">
                <div id="bible-progress-container" style="padding-top:1rem"></div>
            </div>
        </section>

        <!-- ==================== PRAYER VIEW ==================== -->
        <section id="view-prayer" class="view">
            <div class="view-toolbar">
                <h2>Journal de Prière</h2>
                <div class="toolbar-actions">
                    <select id="prayer-filter-status" class="form-control" style="width:auto">
                        <option value="all">Toutes</option>
                        <option value="active">En attente</option>
                        <option value="answered">Exaucées</option>
                    </select>
                    <button id="btn-add-prayer" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Nouvelle prière</span><span class="btn-shimmer"></span></button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-pray"></i></div><div class="stat-info"><span class="stat-label">Total</span><span class="stat-value" id="prayer-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-check-circle"></i></div><div class="stat-info"><span class="stat-label">Exaucées</span><span class="stat-value" id="prayer-stat-answered">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-clock"></i></div><div class="stat-info"><span class="stat-label">En attente</span><span class="stat-value" id="prayer-stat-active">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-percentage"></i></div><div class="stat-info"><span class="stat-label">Taux de réponse</span><span class="stat-value" id="prayer-stat-rate">0%</span></div></div>
            </div>
            <div id="prayer-list" class="prayer-list"></div>
        </section>

        <!-- ==================== GRATITUDE VIEW ==================== -->
        <section id="view-gratitude" class="view">
            <div class="view-toolbar">
                <h2>Journal de Gratitude</h2>
                <div class="toolbar-actions">
                    <input type="date" id="gratitude-filter-date" class="form-control" style="width:auto" title="Filtrer par date">
                    <button id="btn-add-gratitude" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-plus"></i> Ajouter une gratitude</span><span class="btn-shimmer"></span></button>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon">🙏</div><div class="stat-info"><span class="stat-label">Total</span><span class="stat-value" id="gratitude-stat-total">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon">✨</div><div class="stat-info"><span class="stat-label">Aujourd'hui</span><span class="stat-value" id="gratitude-stat-today">0</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-fire"></i></div><div class="stat-info"><span class="stat-label">Série actuelle</span><span class="stat-value" id="gratitude-stat-streak">0 j</span></div></div>
                <div class="stat-card"><div class="stat-card-bg"></div><div class="stat-icon"><i class="fas fa-calendar"></i></div><div class="stat-info"><span class="stat-label">Jours actifs</span><span class="stat-value" id="gratitude-stat-days">0</span></div></div>
            </div>
            <div id="gratitude-list" class="gratitude-list"></div>
        </section>

        <!-- ==================== SETTINGS VIEW ==================== -->
        <section id="view-settings" class="view">
            <div class="view-toolbar">
                <h2><i class="fas fa-cog"></i> Paramètres</h2>
            </div>
            <div id="settings-content" class="settings-container">
                <p class="empty-state-sm">Chargement des paramètres...</p>
            </div>
        </section>

    </main>

    <!-- ==================== MODALS ==================== -->
    <!-- Transaction Modal -->
    <div class="modal-overlay" id="modal-transaction"><div class="modal"><div class="modal-header"><h3 id="modal-transaction-title"><i class="fas fa-exchange-alt"></i> Nouvelle transaction</h3><button class="modal-close" data-close="modal-transaction"><i class="fas fa-times"></i></button></div><form id="transaction-form"><div class="modal-body">
        <input type="hidden" id="transaction-id">
        <div class="form-row"><div class="form-group"><label for="transaction-type">Type *</label><div class="toggle-group"><label class="toggle-option active" data-value="expense"><input type="radio" name="transaction-type" value="expense" checked><i class="fas fa-arrow-up"></i> Dépense</label><label class="toggle-option" data-value="income"><input type="radio" name="transaction-type" value="income"><i class="fas fa-arrow-down"></i> Revenu</label></div></div></div>
        <div class="form-row"><div class="form-group"><label for="transaction-amount">Montant (MAD) *</label><input type="number" id="transaction-amount" step="0.01" min="0.01" required placeholder="0,00"></div><div class="form-group"><label for="transaction-date">Date *</label><input type="date" id="transaction-date" required></div></div>
        <div class="form-row"><div class="form-group"><label for="transaction-category">Catégorie *</label><select id="transaction-category" required><option value="">— Sélectionner —</option></select></div></div>
        <div class="form-group"><label for="transaction-description">Description *</label><input type="text" id="transaction-description" required placeholder="Description de la transaction"></div>
        <div class="form-group"><label for="transaction-notes">Notes</label><textarea id="transaction-notes" rows="2" placeholder="Notes additionnelles..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-transaction">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Category Modal -->
    <div class="modal-overlay" id="modal-category"><div class="modal"><div class="modal-header"><h3 id="modal-category-title"><i class="fas fa-tags"></i> Nouvelle catégorie</h3><button class="modal-close" data-close="modal-category"><i class="fas fa-times"></i></button></div><form id="category-form"><div class="modal-body">
        <input type="hidden" id="category-id">
        <div class="form-group"><label for="category-name">Nom *</label><input type="text" id="category-name" required placeholder="Nom de la catégorie"></div>
        <div class="form-group"><label for="category-type">Type *</label><select id="category-type" required><option value="expense">Dépense</option><option value="income">Revenu</option><option value="both">Les deux</option></select></div>
        <div class="form-group"><label for="category-icon">Icône</label><div class="icon-picker" id="icon-picker">
            <div class="icon-option selected" data-icon="fas fa-shopping-cart"><i class="fas fa-shopping-cart"></i></div>
            <div class="icon-option" data-icon="fas fa-home"><i class="fas fa-home"></i></div>
            <div class="icon-option" data-icon="fas fa-car"><i class="fas fa-car"></i></div>
            <div class="icon-option" data-icon="fas fa-utensils"><i class="fas fa-utensils"></i></div>
            <div class="icon-option" data-icon="fas fa-heartbeat"><i class="fas fa-heartbeat"></i></div>
            <div class="icon-option" data-icon="fas fa-graduation-cap"><i class="fas fa-graduation-cap"></i></div>
            <div class="icon-option" data-icon="fas fa-plane"><i class="fas fa-plane"></i></div>
            <div class="icon-option" data-icon="fas fa-gamepad"><i class="fas fa-gamepad"></i></div>
            <div class="icon-option" data-icon="fas fa-tshirt"><i class="fas fa-tshirt"></i></div>
            <div class="icon-option" data-icon="fas fa-bolt"><i class="fas fa-bolt"></i></div>
            <div class="icon-option" data-icon="fas fa-phone"><i class="fas fa-phone"></i></div>
            <div class="icon-option" data-icon="fas fa-wifi"><i class="fas fa-wifi"></i></div>
            <div class="icon-option" data-icon="fas fa-baby"><i class="fas fa-baby"></i></div>
            <div class="icon-option" data-icon="fas fa-dog"><i class="fas fa-dog"></i></div>
            <div class="icon-option" data-icon="fas fa-gift"><i class="fas fa-gift"></i></div>
            <div class="icon-option" data-icon="fas fa-briefcase"><i class="fas fa-briefcase"></i></div>
            <div class="icon-option" data-icon="fas fa-money-bill-wave"><i class="fas fa-money-bill-wave"></i></div>
            <div class="icon-option" data-icon="fas fa-piggy-bank"><i class="fas fa-piggy-bank"></i></div>
            <div class="icon-option" data-icon="fas fa-hand-holding-usd"><i class="fas fa-hand-holding-usd"></i></div>
            <div class="icon-option" data-icon="fas fa-film"><i class="fas fa-film"></i></div>
            <div class="icon-option" data-icon="fas fa-dumbbell"><i class="fas fa-dumbbell"></i></div>
            <div class="icon-option" data-icon="fas fa-tools"><i class="fas fa-tools"></i></div>
            <div class="icon-option" data-icon="fas fa-bus"><i class="fas fa-bus"></i></div>
            <div class="icon-option" data-icon="fas fa-coffee"><i class="fas fa-coffee"></i></div>
        </div></div>
        <div class="form-group"><label for="category-color">Couleur</label><div class="color-picker" id="color-picker">
            <div class="color-option selected" data-color="#2563EB" style="background:#2563EB"></div>
            <div class="color-option" data-color="#0EA5E9" style="background:#0EA5E9"></div>
            <div class="color-option" data-color="#10B981" style="background:#10B981"></div>
            <div class="color-option" data-color="#F59E0B" style="background:#F59E0B"></div>
            <div class="color-option" data-color="#EF4444" style="background:#EF4444"></div>
            <div class="color-option" data-color="#7C3AED" style="background:#7C3AED"></div>
            <div class="color-option" data-color="#E11D48" style="background:#E11D48"></div>
            <div class="color-option" data-color="#06B6D4" style="background:#06B6D4"></div>
            <div class="color-option" data-color="#84CC16" style="background:#84CC16"></div>
            <div class="color-option" data-color="#F97316" style="background:#F97316"></div>
            <div class="color-option" data-color="#3B82F6" style="background:#3B82F6"></div>
            <div class="color-option" data-color="#14B8A6" style="background:#14B8A6"></div>
        </div></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-category">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Recurring Modal -->
    <div class="modal-overlay" id="modal-recurring"><div class="modal"><div class="modal-header"><h3 id="modal-recurring-title"><i class="fas fa-redo"></i> Nouvelle récurrence</h3><button class="modal-close" data-close="modal-recurring"><i class="fas fa-times"></i></button></div><form id="recurring-form"><div class="modal-body">
        <input type="hidden" id="recurring-id">
        <div class="form-row"><div class="form-group"><label for="recurring-type">Type *</label><select id="recurring-type" required><option value="expense">Dépense</option><option value="income">Revenu</option></select></div><div class="form-group"><label for="recurring-category">Catégorie *</label><select id="recurring-category" required><option value="">— Sélectionner —</option></select></div></div>
        <div class="form-group"><label for="recurring-description">Description *</label><input type="text" id="recurring-description" required placeholder="Ex: Loyer mensuel"></div>
        <div class="form-row"><div class="form-group"><label for="recurring-amount">Montant (MAD) *</label><input type="number" id="recurring-amount" step="0.01" min="0.01" required placeholder="0,00"></div><div class="form-group"><label for="recurring-frequency">Fréquence *</label><select id="recurring-frequency" required><option value="weekly">Hebdomadaire</option><option value="monthly" selected>Mensuelle</option><option value="quarterly">Trimestrielle</option><option value="yearly">Annuelle</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="recurring-start">Date de début *</label><input type="date" id="recurring-start" required></div><div class="form-group"><label for="recurring-end">Date de fin (optionnel)</label><input type="date" id="recurring-end"></div></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-recurring">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Goal Modal -->
    <div class="modal-overlay" id="modal-goal"><div class="modal"><div class="modal-header"><h3 id="modal-goal-title"><i class="fas fa-trophy"></i> Nouvel objectif</h3><button class="modal-close" data-close="modal-goal"><i class="fas fa-times"></i></button></div><form id="goal-form"><div class="modal-body">
        <input type="hidden" id="goal-id">
        <div class="form-group"><label for="goal-name">Nom de l'objectif *</label><input type="text" id="goal-name" required placeholder="Ex: Vacances été 2026"></div>
        <div class="form-row"><div class="form-group"><label for="goal-target">Montant cible (MAD) *</label><input type="number" id="goal-target" step="0.01" min="1" required placeholder="0,00"></div><div class="form-group"><label for="goal-current">Montant actuel (MAD)</label><input type="number" id="goal-current" step="0.01" min="0" value="0" placeholder="0,00"></div></div>
        <div class="form-row"><div class="form-group"><label for="goal-deadline">Échéance</label><input type="date" id="goal-deadline"></div><div class="form-group"><label for="goal-color">Couleur</label><input type="color" id="goal-color" value="#2563EB"></div></div>
        <div class="form-group"><label for="goal-notes">Notes</label><textarea id="goal-notes" rows="2" placeholder="Description de l'objectif..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-goal">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Inventory Item Modal -->
    <div class="modal-overlay" id="modal-inventory"><div class="modal modal-lg"><div class="modal-header"><h3 id="modal-inventory-title"><i class="fas fa-box"></i> Nouvel article</h3><button class="modal-close" data-close="modal-inventory"><i class="fas fa-times"></i></button></div><form id="inventory-form"><div class="modal-body">
        <input type="hidden" id="inv-item-id">
        <div class="form-row">
            <div class="form-group"><label for="inv-item-name">Nom de l'article *</label><input type="text" id="inv-item-name" required placeholder="Ex: Riz, Huile d'olive, Savon..."></div>
            <div class="form-group"><label for="inv-item-category">Catégorie *</label><select id="inv-item-category" required>
                <option value="alimentaire">🍎 Alimentaire</option>
                <option value="hygiene">🧴 Hygiène</option>
                <option value="menage">🧹 Ménage</option>
                <option value="electronique">💡 Électronique</option>
                <option value="vetements">👕 Vêtements</option>
                <option value="autre">📦 Autre</option>
            </select></div>
        </div>
        <div class="form-row">
            <div class="form-group"><label for="inv-item-quantity">Quantité *</label><input type="number" id="inv-item-quantity" step="0.01" min="0" required placeholder="0"></div>
            <div class="form-group"><label for="inv-item-unit">Unité *</label><select id="inv-item-unit" required>
                <option value="pièces">Pièces</option>
                <option value="kg">Kilogrammes (kg)</option>
                <option value="g">Grammes (g)</option>
                <option value="L">Litres (L)</option>
                <option value="mL">Millilitres (mL)</option>
                <option value="paquets">Paquets</option>
                <option value="boîtes">Boîtes</option>
                <option value="bouteilles">Bouteilles</option>
            </select></div>
        </div>
        <div class="form-row">
            <div class="form-group"><label for="inv-item-price">Prix unitaire (MAD)</label><input type="number" id="inv-item-price" step="0.01" min="0" placeholder="0,00"></div>
            <div class="form-group"><label for="inv-item-min-qty">Quantité minimale</label><input type="number" id="inv-item-min-qty" step="0.01" min="0" placeholder="Seuil d'alerte"></div>
        </div>
        <div class="form-row">
            <div class="form-group"><label for="inv-item-purchase-date">Date d'achat</label><input type="date" id="inv-item-purchase-date"></div>
            <div class="form-group"><label for="inv-item-expiry-date">Date d'expiration</label><input type="date" id="inv-item-expiry-date"></div>
        </div>
        <div class="form-row">
            <div class="form-group"><label for="inv-item-duration">Durée prévue (jours)</label><input type="number" id="inv-item-duration" min="1" placeholder="Ex: 30 jours"></div>
            <div class="form-group"><label for="inv-item-location">Emplacement</label><input type="text" id="inv-item-location" placeholder="Ex: Cuisine, Réfrigérateur, Salle de bain..."></div>
        </div>
        <div class="form-group"><label for="inv-item-notes">Notes</label><textarea id="inv-item-notes" rows="2" placeholder="Notes additionnelles..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-inventory">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Book Modal -->
    <div class="modal-overlay" id="modal-book"><div class="modal"><div class="modal-header"><h3 id="modal-book-title"><i class="fas fa-book"></i> Nouveau livre</h3><button class="modal-close" data-close="modal-book"><i class="fas fa-times"></i></button></div><form id="book-form"><div class="modal-body">
        <input type="hidden" id="book-id">
        <div class="form-group"><label for="book-title"><i class="fas fa-heading"></i> Titre *</label><input type="text" id="book-title" required placeholder="Titre du livre"></div>
        <div class="form-row">
            <div class="form-group"><label for="book-author"><i class="fas fa-user-edit"></i> Auteur</label><input type="text" id="book-author" placeholder="Nom de l'auteur"></div>
            <div class="form-group"><label for="book-genre"><i class="fas fa-layer-group"></i> Genre</label><select id="book-genre">
                <option value="roman">📖 Roman</option>
                <option value="fiction">📚 Fiction</option>
                <option value="non-fiction">📰 Non-fiction</option>
                <option value="science">🔬 Science</option>
                <option value="histoire">🏛️ Histoire</option>
                <option value="philosophie">💭 Philosophie</option>
                <option value="religion">🕌 Religion</option>
                <option value="biographie">👤 Biographie</option>
                <option value="developpement">🧠 Développement personnel</option>
                <option value="business">💼 Business</option>
                <option value="technologie">💻 Technologie</option>
                <option value="poesie">✨ Poésie</option>
                <option value="manga">🎌 Manga / BD</option>
                <option value="cuisine">🍳 Cuisine</option>
                <option value="voyage">✈️ Voyage</option>
                <option value="enfants">🧒 Enfants</option>
                <option value="scolaire">🎓 Scolaire</option>
                <option value="autre">📄 Autre</option>
            </select></div>
        </div>
        <div class="form-row">
            <div class="form-group"><label for="book-total-pages"><i class="fas fa-file-alt"></i> Nombre de pages</label><input type="number" id="book-total-pages" min="0" placeholder="Ex: 350"></div>
            <div class="form-group"><label for="book-current-page"><i class="fas fa-bookmark"></i> Page actuelle</label><input type="number" id="book-current-page" min="0" value="0" placeholder="0"></div>
        </div>
        <div class="form-row">
            <div class="form-group"><label for="book-status"><i class="fas fa-tasks"></i> Statut</label><select id="book-status">
                <option value="to-read">📋 À lire</option>
                <option value="reading">📖 En cours</option>
                <option value="finished">✅ Terminé</option>
                <option value="abandoned">❌ Abandonné</option>
            </select></div>
            <div class="form-group"><label for="book-rating"><i class="fas fa-star"></i> Note (0-5)</label><input type="number" id="book-rating" min="0" max="5" value="0" placeholder="0"></div>
        </div>
        <div class="form-row">
            <div class="form-group"><label for="book-start-date"><i class="fas fa-play"></i> Date de début</label><input type="date" id="book-start-date"></div>
            <div class="form-group"><label for="book-finish-date"><i class="fas fa-flag-checkered"></i> Date de fin</label><input type="date" id="book-finish-date"></div>
        </div>
        <div class="form-group"><label for="book-notes"><i class="fas fa-sticky-note"></i> Notes / Résumé</label><textarea id="book-notes" rows="3" placeholder="Vos notes, citations préférées, résumé..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-book">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Fitness Modal -->
    <div class="modal-overlay" id="modal-fitness"><div class="modal"><div class="modal-header"><h3 id="modal-fitness-title"><i class="fas fa-dumbbell"></i> Nouvel entraînement</h3><button class="modal-close" data-close="modal-fitness"><i class="fas fa-times"></i></button></div><form id="fitness-form"><div class="modal-body">
        <input type="hidden" id="workout-id">
        <div class="form-row">
            <div class="form-group"><label for="workout-title"><i class="fas fa-heading"></i> Titre *</label><input type="text" id="workout-title" required placeholder="Ex: Séance jambes"></div>
            <div class="form-group"><label for="workout-type"><i class="fas fa-running"></i> Type</label><select id="workout-type"><option value="strength">🏋️ Musculation</option><option value="cardio">🏃 Cardio</option><option value="flexibility">🧘 Souplesse</option><option value="sport">⚽ Sport</option><option value="swimming">🏊 Natation</option><option value="cycling">🚴 Cyclisme</option><option value="hiking">🥾 Randonnée</option><option value="other">💪 Autre</option></select></div>
        </div>
        <div class="form-row">
            <div class="form-group"><label for="workout-date"><i class="fas fa-calendar"></i> Date</label><input type="date" id="workout-date"></div>
            <div class="form-group"><label for="workout-duration"><i class="fas fa-clock"></i> Durée (min)</label><input type="number" id="workout-duration" min="0" placeholder="45"></div>
        </div>
        <div class="form-row">
            <div class="form-group"><label for="workout-calories"><i class="fas fa-fire"></i> Calories</label><input type="number" id="workout-calories" min="0" placeholder="300"></div>
            <div class="form-group"><label for="workout-mood"><i class="fas fa-smile"></i> Humeur (1-5)</label><select id="workout-mood"><option value="3">😐 Neutre</option><option value="1">😫 Terrible</option><option value="2">😕 Mauvais</option><option value="4">😊 Bien</option><option value="5">🔥 Excellent</option></select></div>
        </div>
        <div class="form-group"><label for="workout-exercises"><i class="fas fa-list"></i> Exercices</label><textarea id="workout-exercises" rows="3" placeholder="Ex: Squat 4x12, Leg press 3x15..."></textarea></div>
        <div class="form-group"><label for="workout-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="workout-notes" rows="2" placeholder="Sensations, observations..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-fitness">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Recipe Modal -->
    <div class="modal-overlay" id="modal-recipe"><div class="modal modal-lg"><div class="modal-header"><h3 id="modal-recipe-title"><i class="fas fa-utensils"></i> Nouvelle recette</h3><button class="modal-close" data-close="modal-recipe"><i class="fas fa-times"></i></button></div><form id="recipe-form"><div class="modal-body">
        <input type="hidden" id="recipe-id">
        <div class="form-row">
            <div class="form-group"><label for="recipe-title"><i class="fas fa-heading"></i> Titre *</label><input type="text" id="recipe-title" required placeholder="Ex: Tajine d'agneau"></div>
            <div class="form-group"><label for="recipe-category"><i class="fas fa-tag"></i> Catégorie</label><select id="recipe-category"><option value="plat">🍽️ Plat principal</option><option value="entree">🥗 Entrée</option><option value="dessert">🍰 Dessert</option><option value="soupe">🍜 Soupe</option><option value="salade">🥙 Salade</option><option value="snack">🥨 Snack</option><option value="boisson">🥤 Boisson</option><option value="pain">🥖 Pain & Pâtisserie</option><option value="sauce">🫙 Sauce</option><option value="autre">🍴 Autre</option></select></div>
        </div>
        <div class="form-row">
            <div class="form-group"><label for="recipe-cuisine"><i class="fas fa-globe"></i> Cuisine</label><input type="text" id="recipe-cuisine" placeholder="Ex: Marocaine, Italienne..."></div>
            <div class="form-group"><label for="recipe-difficulty"><i class="fas fa-signal"></i> Difficulté</label><select id="recipe-difficulty"><option value="easy">Facile</option><option value="medium" selected>Moyen</option><option value="hard">Difficile</option></select></div>
        </div>
        <div class="form-row">
            <div class="form-group"><label for="recipe-prep-time"><i class="fas fa-cut"></i> Prép. (min)</label><input type="number" id="recipe-prep-time" min="0" placeholder="20"></div>
            <div class="form-group"><label for="recipe-cook-time"><i class="fas fa-fire"></i> Cuisson (min)</label><input type="number" id="recipe-cook-time" min="0" placeholder="45"></div>
            <div class="form-group"><label for="recipe-servings"><i class="fas fa-users"></i> Portions</label><input type="number" id="recipe-servings" min="1" value="4"></div>
        </div>
        <div class="form-row">
            <div class="form-group"><label for="recipe-rating"><i class="fas fa-star"></i> Note (0-5)</label><input type="number" id="recipe-rating" min="0" max="5" value="0"></div>
        </div>
        <div class="form-group"><label for="recipe-ingredients"><i class="fas fa-carrot"></i> Ingrédients</label><textarea id="recipe-ingredients" rows="4" placeholder="- 500g d'agneau&#10;- 2 oignons&#10;- 3 tomates..."></textarea></div>
        <div class="form-group"><label for="recipe-steps"><i class="fas fa-list-ol"></i> Étapes de préparation</label><textarea id="recipe-steps" rows="5" placeholder="1. Couper les oignons...&#10;2. Faire revenir...&#10;3. Ajouter les épices..."></textarea></div>
        <div class="form-group"><label for="recipe-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="recipe-notes" rows="2" placeholder="Astuces, variantes..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-recipe">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Note Modal -->
    <div class="modal-overlay" id="modal-note"><div class="modal modal-lg"><div class="modal-header"><h3 id="modal-note-title"><i class="fas fa-sticky-note"></i> Nouvelle note</h3><button class="modal-close" data-close="modal-note"><i class="fas fa-times"></i></button></div><form id="note-form"><div class="modal-body">
        <input type="hidden" id="note-id">
        <div class="form-row">
            <div class="form-group"><label for="note-title"><i class="fas fa-heading"></i> Titre</label><input type="text" id="note-title" placeholder="Titre de la note (optionnel)"></div>
            <div class="form-group"><label for="note-mood"><i class="fas fa-smile"></i> Humeur</label><select id="note-mood"><option value="0">— Aucune</option><option value="5">🔥 Excellent</option><option value="4">😊 Bien</option><option value="3">😐 Neutre</option><option value="2">😕 Mauvais</option><option value="1">😫 Terrible</option></select></div>
        </div>
        <div class="form-group"><label for="note-content"><i class="fas fa-pen"></i> Contenu *</label><textarea id="note-content" rows="8" required placeholder="Écrivez vos pensées, idées, réflexions..."></textarea></div>
        <div class="form-row">
            <div class="form-group"><label for="note-tags"><i class="fas fa-tags"></i> Tags</label><input type="text" id="note-tags" placeholder="Ex: gratitude, idée, projet (séparés par des virgules)"></div>
            <div class="form-group"><label for="note-color"><i class="fas fa-palette"></i> Couleur</label><select id="note-color"><option value="">Par défaut</option><option value="#22C55E">🟢 Vert</option><option value="#A78BFA">🟣 Violet</option><option value="#F59E0B">🟡 Ambre</option><option value="#3B82F6">🔵 Bleu</option><option value="#EC4899">🩷 Rose</option><option value="#EF4444">🔴 Rouge</option><option value="#06B6D4">🩵 Cyan</option></select></div>
        </div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-note">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Habit Modal -->
    <div class="modal-overlay" id="modal-habit"><div class="modal"><div class="modal-header"><h3 id="modal-habit-title"><i class="fas fa-check-double"></i> Nouvelle habitude</h3><button class="modal-close" data-close="modal-habit"><i class="fas fa-times"></i></button></div><form id="habit-form"><div class="modal-body">
        <input type="hidden" id="habit-id">
        <div class="form-row">
            <div class="form-group"><label for="habit-name"><i class="fas fa-heading"></i> Nom *</label><input type="text" id="habit-name" required placeholder="Ex: Méditer 10 min"></div>
            <div class="form-group"><label for="habit-icon"><i class="fas fa-smile"></i> Icône</label><input type="text" id="habit-icon" placeholder="✅" value="✅" maxlength="4"></div>
        </div>
        <div class="form-row">
            <div class="form-group"><label for="habit-frequency"><i class="fas fa-sync"></i> Fréquence</label><select id="habit-frequency"><option value="daily">Quotidien</option><option value="weekday">Jours ouvrés</option><option value="weekly">Hebdomadaire</option></select></div>
            <div class="form-group"><label for="habit-color"><i class="fas fa-palette"></i> Couleur</label><input type="color" id="habit-color" value="#22C55E"></div>
        </div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-habit">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Confirm Modal -->
    <div class="modal-overlay" id="modal-confirm"><div class="modal modal-sm"><div class="modal-header"><h3><i class="fas fa-exclamation-circle"></i> Confirmation</h3><button class="modal-close" data-close="modal-confirm"><i class="fas fa-times"></i></button></div><div class="modal-body"><p id="confirm-message">Êtes-vous sûr ?</p></div><div class="modal-footer"><button class="btn btn-outline" data-close="modal-confirm">Annuler</button><button class="btn btn-danger" id="confirm-yes"><i class="fas fa-check"></i> Confirmer</button></div></div></div>

    <!-- Command Palette Modal -->
    <div class="modal-overlay" id="modal-command">
        <div class="modal command-modal">
            <div class="command-input-wrap">
                <i class="fas fa-search"></i>
                <input type="text" id="command-search" placeholder="Tapez une commande... (ex: transactions, objectif, thème)">
                <kbd>Ctrl+K</kbd>
                <button class="modal-close" data-close="modal-command"><i class="fas fa-times"></i></button>
            </div>
            <div id="command-list" class="command-list"></div>
            <div class="command-footer">
                <span><kbd>↑</kbd><kbd>↓</kbd> Naviguer</span>
                <span><kbd>Entrée</kbd> Ouvrir</span>
                <span><kbd>Échap</kbd> Fermer</span>
            </div>
        </div>
    </div>

    <!-- Style Lab Panel -->
    <div id="style-lab" class="style-lab-panel" aria-hidden="true">
        <div class="style-lab-header">
            <h3><i class="fas fa-swatchbook"></i> Style Lab</h3>
            <button id="style-lab-close" class="modal-close" type="button"><i class="fas fa-times"></i></button>
        </div>
        <div class="style-lab-section">
            <p class="style-lab-title">Palette d'accent</p>
            <div class="accent-grid" id="accent-grid">
                <button class="accent-chip active" data-accent="violet" style="--chip:#7C3AED">Violet</button>
                <button class="accent-chip" data-accent="ocean" style="--chip:#2563EB">Ocean</button>
                <button class="accent-chip" data-accent="emerald" style="--chip:#10B981">Emerald</button>
                <button class="accent-chip" data-accent="rose" style="--chip:#E11D48">Rose</button>
                <button class="accent-chip" data-accent="sunset" style="--chip:#F59E0B">Sunset</button>
                <button class="accent-chip" data-accent="cyan" style="--chip:#06B6D4">Cyan</button>
            </div>
        </div>
        <div class="style-lab-section">
            <p class="style-lab-title">Scène visuelle</p>
            <div class="scene-grid" id="scene-grid">
                <button class="scene-chip active" data-scene="default"><i class="fas fa-circle-half-stroke"></i> Default</button>
                <button class="scene-chip" data-scene="cyberpunk"><i class="fas fa-bolt"></i> Cyberpunk</button>
                <button class="scene-chip" data-scene="aurora"><i class="fas fa-snowflake"></i> Aurora</button>
                <button class="scene-chip" data-scene="gold"><i class="fas fa-crown"></i> Gold</button>
                <button class="scene-chip" data-scene="midnight"><i class="fas fa-moon"></i> Midnight</button>
                <button class="scene-chip" data-scene="forest"><i class="fas fa-tree"></i> Forest</button>
            </div>
        </div>
        <div class="style-lab-section">
            <p class="style-lab-title">Ambiance</p>
            <label class="style-toggle">
                <input type="checkbox" id="toggle-ambient">
                <span>Mode ambiance lumineux</span>
            </label>
            <label class="style-toggle">
                <input type="checkbox" id="toggle-neon">
                <span>Mode Ultra Premium (néon)</span>
            </label>
            <label class="style-toggle">
                <input type="checkbox" id="toggle-reduced-motion">
                <span>Réduire les animations</span>
            </label>
            <button id="btn-style-reset" class="btn btn-outline btn-sm style-reset-btn" type="button">
                <i class="fas fa-rotate-left"></i> Réinitialiser le style
            </button>
        </div>
        <p class="style-lab-hint">Astuce: <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>H</kbd> relance le guide.</p>
    </div>

    <!-- Guided Tour Overlay -->
    <div id="tour-overlay" class="tour-overlay" aria-hidden="true">
        <div class="tour-popover">
            <div class="tour-step" id="tour-step">Étape 1/4</div>
            <h4 id="tour-title">Bienvenue sur LifeOS</h4>
            <p id="tour-description">Découvrons rapidement les éléments importants.</p>
            <div class="tour-actions">
                <button id="tour-skip" class="btn btn-outline btn-sm" type="button">Passer</button>
                <div class="tour-actions-right">
                    <button id="tour-prev" class="btn btn-outline btn-sm" type="button">Précédent</button>
                    <button id="tour-next" class="btn btn-primary btn-sm" type="button">Suivant</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Modal -->
    <div class="modal-overlay" id="modal-contact"><div class="modal"><div class="modal-header"><h3 id="modal-contact-title"><i class="fas fa-address-book"></i> Nouveau contact</h3><button class="modal-close" data-close="modal-contact"><i class="fas fa-times"></i></button></div><form id="contact-form"><div class="modal-body">
        <input type="hidden" id="contact-id">
        <div class="form-row"><div class="form-group"><label for="contact-firstname"><i class="fas fa-user"></i> Prénom *</label><input type="text" id="contact-firstname" required placeholder="Prénom"></div><div class="form-group"><label for="contact-lastname"><i class="fas fa-user"></i> Nom</label><input type="text" id="contact-lastname" placeholder="Nom de famille"></div></div>
        <div class="form-row"><div class="form-group"><label for="contact-phone"><i class="fas fa-phone"></i> Téléphone</label><input type="tel" id="contact-phone" placeholder="+212 6XX XX XX XX"></div><div class="form-group"><label for="contact-email"><i class="fas fa-envelope"></i> Email</label><input type="email" id="contact-email" placeholder="email@exemple.com"></div></div>
        <div class="form-row"><div class="form-group"><label for="contact-group"><i class="fas fa-layer-group"></i> Groupe</label><select id="contact-group"><option value="famille">👨‍👩‍👧‍👦 Famille</option><option value="ami">🤝 Ami(e)</option><option value="travail">💼 Travail</option><option value="voisin">🏘️ Voisin(e)</option><option value="scolaire">🎓 École</option><option value="sante">🏥 Santé</option><option value="service">🔧 Service</option><option value="autre">📋 Autre</option></select></div><div class="form-group"><label for="contact-company"><i class="fas fa-building"></i> Entreprise</label><input type="text" id="contact-company" placeholder="Entreprise"></div></div>
        <div class="form-row"><div class="form-group"><label for="contact-birthday"><i class="fas fa-birthday-cake"></i> Anniversaire</label><input type="date" id="contact-birthday"></div><div class="form-group"><label for="contact-address"><i class="fas fa-map-marker-alt"></i> Adresse</label><input type="text" id="contact-address" placeholder="Adresse"></div></div>
        <div class="form-group"><label for="contact-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="contact-notes" rows="2" placeholder="Notes..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-contact">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Movie Modal -->
    <div class="modal-overlay" id="modal-movie"><div class="modal"><div class="modal-header"><h3 id="modal-movie-title"><i class="fas fa-film"></i> Nouveau film / série</h3><button class="modal-close" data-close="modal-movie"><i class="fas fa-times"></i></button></div><form id="movie-form"><div class="modal-body">
        <input type="hidden" id="movie-id">
        <div class="form-group"><label for="movie-title-input"><i class="fas fa-heading"></i> Titre *</label><input type="text" id="movie-title-input" required placeholder="Titre du film ou série"></div>
        <div class="form-row"><div class="form-group"><label for="movie-type"><i class="fas fa-video"></i> Type</label><select id="movie-type"><option value="movie">🎬 Film</option><option value="series">📺 Série</option><option value="documentary">🎥 Documentaire</option><option value="anime">🎌 Anime</option></select></div><div class="form-group"><label for="movie-genre"><i class="fas fa-masks-theater"></i> Genre</label><select id="movie-genre"><option value="action">Action</option><option value="comedie">Comédie</option><option value="drame">Drame</option><option value="horreur">Horreur</option><option value="romance">Romance</option><option value="sf">Sci-Fi</option><option value="thriller">Thriller</option><option value="animation">Animation</option><option value="fantastique">Fantastique</option><option value="aventure">Aventure</option><option value="crime">Crime</option><option value="historique">Historique</option><option value="autre">Autre</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="movie-year"><i class="fas fa-calendar"></i> Année</label><input type="number" id="movie-year" min="1900" max="2030" placeholder="2025"></div><div class="form-group"><label for="movie-director"><i class="fas fa-user-tie"></i> Réalisateur</label><input type="text" id="movie-director" placeholder="Réalisateur"></div></div>
        <div class="form-row"><div class="form-group"><label for="movie-platform"><i class="fas fa-tv"></i> Plateforme</label><select id="movie-platform"><option value="">— Aucune —</option><option value="netflix">🔴 Netflix</option><option value="prime">🟦 Prime Video</option><option value="disney">🏰 Disney+</option><option value="hbo">🟣 HBO / Max</option><option value="apple">🍎 Apple TV+</option><option value="cinema">🎞️ Cinéma</option><option value="autre">📡 Autre</option></select></div><div class="form-group"><label for="movie-status"><i class="fas fa-tasks"></i> Statut</label><select id="movie-status"><option value="to-watch">📋 À voir</option><option value="watching">▶️ En cours</option><option value="watched">✅ Vu</option><option value="abandoned">❌ Abandonné</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="movie-rating"><i class="fas fa-star"></i> Note (0-5)</label><input type="number" id="movie-rating" min="0" max="5" value="0"></div><div class="form-group"><label for="movie-watch-date"><i class="fas fa-calendar-check"></i> Date de visionnage</label><input type="date" id="movie-watch-date"></div></div>
        <div id="movie-series-fields" style="display:none;"><div class="form-row"><div class="form-group"><label for="movie-season">Saison actuelle</label><input type="number" id="movie-season" min="0" value="0"></div><div class="form-group"><label for="movie-episode">Épisode actuel</label><input type="number" id="movie-episode" min="0" value="0"></div><div class="form-group"><label for="movie-total-seasons">Total saisons</label><input type="number" id="movie-total-seasons" min="0" value="0"></div></div></div>
        <div class="form-group"><label for="movie-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="movie-notes" rows="2" placeholder="Avis, commentaires..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-movie">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Trip Modal -->
    <div class="modal-overlay" id="modal-trip"><div class="modal"><div class="modal-header"><h3 id="modal-trip-title"><i class="fas fa-globe-americas"></i> Nouveau voyage</h3><button class="modal-close" data-close="modal-trip"><i class="fas fa-times"></i></button></div><form id="trip-form"><div class="modal-body">
        <input type="hidden" id="trip-id">
        <div class="form-group"><label for="trip-destination"><i class="fas fa-map-marker-alt"></i> Destination *</label><input type="text" id="trip-destination" required placeholder="Ex: Marrakech, Paris, Tokyo..."></div>
        <div class="form-row"><div class="form-group"><label for="trip-country"><i class="fas fa-flag"></i> Pays</label><input type="text" id="trip-country" placeholder="Pays"></div><div class="form-group"><label for="trip-continent"><i class="fas fa-globe"></i> Continent</label><select id="trip-continent"><option value="afrique">🌍 Afrique</option><option value="amerique">🌎 Amérique</option><option value="asie">🌏 Asie</option><option value="europe">🏰 Europe</option><option value="oceanie">🏝️ Océanie</option><option value="autre">🌐 Autre</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="trip-status"><i class="fas fa-tasks"></i> Statut</label><select id="trip-status"><option value="dream">💭 Rêve</option><option value="planned">📅 Planifié</option><option value="ongoing">✈️ En cours</option><option value="visited">✅ Visité</option></select></div><div class="form-group"><label for="trip-transport"><i class="fas fa-route"></i> Transport</label><select id="trip-transport"><option value="avion">✈️ Avion</option><option value="train">🚄 Train</option><option value="voiture">🚗 Voiture</option><option value="bus">🚌 Bus</option><option value="bateau">🚢 Bateau</option><option value="velo">🚴 Vélo</option><option value="pied">🚶 À pied</option><option value="autre">🧭 Autre</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="trip-start-date"><i class="fas fa-plane-departure"></i> Date départ</label><input type="date" id="trip-start-date"></div><div class="form-group"><label for="trip-end-date"><i class="fas fa-plane-arrival"></i> Date retour</label><input type="date" id="trip-end-date"></div></div>
        <div class="form-row"><div class="form-group"><label for="trip-companions"><i class="fas fa-users"></i> Compagnons</label><input type="text" id="trip-companions" placeholder="Avec qui ?"></div><div class="form-group"><label for="trip-rating"><i class="fas fa-star"></i> Note (0-5)</label><input type="number" id="trip-rating" min="0" max="5" value="0"></div></div>
        <div class="form-group"><label for="trip-highlights"><i class="fas fa-camera"></i> Points forts</label><textarea id="trip-highlights" rows="2" placeholder="Moments mémorables, lieux à retenir..."></textarea></div>
        <div class="form-group"><label for="trip-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="trip-notes" rows="2" placeholder="Notes..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-trip">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Plant Modal -->
    <div class="modal-overlay" id="modal-plant"><div class="modal"><div class="modal-header"><h3 id="modal-plant-title"><i class="fas fa-seedling"></i> Nouvelle plante</h3><button class="modal-close" data-close="modal-plant"><i class="fas fa-times"></i></button></div><form id="plant-form"><div class="modal-body">
        <input type="hidden" id="plant-id">
        <div class="form-row"><div class="form-group"><label for="plant-name"><i class="fas fa-leaf"></i> Nom *</label><input type="text" id="plant-name" required placeholder="Ex: Monstera, Ficus..."></div><div class="form-group"><label for="plant-species"><i class="fas fa-dna"></i> Espèce</label><input type="text" id="plant-species" placeholder="Espèce botanique"></div></div>
        <div class="form-row"><div class="form-group"><label for="plant-location"><i class="fas fa-map-pin"></i> Emplacement</label><select id="plant-location"><option value="salon">🛋️ Salon</option><option value="chambre">🛏️ Chambre</option><option value="cuisine">🍳 Cuisine</option><option value="balcon">🌤️ Balcon</option><option value="bureau">💻 Bureau</option><option value="sdb">🚿 Salle de bain</option><option value="terrasse">🏡 Terrasse</option><option value="jardin">🌳 Jardin</option><option value="autre">📍 Autre</option></select></div><div class="form-group"><label for="plant-sunlight"><i class="fas fa-sun"></i> Lumière</label><select id="plant-sunlight"><option value="low">🌑 Ombre</option><option value="medium">⛅ Mi-ombre</option><option value="high">☀️ Lumineux</option><option value="direct">🔆 Soleil direct</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="plant-water-frequency"><i class="fas fa-tint"></i> Arrosage tous les (jours)</label><input type="number" id="plant-water-frequency" min="1" value="7" placeholder="7"></div><div class="form-group"><label for="plant-health"><i class="fas fa-heartbeat"></i> Santé</label><select id="plant-health"><option value="excellent">🌿 Excellent</option><option value="good">🌱 Bon</option><option value="fair">🍂 Moyen</option><option value="poor">🥀 Mauvais</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="plant-acquired"><i class="fas fa-calendar-plus"></i> Date d'acquisition</label><input type="date" id="plant-acquired"></div><div class="form-group"><label for="plant-last-watered"><i class="fas fa-tint"></i> Dernier arrosage</label><input type="date" id="plant-last-watered"></div></div>
        <div class="form-group"><label for="plant-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="plant-notes" rows="2" placeholder="Soins particuliers, observations..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-plant">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Music Modal -->
    <div class="modal-overlay" id="modal-music"><div class="modal"><div class="modal-header"><h3 id="modal-music-title"><i class="fas fa-music"></i> Nouveau morceau</h3><button class="modal-close" data-close="modal-music"><i class="fas fa-times"></i></button></div><form id="music-form"><div class="modal-body">
        <input type="hidden" id="music-id">
        <div class="form-row"><div class="form-group"><label for="music-title"><i class="fas fa-heading"></i> Titre *</label><input type="text" id="music-title" required placeholder="Titre du morceau"></div><div class="form-group"><label for="music-artist"><i class="fas fa-microphone-alt"></i> Artiste *</label><input type="text" id="music-artist" required placeholder="Nom de l'artiste"></div></div>
        <div class="form-row"><div class="form-group"><label for="music-album"><i class="fas fa-compact-disc"></i> Album</label><input type="text" id="music-album" placeholder="Nom de l'album"></div><div class="form-group"><label for="music-genre"><i class="fas fa-guitar"></i> Genre</label><select id="music-genre"><option value="pop">🎤 Pop</option><option value="rock">🎸 Rock</option><option value="hiphop">🎤 Hip-Hop</option><option value="rnb">🎵 R&B</option><option value="jazz">🎷 Jazz</option><option value="classical">🎻 Classique</option><option value="electronic">🎧 Électronique</option><option value="reggae">🌴 Reggae</option><option value="metal">🤘 Metal</option><option value="latin">💃 Latin</option><option value="kpop">🇰🇷 K-Pop</option><option value="arabic">🪘 Arabe</option><option value="autre">🎵 Autre</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="music-year"><i class="fas fa-calendar"></i> Année</label><input type="number" id="music-year" min="1900" max="2030" placeholder="2024"></div><div class="form-group"><label for="music-duration"><i class="fas fa-clock"></i> Durée</label><input type="text" id="music-duration" placeholder="3:45"></div></div>
        <div class="form-row"><div class="form-group"><label for="music-platform"><i class="fas fa-headphones"></i> Plateforme</label><select id="music-platform"><option value="">— Aucune —</option><option value="spotify">🟢 Spotify</option><option value="apple">🍎 Apple Music</option><option value="youtube">🔴 YouTube Music</option><option value="deezer">🟣 Deezer</option><option value="soundcloud">🟠 SoundCloud</option><option value="vinyl">💿 Vinyle/CD</option><option value="autre">🎵 Autre</option></select></div><div class="form-group"><label for="music-mood"><i class="fas fa-smile"></i> Humeur</label><select id="music-mood"><option value="">— Aucune —</option><option value="happy">😊 Joyeux</option><option value="sad">😢 Triste</option><option value="energetic">⚡ Énergique</option><option value="chill">😌 Chill</option><option value="romantic">❤️ Romantique</option><option value="focus">🧠 Concentration</option><option value="party">🎉 Fête</option><option value="workout">💪 Sport</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="music-rating"><i class="fas fa-star"></i> Note (0-5)</label><input type="number" id="music-rating" min="0" max="5" value="0"></div><div class="form-group"><label for="music-playlist"><i class="fas fa-list"></i> Playlist</label><input type="text" id="music-playlist" placeholder="Nom de la playlist"></div></div>
        <div class="form-group"><label for="music-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="music-notes" rows="2" placeholder="Commentaires, paroles mémorables..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-music">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Vehicle Modal -->
    <div class="modal-overlay" id="modal-vehicle"><div class="modal"><div class="modal-header"><h3 id="modal-vehicle-title"><i class="fas fa-car"></i> Nouveau véhicule</h3><button class="modal-close" data-close="modal-vehicle"><i class="fas fa-times"></i></button></div><form id="vehicle-form"><div class="modal-body">
        <input type="hidden" id="vehicle-id">
        <div class="form-row"><div class="form-group"><label for="vehicle-name"><i class="fas fa-tag"></i> Nom *</label><input type="text" id="vehicle-name" required placeholder="Ex: Ma voiture"></div><div class="form-group"><label for="vehicle-type"><i class="fas fa-car-side"></i> Type</label><select id="vehicle-type"><option value="car">🚗 Voiture</option><option value="moto">🏍️ Moto</option><option value="scooter">🛵 Scooter</option><option value="van">🚐 Camionnette</option><option value="truck">🚛 Camion</option><option value="bike">🚲 Vélo</option><option value="electric">🛴 Trottinette</option><option value="autre">🚙 Autre</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="vehicle-brand"><i class="fas fa-industry"></i> Marque</label><input type="text" id="vehicle-brand" placeholder="Ex: Toyota, BMW..."></div><div class="form-group"><label for="vehicle-model"><i class="fas fa-car"></i> Modèle</label><input type="text" id="vehicle-model" placeholder="Ex: Corolla, X5..."></div></div>
        <div class="form-row"><div class="form-group"><label for="vehicle-year"><i class="fas fa-calendar"></i> Année</label><input type="number" id="vehicle-year" min="1950" max="2030" placeholder="2020"></div><div class="form-group"><label for="vehicle-plate"><i class="fas fa-id-card"></i> Plaque</label><input type="text" id="vehicle-plate" placeholder="XX-XXXX-XX"></div></div>
        <div class="form-row"><div class="form-group"><label for="vehicle-fuel"><i class="fas fa-gas-pump"></i> Carburant</label><select id="vehicle-fuel"><option value="essence">⛽ Essence</option><option value="diesel">⛽ Diesel</option><option value="electric">⚡ Électrique</option><option value="hybrid">🔋 Hybride</option><option value="gpl">🟢 GPL</option><option value="none">🚲 Aucun</option></select></div><div class="form-group"><label for="vehicle-mileage"><i class="fas fa-tachometer-alt"></i> Kilométrage</label><input type="number" id="vehicle-mileage" min="0" value="0" placeholder="0"></div></div>
        <div class="form-row"><div class="form-group"><label for="vehicle-status"><i class="fas fa-info-circle"></i> Statut</label><select id="vehicle-status"><option value="active">✅ Actif</option><option value="maintenance">🔧 En entretien</option><option value="parked">🅿️ Garé</option><option value="sold">💰 Vendu</option></select></div><div class="form-group"><label for="vehicle-color"><i class="fas fa-palette"></i> Couleur</label><input type="text" id="vehicle-color" placeholder="Ex: Noir, Blanc..."></div></div>
        <div class="form-row"><div class="form-group"><label for="vehicle-insurance"><i class="fas fa-shield-alt"></i> Expiration assurance</label><input type="date" id="vehicle-insurance"></div><div class="form-group"><label for="vehicle-next-service"><i class="fas fa-wrench"></i> Prochain entretien</label><input type="date" id="vehicle-next-service"></div></div>
        <div class="form-group"><label for="vehicle-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="vehicle-notes" rows="2" placeholder="Informations complémentaires..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-vehicle">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Health Modal -->
    <div class="modal-overlay" id="modal-health"><div class="modal"><div class="modal-header"><h3 id="modal-health-title"><i class="fas fa-heartbeat"></i> Nouveau suivi santé</h3><button class="modal-close" data-close="modal-health"><i class="fas fa-times"></i></button></div><form id="health-form"><div class="modal-body">
        <input type="hidden" id="health-id">
        <div class="form-row"><div class="form-group"><label for="health-title"><i class="fas fa-heading"></i> Titre *</label><input type="text" id="health-title" required placeholder="Ex: Visite dentaire"></div><div class="form-group"><label for="health-type"><i class="fas fa-stethoscope"></i> Type</label><select id="health-type"><option value="appointment">📅 Rendez-vous</option><option value="medication">💊 Médicament</option><option value="vaccine">💉 Vaccin</option><option value="exam">🔬 Examen</option><option value="surgery">🏥 Intervention</option><option value="measure">📏 Mesure</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="health-category"><i class="fas fa-tag"></i> Catégorie</label><select id="health-category"><option value="general">🩺 Médecine générale</option><option value="dental">🦷 Dentaire</option><option value="ophtalmology">👁️ Ophtalmologie</option><option value="dermatology">🧴 Dermatologie</option><option value="cardiology">❤️ Cardiologie</option><option value="ortho">🦴 Orthopédie</option><option value="psy">🧠 Psychologie</option><option value="gyneco">🩷 Gynécologie</option><option value="pediatrics">👶 Pédiatrie</option><option value="autre">🏥 Autre</option></select></div><div class="form-group"><label for="health-doctor"><i class="fas fa-user-md"></i> Médecin</label><input type="text" id="health-doctor" placeholder="Dr. ..."></div></div>
        <div class="form-row"><div class="form-group"><label for="health-date"><i class="fas fa-calendar"></i> Date</label><input type="date" id="health-date"></div><div class="form-group"><label for="health-time"><i class="fas fa-clock"></i> Heure</label><input type="time" id="health-time"></div></div>
        <div class="form-row"><div class="form-group"><label for="health-status"><i class="fas fa-info-circle"></i> Statut</label><select id="health-status"><option value="scheduled">📅 Planifié</option><option value="completed">✅ Effectué</option><option value="ongoing">🔄 En cours</option><option value="cancelled">❌ Annulé</option></select></div><div class="form-group"><label for="health-priority"><i class="fas fa-flag"></i> Priorité</label><select id="health-priority"><option value="low">🟢 Basse</option><option value="normal" selected>🔵 Normale</option><option value="high">🟠 Haute</option><option value="urgent">🔴 Urgente</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="health-location"><i class="fas fa-map-marker-alt"></i> Lieu</label><input type="text" id="health-location" placeholder="Clinique, hôpital..."></div><div class="form-group"><label for="health-cost"><i class="fas fa-coins"></i> Coût (MAD)</label><input type="number" id="health-cost" min="0" step="0.01" value="0" placeholder="0.00"></div></div>
        <div class="form-group"><label for="health-symptoms"><i class="fas fa-thermometer-half"></i> Symptômes</label><input type="text" id="health-symptoms" placeholder="Symptômes observés..."></div>
        <div class="form-group"><label for="health-diagnosis"><i class="fas fa-file-medical"></i> Diagnostic</label><input type="text" id="health-diagnosis" placeholder="Diagnostic du médecin..."></div>
        <div class="form-group"><label for="health-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="health-notes" rows="2" placeholder="Instructions, prescriptions..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-health">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Event Modal -->
    <div class="modal-overlay" id="modal-event"><div class="modal"><div class="modal-header"><h3 id="modal-event-title"><i class="fas fa-calendar-alt"></i> Nouvel événement</h3><button class="modal-close" data-close="modal-event"><i class="fas fa-times"></i></button></div><form id="event-form"><div class="modal-body">
        <input type="hidden" id="event-id">
        <div class="form-row"><div class="form-group"><label for="event-title"><i class="fas fa-heading"></i> Titre *</label><input type="text" id="event-title" required placeholder="Nom de l'événement"></div><div class="form-group"><label for="event-type"><i class="fas fa-tag"></i> Type</label><select id="event-type"><option value="personal">👤 Personnel</option><option value="family">👨‍👩‍👧‍👦 Famille</option><option value="work">💼 Travail</option><option value="social">🎉 Social</option><option value="sport">⚽ Sport</option><option value="cultural">🎭 Culturel</option><option value="travel">✈️ Voyage</option><option value="health">🏥 Santé</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="event-category"><i class="fas fa-folder"></i> Catégorie</label><select id="event-category"><option value="birthday">🎂 Anniversaire</option><option value="wedding">💒 Mariage</option><option value="meeting">📋 Réunion</option><option value="concert">🎵 Concert</option><option value="dinner">🍽️ Dîner</option><option value="party">🥳 Fête</option><option value="conference">🎤 Conférence</option><option value="holiday">🏖️ Vacances</option><option value="exam">📝 Examen</option><option value="deadline">⏰ Échéance</option><option value="autre">📌 Autre</option></select></div><div class="form-group"><label for="event-status"><i class="fas fa-info-circle"></i> Statut</label><select id="event-status"><option value="upcoming">📅 À venir</option><option value="ongoing">▶️ En cours</option><option value="completed">✅ Terminé</option><option value="cancelled">❌ Annulé</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="event-date"><i class="fas fa-calendar"></i> Date début *</label><input type="date" id="event-date" required></div><div class="form-group"><label for="event-end-date"><i class="fas fa-calendar-check"></i> Date fin</label><input type="date" id="event-end-date"></div></div>
        <div class="form-row"><div class="form-group"><label for="event-time"><i class="fas fa-clock"></i> Heure début</label><input type="time" id="event-time"></div><div class="form-group"><label for="event-end-time"><i class="fas fa-clock"></i> Heure fin</label><input type="time" id="event-end-time"></div></div>
        <div class="form-row"><div class="form-group"><label for="event-location"><i class="fas fa-map-marker-alt"></i> Lieu</label><input type="text" id="event-location" placeholder="Adresse ou lieu"></div><div class="form-group"><label for="event-budget"><i class="fas fa-coins"></i> Budget (MAD)</label><input type="number" id="event-budget" min="0" step="0.01" value="0" placeholder="0.00"></div></div>
        <div class="form-group"><label for="event-guests"><i class="fas fa-users"></i> Invités</label><input type="text" id="event-guests" placeholder="Noms séparés par des virgules"></div>
        <div class="form-group"><label for="event-description"><i class="fas fa-align-left"></i> Description</label><textarea id="event-description" rows="2" placeholder="Description de l'événement..."></textarea></div>
        <div class="form-group"><label for="event-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="event-notes" rows="2" placeholder="Rappels, préparatifs..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-event">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Pet Modal -->
    <div class="modal-overlay" id="modal-pet"><div class="modal"><div class="modal-header"><h3 id="modal-pet-title"><i class="fas fa-paw"></i> Nouvel animal</h3><button class="modal-close" data-close="modal-pet"><i class="fas fa-times"></i></button></div><form id="pet-form"><div class="modal-body">
        <input type="hidden" id="pet-id">
        <div class="form-row"><div class="form-group"><label for="pet-name"><i class="fas fa-tag"></i> Nom *</label><input type="text" id="pet-name" required placeholder="Nom de l'animal"></div><div class="form-group"><label for="pet-species"><i class="fas fa-paw"></i> Espèce</label><select id="pet-species"><option value="chien">🐕 Chien</option><option value="chat">🐈 Chat</option><option value="oiseau">🐦 Oiseau</option><option value="poisson">🐟 Poisson</option><option value="rongeur">🐹 Rongeur</option><option value="reptile">🦎 Reptile</option><option value="lapin">🐇 Lapin</option><option value="autre">🐾 Autre</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="pet-breed"><i class="fas fa-dna"></i> Race</label><input type="text" id="pet-breed" placeholder="Race ou variété"></div><div class="form-group"><label for="pet-gender"><i class="fas fa-venus-mars"></i> Genre</label><select id="pet-gender"><option value="">Non spécifié</option><option value="male">♂️ Mâle</option><option value="female">♀️ Femelle</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="pet-birthdate"><i class="fas fa-birthday-cake"></i> Date de naissance</label><input type="date" id="pet-birthdate"></div><div class="form-group"><label for="pet-weight"><i class="fas fa-weight"></i> Poids (kg)</label><input type="number" id="pet-weight" min="0" step="0.1" placeholder="0.0"></div></div>
        <div class="form-row"><div class="form-group"><label for="pet-vet"><i class="fas fa-stethoscope"></i> Vétérinaire</label><input type="text" id="pet-vet" placeholder="Nom du vétérinaire"></div><div class="form-group"><label for="pet-vet-phone"><i class="fas fa-phone"></i> Tél. véto</label><input type="tel" id="pet-vet-phone" placeholder="+212..."></div></div>
        <div class="form-row"><div class="form-group"><label for="pet-next-vet"><i class="fas fa-calendar-check"></i> Prochain RDV véto</label><input type="date" id="pet-next-vet"></div><div class="form-group"><label for="pet-color"><i class="fas fa-palette"></i> Couleur</label><input type="text" id="pet-color" placeholder="Couleur du pelage"></div></div>
        <div class="form-group"><label for="pet-vaccinations"><i class="fas fa-syringe"></i> Vaccinations</label><input type="text" id="pet-vaccinations" placeholder="Vaccins effectués"></div>
        <div class="form-group"><label for="pet-food"><i class="fas fa-bone"></i> Alimentation</label><input type="text" id="pet-food" placeholder="Type de nourriture"></div>
        <div class="form-group"><label for="pet-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="pet-notes" rows="2" placeholder="Notes sur votre animal..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-pet">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Learning Modal -->
    <div class="modal-overlay" id="modal-course"><div class="modal"><div class="modal-header"><h3 id="modal-course-title"><i class="fas fa-graduation-cap"></i> Nouveau cours</h3><button class="modal-close" data-close="modal-course"><i class="fas fa-times"></i></button></div><form id="course-form"><div class="modal-body">
        <input type="hidden" id="course-id">
        <div class="form-row"><div class="form-group"><label for="course-title"><i class="fas fa-heading"></i> Titre *</label><input type="text" id="course-title" required placeholder="Nom du cours"></div><div class="form-group"><label for="course-platform"><i class="fas fa-globe"></i> Plateforme</label><input type="text" id="course-platform" placeholder="Udemy, Coursera..."></div></div>
        <div class="form-row"><div class="form-group"><label for="course-category"><i class="fas fa-folder"></i> Catégorie</label><select id="course-category"><option value="dev">💻 Développement</option><option value="design">🎨 Design</option><option value="business">💼 Business</option><option value="marketing">📢 Marketing</option><option value="data">📊 Data Science</option><option value="language">🌍 Langues</option><option value="autre">📚 Autre</option></select></div><div class="form-group"><label for="course-status"><i class="fas fa-info-circle"></i> Statut</label><select id="course-status"><option value="not_started">⏳ Pas commencé</option><option value="in_progress">▶️ En cours</option><option value="completed">✅ Terminé</option><option value="paused">⏸️ En pause</option><option value="abandoned">❌ Abandonné</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="course-instructor"><i class="fas fa-chalkboard-teacher"></i> Instructeur</label><input type="text" id="course-instructor" placeholder="Nom de l'instructeur"></div><div class="form-group"><label for="course-progress"><i class="fas fa-tasks"></i> Progression (%)</label><input type="number" id="course-progress" min="0" max="100" value="0"></div></div>
        <div class="form-row"><div class="form-group"><label for="course-start-date"><i class="fas fa-calendar"></i> Date début</label><input type="date" id="course-start-date"></div><div class="form-group"><label for="course-cost"><i class="fas fa-coins"></i> Coût (MAD)</label><input type="number" id="course-cost" min="0" step="0.01" value="0"></div></div>
        <div class="form-group"><label for="course-url"><i class="fas fa-link"></i> URL</label><input type="url" id="course-url" placeholder="https://..."></div>
        <div class="form-group"><label for="course-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="course-notes" rows="2" placeholder="Notes sur le cours..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-course">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Sleep Modal -->
    <div class="modal-overlay" id="modal-sleep"><div class="modal"><div class="modal-header"><h3 id="modal-sleep-title"><i class="fas fa-moon"></i> Nouvelle nuit</h3><button class="modal-close" data-close="modal-sleep"><i class="fas fa-times"></i></button></div><form id="sleep-form"><div class="modal-body">
        <input type="hidden" id="sleep-id">
        <div class="form-row"><div class="form-group"><label for="sleep-date"><i class="fas fa-calendar"></i> Date *</label><input type="date" id="sleep-date" required></div><div class="form-group"><label for="sleep-quality"><i class="fas fa-star"></i> Qualité (1-5)</label><select id="sleep-quality"><option value="1">😫 Très mauvais</option><option value="2">😞 Mauvais</option><option value="3" selected>😐 Moyen</option><option value="4">😊 Bon</option><option value="5">😴 Excellent</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="sleep-bedtime"><i class="fas fa-bed"></i> Heure coucher</label><input type="time" id="sleep-bedtime"></div><div class="form-group"><label for="sleep-wake-time"><i class="fas fa-sun"></i> Heure réveil</label><input type="time" id="sleep-wake-time"></div></div>
        <div class="form-row"><div class="form-group"><label for="sleep-duration"><i class="fas fa-clock"></i> Durée (h)</label><input type="number" id="sleep-duration" min="0" max="24" step="0.5" value="0"></div><div class="form-group"><label for="sleep-mood"><i class="fas fa-smile"></i> Humeur au réveil</label><select id="sleep-mood"><option value="energetic">⚡ Énergique</option><option value="refreshed">🌟 Reposé</option><option value="normal" selected>😐 Normal</option><option value="tired">😴 Fatigué</option><option value="groggy">🥱 Vaseux</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="sleep-interruptions"><i class="fas fa-exclamation"></i> Interruptions</label><input type="number" id="sleep-interruptions" min="0" value="0"></div><div class="form-group"><label for="sleep-nap"><i class="fas fa-couch"></i> Sieste ?</label><select id="sleep-nap"><option value="false">Non</option><option value="true">Oui</option></select></div></div>
        <div class="form-group"><label for="sleep-factors"><i class="fas fa-list"></i> Facteurs</label><input type="text" id="sleep-factors" placeholder="stress, caféine, écrans..."></div>
        <div class="form-group"><label for="sleep-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="sleep-notes" rows="2" placeholder="Rêves, observations..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-sleep">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Home Task Modal -->
    <div class="modal-overlay" id="modal-home-task"><div class="modal"><div class="modal-header"><h3 id="modal-home-task-title"><i class="fas fa-home"></i> Nouvelle tâche</h3><button class="modal-close" data-close="modal-home-task"><i class="fas fa-times"></i></button></div><form id="home-task-form"><div class="modal-body">
        <input type="hidden" id="home-task-id">
        <div class="form-row"><div class="form-group"><label for="home-task-title"><i class="fas fa-heading"></i> Titre *</label><input type="text" id="home-task-title" required placeholder="Description de la tâche"></div><div class="form-group"><label for="home-task-room"><i class="fas fa-door-open"></i> Pièce</label><select id="home-task-room"><option value="salon">🛋️ Salon</option><option value="cuisine">🍳 Cuisine</option><option value="chambre">🛏️ Chambre</option><option value="sdb">🚿 Salle de bain</option><option value="bureau">💻 Bureau</option><option value="garage">🚗 Garage</option><option value="jardin">🌳 Jardin</option><option value="autre">🏠 Autre</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="home-task-category"><i class="fas fa-folder"></i> Catégorie</label><select id="home-task-category"><option value="maintenance">🔧 Entretien</option><option value="repair">🛠️ Réparation</option><option value="cleaning">🧹 Nettoyage</option><option value="renovation">🏗️ Rénovation</option><option value="plumbing">🚰 Plomberie</option><option value="electrical">⚡ Électricité</option><option value="painting">🎨 Peinture</option><option value="garden">🌱 Jardinage</option><option value="autre">📋 Autre</option></select></div><div class="form-group"><label for="home-task-priority"><i class="fas fa-flag"></i> Priorité</label><select id="home-task-priority"><option value="low">🟢 Basse</option><option value="normal" selected>🟡 Normale</option><option value="high">🟠 Haute</option><option value="urgent">🔴 Urgente</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="home-task-status"><i class="fas fa-info-circle"></i> Statut</label><select id="home-task-status"><option value="todo">📝 À faire</option><option value="in_progress">🔨 En cours</option><option value="waiting">⏳ En attente</option><option value="done">✅ Terminé</option></select></div><div class="form-group"><label for="home-task-due"><i class="fas fa-calendar"></i> Échéance</label><input type="date" id="home-task-due"></div></div>
        <div class="form-row"><div class="form-group"><label for="home-task-cost"><i class="fas fa-coins"></i> Coût (MAD)</label><input type="number" id="home-task-cost" min="0" step="0.01" value="0"></div><div class="form-group"><label for="home-task-contractor"><i class="fas fa-user-tie"></i> Prestataire</label><input type="text" id="home-task-contractor" placeholder="Nom du prestataire"></div></div>
        <div class="form-group"><label for="home-task-description"><i class="fas fa-align-left"></i> Description</label><textarea id="home-task-description" rows="2" placeholder="Détails de la tâche..."></textarea></div>
        <div class="form-group"><label for="home-task-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="home-task-notes" rows="2" placeholder="Notes supplémentaires..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-home-task">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Game Modal -->
    <div class="modal-overlay" id="modal-game"><div class="modal"><div class="modal-header"><h3 id="modal-game-title"><i class="fas fa-gamepad"></i> Nouveau jeu</h3><button class="modal-close" data-close="modal-game"><i class="fas fa-times"></i></button></div><form id="game-form"><div class="modal-body">
        <input type="hidden" id="game-id">
        <div class="form-row"><div class="form-group"><label for="game-title"><i class="fas fa-heading"></i> Titre *</label><input type="text" id="game-title" required placeholder="Nom du jeu"></div><div class="form-group"><label for="game-platform"><i class="fas fa-desktop"></i> Plateforme</label><select id="game-platform"><option value="pc">💻 PC</option><option value="ps5">🎮 PS5</option><option value="ps4">🎮 PS4</option><option value="xbox">🟩 Xbox</option><option value="switch">🕹️ Switch</option><option value="mobile">📱 Mobile</option><option value="retro">👾 Rétro</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="game-genre"><i class="fas fa-masks-theater"></i> Genre</label><select id="game-genre"><option value="action">⚔️ Action</option><option value="rpg">🗡️ RPG</option><option value="fps">🔫 FPS</option><option value="adventure">🗺️ Aventure</option><option value="strategy">♟️ Stratégie</option><option value="sport">⚽ Sport</option><option value="racing">🏎️ Course</option><option value="puzzle">🧩 Puzzle</option><option value="simulation">🏙️ Simulation</option><option value="indie">🌟 Indé</option></select></div><div class="form-group"><label for="game-status"><i class="fas fa-info-circle"></i> Statut</label><select id="game-status"><option value="backlog">📚 Backlog</option><option value="playing">▶️ En cours</option><option value="completed">✅ Terminé</option><option value="platinum">🏆 Platine</option><option value="dropped">❌ Abandonné</option><option value="wishlist">⭐ Wishlist</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="game-progress"><i class="fas fa-tasks"></i> Progression (%)</label><input type="number" id="game-progress" min="0" max="100" value="0"></div><div class="form-group"><label for="game-hours"><i class="fas fa-clock"></i> Heures jouées</label><input type="number" id="game-hours" min="0" step="0.5" value="0"></div></div>
        <div class="form-row"><div class="form-group"><label for="game-rating"><i class="fas fa-star"></i> Note (0-10)</label><input type="number" id="game-rating" min="0" max="10" value="0"></div><div class="form-group"><label for="game-price"><i class="fas fa-coins"></i> Prix (MAD)</label><input type="number" id="game-price" min="0" step="0.01" value="0"></div></div>
        <div class="form-group"><label for="game-developer"><i class="fas fa-code"></i> Développeur</label><input type="text" id="game-developer" placeholder="Studio de développement"></div>
        <div class="form-group"><label for="game-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="game-notes" rows="2" placeholder="Avis, astuces..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-game">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Wardrobe Modal -->
    <div class="modal-overlay" id="modal-wardrobe"><div class="modal"><div class="modal-header"><h3 id="modal-wardrobe-title"><i class="fas fa-tshirt"></i> Nouveau vêtement</h3><button class="modal-close" data-close="modal-wardrobe"><i class="fas fa-times"></i></button></div><form id="wardrobe-form"><div class="modal-body">
        <input type="hidden" id="wardrobe-id">
        <div class="form-row"><div class="form-group"><label for="wardrobe-name"><i class="fas fa-tag"></i> Nom *</label><input type="text" id="wardrobe-name" required placeholder="Description du vêtement"></div><div class="form-group"><label for="wardrobe-category"><i class="fas fa-folder"></i> Catégorie</label><select id="wardrobe-category"><option value="top">👕 Haut</option><option value="bottom">👖 Bas</option><option value="dress">👗 Robe</option><option value="outerwear">🧥 Veste/Manteau</option><option value="shoes">👟 Chaussures</option><option value="accessory">👜 Accessoire</option><option value="sportswear">🏃 Sport</option><option value="autre">👔 Autre</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="wardrobe-brand"><i class="fas fa-tag"></i> Marque</label><input type="text" id="wardrobe-brand" placeholder="Marque"></div><div class="form-group"><label for="wardrobe-color"><i class="fas fa-palette"></i> Couleur</label><input type="text" id="wardrobe-color" placeholder="Couleur principale"></div></div>
        <div class="form-row"><div class="form-group"><label for="wardrobe-size"><i class="fas fa-ruler"></i> Taille</label><input type="text" id="wardrobe-size" placeholder="S, M, L, 42..."></div><div class="form-group"><label for="wardrobe-season"><i class="fas fa-snowflake"></i> Saison</label><select id="wardrobe-season"><option value="all">🌐 Toutes saisons</option><option value="spring">🌸 Printemps</option><option value="summer">☀️ Été</option><option value="autumn">🍂 Automne</option><option value="winter">❄️ Hiver</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="wardrobe-occasion"><i class="fas fa-calendar-check"></i> Occasion</label><select id="wardrobe-occasion"><option value="casual">😎 Décontracté</option><option value="formal">👔 Formel</option><option value="business">💼 Business</option><option value="sport">⚽ Sport</option><option value="party">🎉 Soirée</option></select></div><div class="form-group"><label for="wardrobe-condition"><i class="fas fa-check-circle"></i> État</label><select id="wardrobe-condition"><option value="new">✨ Neuf</option><option value="good">👍 Bon</option><option value="worn">👌 Usé</option><option value="damaged">⚠️ Abîmé</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="wardrobe-price"><i class="fas fa-coins"></i> Prix (MAD)</label><input type="number" id="wardrobe-price" min="0" step="0.01" value="0"></div><div class="form-group"><label for="wardrobe-purchase-date"><i class="fas fa-calendar"></i> Date d'achat</label><input type="date" id="wardrobe-purchase-date"></div></div>
        <div class="form-group"><label for="wardrobe-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="wardrobe-notes" rows="2" placeholder="Notes..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-wardrobe">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Package Modal -->
    <div class="modal-overlay" id="modal-package"><div class="modal"><div class="modal-header"><h3 id="modal-package-title"><i class="fas fa-box"></i> Nouveau colis</h3><button class="modal-close" data-close="modal-package"><i class="fas fa-times"></i></button></div><form id="package-form"><div class="modal-body">
        <input type="hidden" id="package-id">
        <div class="form-row"><div class="form-group"><label for="package-name"><i class="fas fa-tag"></i> Description *</label><input type="text" id="package-name" required placeholder="Contenu du colis"></div><div class="form-group"><label for="package-store"><i class="fas fa-store"></i> Boutique</label><input type="text" id="package-store" placeholder="Amazon, Zara..."></div></div>
        <div class="form-row"><div class="form-group"><label for="package-tracking"><i class="fas fa-barcode"></i> N° de suivi</label><input type="text" id="package-tracking" placeholder="Numéro de tracking"></div><div class="form-group"><label for="package-carrier"><i class="fas fa-truck"></i> Transporteur</label><select id="package-carrier"><option value="poste">📮 La Poste</option><option value="dhl">📦 DHL</option><option value="ups">📦 UPS</option><option value="fedex">📦 FedEx</option><option value="chronopost">⚡ Chronopost</option><option value="amazon">📦 Amazon</option><option value="autre">🚚 Autre</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="package-status"><i class="fas fa-info-circle"></i> Statut</label><select id="package-status"><option value="ordered">🛒 Commandé</option><option value="processing">📋 En préparation</option><option value="shipped">📤 Expédié</option><option value="in_transit">🚚 En transit</option><option value="out_for_delivery">🏃 En livraison</option><option value="delivered">✅ Livré</option><option value="returned">↩️ Retourné</option></select></div><div class="form-group"><label for="package-order-date"><i class="fas fa-calendar"></i> Date commande</label><input type="date" id="package-order-date"></div></div>
        <div class="form-row"><div class="form-group"><label for="package-expected"><i class="fas fa-calendar-check"></i> Livraison prévue</label><input type="date" id="package-expected"></div><div class="form-group"><label for="package-price"><i class="fas fa-coins"></i> Prix (MAD)</label><input type="number" id="package-price" min="0" step="0.01" value="0"></div></div>
        <div class="form-group"><label for="package-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="package-notes" rows="2" placeholder="Notes sur le colis..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-package">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Idea Modal -->
    <div class="modal-overlay" id="modal-idea"><div class="modal"><div class="modal-header"><h3 id="modal-idea-title"><i class="fas fa-lightbulb"></i> Nouvelle idée</h3><button class="modal-close" data-close="modal-idea"><i class="fas fa-times"></i></button></div><form id="idea-form"><div class="modal-body">
        <input type="hidden" id="idea-id">
        <div class="form-row"><div class="form-group"><label for="idea-title"><i class="fas fa-heading"></i> Titre *</label><input type="text" id="idea-title" required placeholder="Votre idée"></div><div class="form-group"><label for="idea-category"><i class="fas fa-folder"></i> Catégorie</label><select id="idea-category"><option value="general">💡 Général</option><option value="business">💼 Business</option><option value="tech">💻 Tech</option><option value="creative">🎨 Créatif</option><option value="personal">👤 Personnel</option><option value="travel">✈️ Voyage</option><option value="gift">🎁 Cadeau</option><option value="autre">📌 Autre</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="idea-status"><i class="fas fa-info-circle"></i> Statut</label><select id="idea-status"><option value="new">💡 Nouvelle</option><option value="exploring">🔍 En exploration</option><option value="in_progress">▶️ En cours</option><option value="realized">✅ Réalisée</option><option value="archived">📁 Archivée</option><option value="rejected">❌ Rejetée</option></select></div><div class="form-group"><label for="idea-priority"><i class="fas fa-flag"></i> Priorité</label><select id="idea-priority"><option value="low">🟢 Basse</option><option value="normal" selected>🟡 Normale</option><option value="high">🟠 Haute</option><option value="critical">🔴 Critique</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="idea-impact"><i class="fas fa-bolt"></i> Impact</label><select id="idea-impact"><option value="low">Faible</option><option value="medium" selected>Moyen</option><option value="high">Élevé</option></select></div><div class="form-group"><label for="idea-effort"><i class="fas fa-dumbbell"></i> Effort</label><select id="idea-effort"><option value="low">Faible</option><option value="medium" selected>Moyen</option><option value="high">Élevé</option></select></div></div>
        <div class="form-group"><label for="idea-description"><i class="fas fa-align-left"></i> Description</label><textarea id="idea-description" rows="3" placeholder="Décrivez votre idée en détail..."></textarea></div>
        <div class="form-group"><label for="idea-tags"><i class="fas fa-tags"></i> Tags</label><input type="text" id="idea-tags" placeholder="innovation, projet, amélioration..."></div>
        <div class="form-group"><label for="idea-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="idea-notes" rows="2" placeholder="Notes, références, liens..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-idea">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Project Modal -->
    <div class="modal-overlay" id="modal-project"><div class="modal"><div class="modal-header"><h3 id="modal-project-title"><i class="fas fa-project-diagram"></i> Nouveau projet</h3><button class="modal-close" data-close="modal-project"><i class="fas fa-times"></i></button></div><form id="project-form"><div class="modal-body">
        <input type="hidden" id="project-id">
        <div class="form-row"><div class="form-group"><label for="project-name"><i class="fas fa-heading"></i> Nom *</label><input type="text" id="project-name" required placeholder="Nom du projet"></div><div class="form-group"><label for="project-category"><i class="fas fa-folder"></i> Catégorie</label><select id="project-category"><option value="personal">👤 Personnel</option><option value="work">💼 Travail</option><option value="side_project">🚀 Side project</option><option value="freelance">💻 Freelance</option><option value="community">🤝 Communauté</option><option value="education">🎓 Éducation</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="project-status"><i class="fas fa-info-circle"></i> Statut</label><select id="project-status"><option value="planning">📋 Planification</option><option value="active">▶️ Actif</option><option value="on_hold">⏸️ En pause</option><option value="completed">✅ Terminé</option><option value="cancelled">❌ Annulé</option></select></div><div class="form-group"><label for="project-priority"><i class="fas fa-flag"></i> Priorité</label><select id="project-priority"><option value="low">🟢 Basse</option><option value="normal" selected>🟡 Normale</option><option value="high">🟠 Haute</option><option value="critical">🔴 Critique</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="project-progress"><i class="fas fa-tasks"></i> Progression (%)</label><input type="number" id="project-progress" min="0" max="100" value="0"></div><div class="form-group"><label for="project-deadline"><i class="fas fa-calendar"></i> Deadline</label><input type="date" id="project-deadline"></div></div>
        <div class="form-row"><div class="form-group"><label for="project-budget"><i class="fas fa-coins"></i> Budget (MAD)</label><input type="number" id="project-budget" min="0" step="0.01" value="0"></div><div class="form-group"><label for="project-spent"><i class="fas fa-money-bill"></i> Dépensé (MAD)</label><input type="number" id="project-spent" min="0" step="0.01" value="0"></div></div>
        <div class="form-group"><label for="project-description"><i class="fas fa-align-left"></i> Description</label><textarea id="project-description" rows="3" placeholder="Description du projet..."></textarea></div>
        <div class="form-group"><label for="project-tags"><i class="fas fa-tags"></i> Tags</label><input type="text" id="project-tags" placeholder="Tags séparés par virgules..."></div>
        <div class="form-group"><label for="project-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="project-notes" rows="2" placeholder="Notes..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-project">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Password Modal -->
    <div class="modal-overlay" id="modal-password"><div class="modal"><div class="modal-header"><h3 id="modal-password-title"><i class="fas fa-lock"></i> Nouveau mot de passe</h3><button class="modal-close" data-close="modal-password"><i class="fas fa-times"></i></button></div><form id="password-form"><div class="modal-body">
        <input type="hidden" id="password-id">
        <div class="form-row"><div class="form-group"><label for="password-site"><i class="fas fa-globe"></i> Site/Service *</label><input type="text" id="password-site" required placeholder="Nom du site ou service"></div><div class="form-group"><label for="password-category"><i class="fas fa-folder"></i> Catégorie</label><select id="password-category"><option value="web">🌐 Site web</option><option value="email">📧 Email</option><option value="social">👥 Réseau social</option><option value="bank">🏦 Banque</option><option value="shopping">🛒 Shopping</option><option value="work">💼 Travail</option><option value="gaming">🎮 Jeux</option><option value="app">📱 Application</option><option value="wifi">📶 Wi-Fi</option><option value="autre">🔑 Autre</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="password-username"><i class="fas fa-user"></i> Nom d'utilisateur</label><input type="text" id="password-username" placeholder="Identifiant"></div><div class="form-group"><label for="password-email"><i class="fas fa-envelope"></i> Email</label><input type="email" id="password-email" placeholder="Email associé"></div></div>
        <div class="form-row"><div class="form-group"><label for="password-password"><i class="fas fa-key"></i> Mot de passe</label><input type="password" id="password-password" placeholder="Mot de passe"></div><div class="form-group"><label for="password-strength"><i class="fas fa-shield-alt"></i> Force</label><select id="password-strength"><option value="weak">🔴 Faible</option><option value="medium" selected>🟡 Moyen</option><option value="strong">🟢 Fort</option><option value="very_strong">🛡️ Très fort</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="password-url"><i class="fas fa-link"></i> URL</label><input type="url" id="password-url" placeholder="https://..."></div><div class="form-group"><label for="password-2fa"><i class="fas fa-mobile-alt"></i> 2FA activé ?</label><select id="password-2fa"><option value="false">Non</option><option value="true">Oui</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="password-last-changed"><i class="fas fa-calendar"></i> Dernier changement</label><input type="date" id="password-last-changed"></div><div class="form-group"><label for="password-expires"><i class="fas fa-calendar-times"></i> Expire le</label><input type="date" id="password-expires"></div></div>
        <div class="form-group"><label for="password-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="password-notes" rows="2" placeholder="Questions de sécurité, indices..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-password">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Subscription Modal -->
    <div class="modal-overlay" id="modal-subscription"><div class="modal"><div class="modal-header"><h3 id="modal-subscription-title"><i class="fas fa-newspaper"></i> Nouvel abonnement</h3><button class="modal-close" data-close="modal-subscription"><i class="fas fa-times"></i></button></div><form id="subscription-form"><div class="modal-body">
        <input type="hidden" id="subscription-id">
        <div class="form-row"><div class="form-group"><label for="subscription-name"><i class="fas fa-tag"></i> Nom *</label><input type="text" id="subscription-name" required placeholder="Nom de l'abonnement"></div><div class="form-group"><label for="subscription-provider"><i class="fas fa-building"></i> Fournisseur</label><input type="text" id="subscription-provider" placeholder="Fournisseur"></div></div>
        <div class="form-row"><div class="form-group"><label for="subscription-category"><i class="fas fa-folder"></i> Catégorie</label><select id="subscription-category"></select></div><div class="form-group"><label for="subscription-status"><i class="fas fa-toggle-on"></i> Statut</label><select id="subscription-status"></select></div></div>
        <div class="form-row"><div class="form-group"><label for="subscription-price"><i class="fas fa-coins"></i> Prix *</label><input type="number" id="subscription-price" required min="0" step="0.01" placeholder="0.00"></div><div class="form-group"><label for="subscription-frequency"><i class="fas fa-redo"></i> Fréquence</label><select id="subscription-frequency"></select></div></div>
        <div class="form-row"><div class="form-group"><label for="subscription-start"><i class="fas fa-calendar-plus"></i> Date début</label><input type="date" id="subscription-start"></div><div class="form-group"><label for="subscription-renewal"><i class="fas fa-calendar-check"></i> Renouvellement</label><input type="date" id="subscription-renewal"></div></div>
        <div class="form-row"><div class="form-group"><label for="subscription-url"><i class="fas fa-link"></i> URL</label><input type="url" id="subscription-url" placeholder="https://..."></div><div class="form-group"><label for="subscription-payment"><i class="fas fa-credit-card"></i> Paiement</label><input type="text" id="subscription-payment" placeholder="Mode de paiement"></div></div>
        <div class="form-group"><label for="subscription-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="subscription-notes" rows="2" placeholder="Notes..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-subscription">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Gift Modal -->
    <div class="modal-overlay" id="modal-gift"><div class="modal"><div class="modal-header"><h3 id="modal-gift-title"><i class="fas fa-gift"></i> Nouveau cadeau</h3><button class="modal-close" data-close="modal-gift"><i class="fas fa-times"></i></button></div><form id="gift-form"><div class="modal-body">
        <input type="hidden" id="gift-id">
        <div class="form-row"><div class="form-group"><label for="gift-name"><i class="fas fa-tag"></i> Nom *</label><input type="text" id="gift-name" required placeholder="Nom du cadeau"></div><div class="form-group"><label for="gift-type"><i class="fas fa-exchange-alt"></i> Type</label><select id="gift-type"></select></div></div>
        <div class="form-row"><div class="form-group"><label for="gift-recipient"><i class="fas fa-user"></i> Destinataire</label><input type="text" id="gift-recipient" placeholder="Pour qui ?"></div><div class="form-group"><label for="gift-occasion"><i class="fas fa-calendar-star"></i> Occasion</label><select id="gift-occasion"></select></div></div>
        <div class="form-row"><div class="form-group"><label for="gift-status"><i class="fas fa-tasks"></i> Statut</label><select id="gift-status"></select></div><div class="form-group"><label for="gift-price"><i class="fas fa-coins"></i> Prix (MAD)</label><input type="number" id="gift-price" min="0" step="0.01" placeholder="0.00"></div></div>
        <div class="form-row"><div class="form-group"><label for="gift-date"><i class="fas fa-calendar"></i> Date</label><input type="date" id="gift-date"></div><div class="form-group"><label for="gift-store"><i class="fas fa-store"></i> Magasin</label><input type="text" id="gift-store" placeholder="Magasin"></div></div>
        <div class="form-group"><label for="gift-url"><i class="fas fa-link"></i> URL</label><input type="url" id="gift-url" placeholder="https://..."></div>
        <div class="form-group"><label for="gift-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="gift-notes" rows="2" placeholder="Notes..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-gift">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Wine Modal -->
    <div class="modal-overlay" id="modal-wine"><div class="modal"><div class="modal-header"><h3 id="modal-wine-title"><i class="fas fa-wine-bottle"></i> Nouveau vin</h3><button class="modal-close" data-close="modal-wine"><i class="fas fa-times"></i></button></div><form id="wine-form"><div class="modal-body">
        <input type="hidden" id="wine-id">
        <div class="form-row"><div class="form-group"><label for="wine-name"><i class="fas fa-tag"></i> Nom *</label><input type="text" id="wine-name" required placeholder="Nom du vin"></div><div class="form-group"><label for="wine-type"><i class="fas fa-wine-glass-alt"></i> Type</label><select id="wine-type"></select></div></div>
        <div class="form-row"><div class="form-group"><label for="wine-region"><i class="fas fa-map-marker-alt"></i> Région</label><select id="wine-region"></select></div><div class="form-group"><label for="wine-appellation"><i class="fas fa-certificate"></i> Appellation</label><input type="text" id="wine-appellation" placeholder="Appellation"></div></div>
        <div class="form-row"><div class="form-group"><label for="wine-vintage"><i class="fas fa-calendar"></i> Millésime</label><input type="number" id="wine-vintage" min="1900" max="2099" placeholder="2020"></div><div class="form-group"><label for="wine-producer"><i class="fas fa-industry"></i> Producteur</label><input type="text" id="wine-producer" placeholder="Producteur"></div></div>
        <div class="form-row"><div class="form-group"><label for="wine-grape"><i class="fas fa-seedling"></i> Cépage</label><input type="text" id="wine-grape" placeholder="Cépage"></div><div class="form-group"><label for="wine-price"><i class="fas fa-coins"></i> Prix (MAD)</label><input type="number" id="wine-price" min="0" step="0.01" placeholder="0.00"></div></div>
        <div class="form-row"><div class="form-group"><label for="wine-quantity"><i class="fas fa-boxes"></i> Quantité</label><input type="number" id="wine-quantity" min="0" value="1"></div><div class="form-group"><label for="wine-rating"><i class="fas fa-star"></i> Note (/5)</label><input type="number" id="wine-rating" min="0" max="5" step="0.5" placeholder="0"></div></div>
        <div class="form-row"><div class="form-group"><label for="wine-drink-before"><i class="fas fa-calendar-times"></i> À boire avant</label><input type="date" id="wine-drink-before"></div><div class="form-group"><label for="wine-location"><i class="fas fa-warehouse"></i> Emplacement</label><input type="text" id="wine-location" placeholder="Emplacement cave"></div></div>
        <div class="form-group"><label for="wine-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="wine-notes" rows="2" placeholder="Notes de dégustation..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-wine">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Podcast Modal -->
    <div class="modal-overlay" id="modal-podcast"><div class="modal"><div class="modal-header"><h3 id="modal-podcast-title"><i class="fas fa-podcast"></i> Nouveau podcast</h3><button class="modal-close" data-close="modal-podcast"><i class="fas fa-times"></i></button></div><form id="podcast-form"><div class="modal-body">
        <input type="hidden" id="podcast-id">
        <div class="form-row"><div class="form-group"><label for="podcast-title-field"><i class="fas fa-microphone"></i> Titre *</label><input type="text" id="podcast-title-field" required placeholder="Titre du podcast"></div><div class="form-group"><label for="podcast-host"><i class="fas fa-user"></i> Animateur</label><input type="text" id="podcast-host" placeholder="Animateur"></div></div>
        <div class="form-row"><div class="form-group"><label for="podcast-category"><i class="fas fa-folder"></i> Catégorie</label><select id="podcast-category"></select></div><div class="form-group"><label for="podcast-status"><i class="fas fa-tasks"></i> Statut</label><select id="podcast-status"></select></div></div>
        <div class="form-row"><div class="form-group"><label for="podcast-platform"><i class="fas fa-headphones"></i> Plateforme</label><input type="text" id="podcast-platform" placeholder="Spotify, Apple..."></div><div class="form-group"><label for="podcast-rating"><i class="fas fa-star"></i> Note (/5)</label><input type="number" id="podcast-rating" min="0" max="5" step="0.5" placeholder="0"></div></div>
        <div class="form-row"><div class="form-group"><label for="podcast-episodes-total"><i class="fas fa-list-ol"></i> Épisodes total</label><input type="number" id="podcast-episodes-total" min="0" value="0"></div><div class="form-group"><label for="podcast-episodes-listened"><i class="fas fa-check-circle"></i> Épisodes écoutés</label><input type="number" id="podcast-episodes-listened" min="0" value="0"></div></div>
        <div class="form-row"><div class="form-group"><label for="podcast-url"><i class="fas fa-link"></i> URL</label><input type="url" id="podcast-url" placeholder="https://..."></div><div class="form-group"><label for="podcast-frequency"><i class="fas fa-redo"></i> Fréquence</label><input type="text" id="podcast-frequency" placeholder="Hebdomadaire, mensuel..."></div></div>
        <div class="form-group"><label for="podcast-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="podcast-notes" rows="2" placeholder="Notes..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-podcast">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Cleaning Modal -->
    <div class="modal-overlay" id="modal-cleaning"><div class="modal"><div class="modal-header"><h3 id="modal-cleaning-title"><i class="fas fa-broom"></i> Nouvelle tâche ménagère</h3><button class="modal-close" data-close="modal-cleaning"><i class="fas fa-times"></i></button></div><form id="cleaning-form"><div class="modal-body">
        <input type="hidden" id="cleaning-id">
        <div class="form-row"><div class="form-group"><label for="cleaning-task"><i class="fas fa-tasks"></i> Tâche *</label><input type="text" id="cleaning-task" required placeholder="Nom de la tâche"></div><div class="form-group"><label for="cleaning-room"><i class="fas fa-door-open"></i> Pièce</label><select id="cleaning-room"></select></div></div>
        <div class="form-row"><div class="form-group"><label for="cleaning-frequency"><i class="fas fa-redo"></i> Fréquence</label><select id="cleaning-frequency"></select></div><div class="form-group"><label for="cleaning-difficulty"><i class="fas fa-signal"></i> Difficulté (1-5)</label><input type="number" id="cleaning-difficulty" min="1" max="5" value="3"></div></div>
        <div class="form-row"><div class="form-group"><label for="cleaning-last-done"><i class="fas fa-calendar-check"></i> Dernière fois</label><input type="date" id="cleaning-last-done"></div><div class="form-group"><label for="cleaning-next-due"><i class="fas fa-calendar-alt"></i> Prochaine fois</label><input type="date" id="cleaning-next-due"></div></div>
        <div class="form-row"><div class="form-group"><label for="cleaning-assignee"><i class="fas fa-user"></i> Assigné à</label><input type="text" id="cleaning-assignee" placeholder="Qui fait cette tâche ?"></div><div class="form-group"><label for="cleaning-duration"><i class="fas fa-clock"></i> Durée (min)</label><input type="number" id="cleaning-duration" min="0" value="30"></div></div>
        <div class="form-group"><label for="cleaning-supplies"><i class="fas fa-spray-can"></i> Produits nécessaires</label><input type="text" id="cleaning-supplies" placeholder="Produits séparés par virgules"></div>
        <div class="form-group"><label for="cleaning-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="cleaning-notes" rows="2" placeholder="Notes..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-cleaning">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Album Modal -->
    <div class="modal-overlay" id="modal-album"><div class="modal"><div class="modal-header"><h3 id="modal-album-title"><i class="fas fa-images"></i> Nouvel album</h3><button class="modal-close" data-close="modal-album"><i class="fas fa-times"></i></button></div><form id="album-form"><div class="modal-body">
        <input type="hidden" id="album-id">
        <div class="form-row"><div class="form-group"><label for="album-title-field"><i class="fas fa-heading"></i> Titre *</label><input type="text" id="album-title-field" required placeholder="Titre de l'album"></div><div class="form-group"><label for="album-category"><i class="fas fa-folder"></i> Catégorie</label><select id="album-category"></select></div></div>
        <div class="form-row"><div class="form-group"><label for="album-date"><i class="fas fa-calendar"></i> Date</label><input type="date" id="album-date"></div><div class="form-group"><label for="album-location"><i class="fas fa-map-marker-alt"></i> Lieu</label><input type="text" id="album-location" placeholder="Lieu"></div></div>
        <div class="form-row"><div class="form-group"><label for="album-photo-count"><i class="fas fa-image"></i> Nombre de photos</label><input type="number" id="album-photo-count" min="0" value="0"></div><div class="form-group"><label for="album-platform"><i class="fas fa-cloud"></i> Plateforme</label><input type="text" id="album-platform" placeholder="Google Photos, iCloud..."></div></div>
        <div class="form-row"><div class="form-group"><label for="album-cover"><i class="fas fa-file-image"></i> URL couverture</label><input type="url" id="album-cover" placeholder="https://..."></div><div class="form-group"><label for="album-shared"><i class="fas fa-share-alt"></i> Partagé</label><select id="album-shared"><option value="false">Non</option><option value="true">Oui</option></select></div></div>
        <div class="form-group"><label for="album-description"><i class="fas fa-align-left"></i> Description</label><textarea id="album-description" rows="2" placeholder="Description..."></textarea></div>
        <div class="form-group"><label for="album-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="album-notes" rows="2" placeholder="Notes..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-album">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Medication Modal -->
    <div class="modal-overlay" id="modal-medication"><div class="modal"><div class="modal-header"><h3 id="modal-medication-title"><i class="fas fa-pills"></i> Nouveau médicament</h3><button class="modal-close" data-close="modal-medication"><i class="fas fa-times"></i></button></div><form id="medication-form"><div class="modal-body">
        <input type="hidden" id="medication-id">
        <div class="form-row"><div class="form-group"><label for="medication-name"><i class="fas fa-tag"></i> Nom *</label><input type="text" id="medication-name" required placeholder="Nom du médicament"></div><div class="form-group"><label for="medication-type"><i class="fas fa-pills"></i> Type</label><select id="medication-type"></select></div></div>
        <div class="form-row"><div class="form-group"><label for="medication-dosage"><i class="fas fa-weight"></i> Dosage</label><input type="text" id="medication-dosage" placeholder="Ex: 500mg"></div><div class="form-group"><label for="medication-frequency"><i class="fas fa-redo"></i> Fréquence</label><select id="medication-frequency"></select></div></div>
        <div class="form-row"><div class="form-group"><label for="medication-status"><i class="fas fa-tasks"></i> Statut</label><select id="medication-status"></select></div><div class="form-group"><label for="medication-price"><i class="fas fa-coins"></i> Prix (MAD)</label><input type="number" id="medication-price" min="0" step="0.01" placeholder="0.00"></div></div>
        <div class="form-row"><div class="form-group"><label for="medication-start"><i class="fas fa-calendar-plus"></i> Date début</label><input type="date" id="medication-start"></div><div class="form-group"><label for="medication-end"><i class="fas fa-calendar-times"></i> Date fin</label><input type="date" id="medication-end"></div></div>
        <div class="form-row"><div class="form-group"><label for="medication-prescriber"><i class="fas fa-user-md"></i> Prescripteur</label><input type="text" id="medication-prescriber" placeholder="Médecin"></div><div class="form-group"><label for="medication-pharmacy"><i class="fas fa-clinic-medical"></i> Pharmacie</label><input type="text" id="medication-pharmacy" placeholder="Pharmacie"></div></div>
        <div class="form-row"><div class="form-group"><label for="medication-refill"><i class="fas fa-sync"></i> Prochain renouvellement</label><input type="date" id="medication-refill"></div><div class="form-group"><label for="medication-quantity"><i class="fas fa-boxes"></i> Stock</label><input type="number" id="medication-quantity" min="0" value="0"></div></div>
        <div class="form-group"><label for="medication-purpose"><i class="fas fa-notes-medical"></i> Indication</label><input type="text" id="medication-purpose" placeholder="Pour quoi ?"></div>
        <div class="form-group"><label for="medication-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="medication-notes" rows="2" placeholder="Notes, effets secondaires..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-medication">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Wishlist Modal -->
    <div class="modal-overlay" id="modal-wishlist"><div class="modal"><div class="modal-header"><h3 id="modal-wishlist-title"><i class="fas fa-star"></i> Nouveau souhait</h3><button class="modal-close" data-close="modal-wishlist"><i class="fas fa-times"></i></button></div><form id="wishlist-form"><div class="modal-body">
        <input type="hidden" id="wishlist-id">
        <div class="form-row"><div class="form-group"><label for="wishlist-name"><i class="fas fa-tag"></i> Nom *</label><input type="text" id="wishlist-name" required placeholder="Nom de l'article"></div><div class="form-group"><label for="wishlist-category"><i class="fas fa-folder"></i> Catégorie</label><select id="wishlist-category"></select></div></div>
        <div class="form-row"><div class="form-group"><label for="wishlist-priority"><i class="fas fa-exclamation-circle"></i> Priorité</label><select id="wishlist-priority"></select></div><div class="form-group"><label for="wishlist-status"><i class="fas fa-tasks"></i> Statut</label><select id="wishlist-status"></select></div></div>
        <div class="form-row"><div class="form-group"><label for="wishlist-price"><i class="fas fa-coins"></i> Prix estimé (MAD)</label><input type="number" id="wishlist-price" min="0" step="0.01" placeholder="0.00"></div><div class="form-group"><label for="wishlist-saved"><i class="fas fa-piggy-bank"></i> Économisé (MAD)</label><input type="number" id="wishlist-saved" min="0" step="0.01" value="0"></div></div>
        <div class="form-row"><div class="form-group"><label for="wishlist-store"><i class="fas fa-store"></i> Magasin</label><input type="text" id="wishlist-store" placeholder="Où acheter ?"></div><div class="form-group"><label for="wishlist-url"><i class="fas fa-link"></i> URL</label><input type="url" id="wishlist-url" placeholder="https://..."></div></div>
        <div class="form-group"><label for="wishlist-description"><i class="fas fa-align-left"></i> Description</label><textarea id="wishlist-description" rows="2" placeholder="Description..."></textarea></div>
        <div class="form-group"><label for="wishlist-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="wishlist-notes" rows="2" placeholder="Notes..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-wishlist">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Document Modal -->
    <div class="modal-overlay" id="modal-document"><div class="modal"><div class="modal-header"><h3 id="modal-document-title"><i class="fas fa-file-alt"></i> Nouveau document</h3><button class="modal-close" data-close="modal-document"><i class="fas fa-times"></i></button></div><form id="document-form"><div class="modal-body">
        <input type="hidden" id="document-id">
        <div class="form-row"><div class="form-group"><label for="document-title-field"><i class="fas fa-heading"></i> Titre *</label><input type="text" id="document-title-field" required placeholder="Titre du document"></div><div class="form-group"><label for="document-type"><i class="fas fa-file"></i> Type</label><select id="document-type"></select></div></div>
        <div class="form-row"><div class="form-group"><label for="document-issuer"><i class="fas fa-building"></i> Émetteur</label><input type="text" id="document-issuer" placeholder="Émetteur"></div><div class="form-group"><label for="document-number"><i class="fas fa-hashtag"></i> Numéro</label><input type="text" id="document-number" placeholder="N° de document"></div></div>
        <div class="form-row"><div class="form-group"><label for="document-issue-date"><i class="fas fa-calendar-plus"></i> Date d'émission</label><input type="date" id="document-issue-date"></div><div class="form-group"><label for="document-expiry-date"><i class="fas fa-calendar-times"></i> Date d'expiration</label><input type="date" id="document-expiry-date"></div></div>
        <div class="form-row"><div class="form-group"><label for="document-status"><i class="fas fa-tasks"></i> Statut</label><select id="document-status"></select></div><div class="form-group"><label for="document-holder"><i class="fas fa-user"></i> Titulaire</label><input type="text" id="document-holder" placeholder="Titulaire"></div></div>
        <div class="form-row"><div class="form-group"><label for="document-location"><i class="fas fa-map-marker-alt"></i> Emplacement physique</label><input type="text" id="document-location" placeholder="Où est-il rangé ?"></div><div class="form-group"><label for="document-reminder"><i class="fas fa-bell"></i> Rappel (jours avant)</label><input type="number" id="document-reminder" min="0" value="30"></div></div>
        <div class="form-group"><label for="document-description"><i class="fas fa-align-left"></i> Description</label><textarea id="document-description" rows="2" placeholder="Description..."></textarea></div>
        <div class="form-group"><label for="document-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="document-notes" rows="2" placeholder="Notes..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-document">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Collection Modal -->
    <div class="modal-overlay" id="modal-collection"><div class="modal"><div class="modal-header"><h3 id="modal-collection-title"><i class="fas fa-palette"></i> Nouvel objet de collection</h3><button class="modal-close" data-close="modal-collection"><i class="fas fa-times"></i></button></div><form id="collection-form"><div class="modal-body">
        <input type="hidden" id="collection-id">
        <div class="form-row"><div class="form-group"><label for="collection-name"><i class="fas fa-tag"></i> Nom/Collection *</label><input type="text" id="collection-name" required placeholder="Nom de la collection"></div><div class="form-group"><label for="collection-type"><i class="fas fa-th-large"></i> Type</label><select id="collection-type"></select></div></div>
        <div class="form-row"><div class="form-group"><label for="collection-item"><i class="fas fa-cube"></i> Objet</label><input type="text" id="collection-item" placeholder="Nom de l'objet"></div><div class="form-group"><label for="collection-condition"><i class="fas fa-gem"></i> État</label><select id="collection-condition"></select></div></div>
        <div class="form-row"><div class="form-group"><label for="collection-rarity"><i class="fas fa-star"></i> Rareté</label><select id="collection-rarity"></select></div><div class="form-group"><label for="collection-year"><i class="fas fa-calendar"></i> Année</label><input type="number" id="collection-year" min="1800" max="2099" placeholder="2020"></div></div>
        <div class="form-row"><div class="form-group"><label for="collection-value"><i class="fas fa-coins"></i> Valeur actuelle (MAD)</label><input type="number" id="collection-value" min="0" step="0.01" placeholder="0.00"></div><div class="form-group"><label for="collection-purchase-price"><i class="fas fa-money-bill"></i> Prix d'achat (MAD)</label><input type="number" id="collection-purchase-price" min="0" step="0.01" placeholder="0.00"></div></div>
        <div class="form-row"><div class="form-group"><label for="collection-quantity"><i class="fas fa-boxes"></i> Quantité</label><input type="number" id="collection-quantity" min="1" value="1"></div><div class="form-group"><label for="collection-source"><i class="fas fa-store"></i> Source</label><input type="text" id="collection-source" placeholder="Où acheté ?"></div></div>
        <div class="form-row"><div class="form-group"><label for="collection-series"><i class="fas fa-layer-group"></i> Série</label><input type="text" id="collection-series" placeholder="Série/Édition"></div><div class="form-group"><label for="collection-location"><i class="fas fa-map-marker-alt"></i> Emplacement</label><input type="text" id="collection-location" placeholder="Où rangé ?"></div></div>
        <div class="form-group"><label for="collection-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="collection-notes" rows="2" placeholder="Notes..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-collection">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Trade Modal -->
    <div class="modal-overlay" id="modal-trade"><div class="modal"><div class="modal-header"><h3 id="modal-trade-title"><i class="fas fa-chart-line"></i> Nouveau trade</h3><button class="modal-close" data-close="modal-trade"><i class="fas fa-times"></i></button></div><form id="trade-form"><div class="modal-body">
        <input type="hidden" id="trade-id">
        <div class="form-row"><div class="form-group"><label for="trade-symbol"><i class="fas fa-tag"></i> Symbole *</label><input type="text" id="trade-symbol" required placeholder="EUR/USD, BTC, AAPL..."></div><div class="form-group"><label for="trade-instrument"><i class="fas fa-layer-group"></i> Instrument</label><select id="trade-instrument"></select></div></div>
        <div class="form-row"><div class="form-group"><label for="trade-direction"><i class="fas fa-arrows-alt-v"></i> Direction</label><select id="trade-direction"><option value="long">🟢 Long (Achat)</option><option value="short">🔴 Short (Vente)</option></select></div><div class="form-group"><label for="trade-status"><i class="fas fa-info-circle"></i> Statut</label><select id="trade-status"><option value="open">🔵 Ouvert</option><option value="closed">✅ Clôturé</option><option value="cancelled">⛔ Annulé</option></select></div></div>
        <div class="form-row"><div class="form-group"><label for="trade-entry-price"><i class="fas fa-sign-in-alt"></i> Prix d'entrée *</label><input type="number" id="trade-entry-price" step="any" required placeholder="0.00"></div><div class="form-group"><label for="trade-exit-price"><i class="fas fa-sign-out-alt"></i> Prix de sortie</label><input type="number" id="trade-exit-price" step="any" placeholder="0.00"></div></div>
        <div class="form-row"><div class="form-group"><label for="trade-quantity"><i class="fas fa-sort-amount-up"></i> Quantité / Lot</label><input type="number" id="trade-quantity" step="any" min="0" placeholder="1"></div><div class="form-group"><label for="trade-leverage"><i class="fas fa-bolt"></i> Levier</label><input type="number" id="trade-leverage" step="any" min="1" value="1" placeholder="1"></div></div>
        <div class="form-row"><div class="form-group"><label for="trade-stop-loss"><i class="fas fa-shield-alt"></i> Stop Loss</label><input type="number" id="trade-stop-loss" step="any" placeholder="0.00"></div><div class="form-group"><label for="trade-take-profit"><i class="fas fa-trophy"></i> Take Profit</label><input type="number" id="trade-take-profit" step="any" placeholder="0.00"></div></div>
        <div class="form-row"><div class="form-group"><label for="trade-fees"><i class="fas fa-percentage"></i> Frais / Commission</label><input type="number" id="trade-fees" step="any" min="0" placeholder="0.00"></div><div class="form-group"><label for="trade-strategy"><i class="fas fa-chess"></i> Stratégie</label><select id="trade-strategy"></select></div></div>
        <div class="form-row"><div class="form-group"><label for="trade-entry-date"><i class="fas fa-calendar-plus"></i> Date d'entrée</label><input type="date" id="trade-entry-date"></div><div class="form-group"><label for="trade-exit-date"><i class="fas fa-calendar-check"></i> Date de sortie</label><input type="date" id="trade-exit-date"></div></div>
        <div class="form-row"><div class="form-group"><label for="trade-platform"><i class="fas fa-desktop"></i> Plateforme</label><input type="text" id="trade-platform" placeholder="MT4, Binance, IBKR..."></div><div class="form-group"><label for="trade-tags"><i class="fas fa-hashtag"></i> Tags</label><input type="text" id="trade-tags" placeholder="breakout, earnings..."></div></div>
        <div class="form-row"><div class="form-group"><label for="trade-emotion-entry"><i class="fas fa-smile"></i> Émotion (entrée)</label><input type="text" id="trade-emotion-entry" placeholder="Confiant, Incertain..."></div><div class="form-group"><label for="trade-emotion-exit"><i class="fas fa-meh"></i> Émotion (sortie)</label><input type="text" id="trade-emotion-exit" placeholder="Satisfait, Frustré..."></div></div>
        <div class="form-group"><label for="trade-notes"><i class="fas fa-sticky-note"></i> Notes / Analyse</label><textarea id="trade-notes" rows="3" placeholder="Raison du trade, analyse technique..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-trade">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Portfolio Position Modal -->
    <div class="modal-overlay" id="modal-position"><div class="modal"><div class="modal-header"><h3 id="modal-position-title"><i class="fas fa-briefcase"></i> Nouvelle position</h3><button class="modal-close" data-close="modal-position"><i class="fas fa-times"></i></button></div><form id="position-form"><div class="modal-body">
        <input type="hidden" id="position-id">
        <div class="form-row"><div class="form-group"><label for="position-symbol"><i class="fas fa-tag"></i> Symbole *</label><input type="text" id="position-symbol" required placeholder="AAPL, BTC, EUR/USD..."></div><div class="form-group"><label for="position-name"><i class="fas fa-font"></i> Nom</label><input type="text" id="position-name" placeholder="Apple Inc."></div></div>
        <div class="form-row"><div class="form-group"><label for="position-asset-type"><i class="fas fa-layer-group"></i> Type d'actif</label><select id="position-asset-type"></select></div><div class="form-group"><label for="position-sector"><i class="fas fa-building"></i> Secteur</label><select id="position-sector"></select></div></div>
        <div class="form-row"><div class="form-group"><label for="position-quantity"><i class="fas fa-sort-amount-up"></i> Quantité *</label><input type="number" id="position-quantity" step="any" min="0" required placeholder="0"></div><div class="form-group"><label for="position-avg-price"><i class="fas fa-calculator"></i> Prix moyen d'achat *</label><input type="number" id="position-avg-price" step="any" min="0" required placeholder="0.00"></div></div>
        <div class="form-row"><div class="form-group"><label for="position-current-price"><i class="fas fa-coins"></i> Prix actuel</label><input type="number" id="position-current-price" step="any" min="0" placeholder="0.00"></div><div class="form-group"><label for="position-currency"><i class="fas fa-money-bill"></i> Devise</label><input type="text" id="position-currency" value="MAD" placeholder="MAD"></div></div>
        <div class="form-row"><div class="form-group"><label for="position-dividend-yield"><i class="fas fa-percentage"></i> Rendement dividende (%)</label><input type="number" id="position-dividend-yield" step="any" min="0" placeholder="0.00"></div><div class="form-group"><label for="position-platform"><i class="fas fa-desktop"></i> Plateforme</label><input type="text" id="position-platform" placeholder="Broker, Exchange..."></div></div>
        <div class="form-row"><div class="form-group"><label for="position-target-price"><i class="fas fa-trophy"></i> Prix cible</label><input type="number" id="position-target-price" step="any" min="0" placeholder="0.00"></div><div class="form-group"><label for="position-stop-loss"><i class="fas fa-shield-alt"></i> Stop Loss</label><input type="number" id="position-stop-loss" step="any" min="0" placeholder="0.00"></div></div>
        <div class="form-group"><label for="position-purchase-date"><i class="fas fa-calendar"></i> Date d'achat</label><input type="date" id="position-purchase-date"></div>
        <div class="form-group"><label for="position-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="position-notes" rows="2" placeholder="Notes sur la position..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-position">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>

    <!-- Trading Watchlist Modal -->
    <div class="modal-overlay" id="modal-twatchlist"><div class="modal"><div class="modal-header"><h3 id="modal-twatchlist-title"><i class="fas fa-binoculars"></i> Nouvel actif à surveiller</h3><button class="modal-close" data-close="modal-twatchlist"><i class="fas fa-times"></i></button></div><form id="twatchlist-form"><div class="modal-body">
        <input type="hidden" id="twatchlist-id">
        <div class="form-row"><div class="form-group"><label for="twatchlist-symbol"><i class="fas fa-tag"></i> Symbole *</label><input type="text" id="twatchlist-symbol" required placeholder="EUR/USD, BTC..."></div><div class="form-group"><label for="twatchlist-name"><i class="fas fa-font"></i> Nom</label><input type="text" id="twatchlist-name" placeholder="Nom de l'actif"></div></div>
        <div class="form-row"><div class="form-group"><label for="twatchlist-asset-type"><i class="fas fa-layer-group"></i> Type</label><select id="twatchlist-asset-type"></select></div><div class="form-group"><label for="twatchlist-signal"><i class="fas fa-traffic-light"></i> Signal</label><select id="twatchlist-signal"></select></div></div>
        <div class="form-row"><div class="form-group"><label for="twatchlist-current-price"><i class="fas fa-coins"></i> Prix actuel</label><input type="number" id="twatchlist-current-price" step="any" min="0" placeholder="0.00"></div><div class="form-group"><label for="twatchlist-timeframe"><i class="fas fa-clock"></i> Timeframe</label><select id="twatchlist-timeframe"></select></div></div>
        <div class="form-row"><div class="form-group"><label for="twatchlist-target-buy"><i class="fas fa-arrow-down"></i> Cible achat</label><input type="number" id="twatchlist-target-buy" step="any" min="0" placeholder="0.00"></div><div class="form-group"><label for="twatchlist-target-sell"><i class="fas fa-arrow-up"></i> Cible vente</label><input type="number" id="twatchlist-target-sell" step="any" min="0" placeholder="0.00"></div></div>
        <div class="form-row"><div class="form-group"><label for="twatchlist-support"><i class="fas fa-level-down-alt"></i> Support</label><input type="number" id="twatchlist-support" step="any" min="0" placeholder="0.00"></div><div class="form-group"><label for="twatchlist-resistance"><i class="fas fa-level-up-alt"></i> Résistance</label><input type="number" id="twatchlist-resistance" step="any" min="0" placeholder="0.00"></div></div>
        <div class="form-row"><div class="form-group"><label for="twatchlist-priority"><i class="fas fa-flag"></i> Priorité (0-5)</label><input type="number" id="twatchlist-priority" min="0" max="5" value="0"></div><div class="form-group"><label for="twatchlist-alert-price"><i class="fas fa-bell"></i> Prix d'alerte</label><input type="number" id="twatchlist-alert-price" step="any" min="0" placeholder="0.00"></div></div>
        <div class="form-group"><label for="twatchlist-analysis"><i class="fas fa-microscope"></i> Analyse technique</label><textarea id="twatchlist-analysis" rows="2" placeholder="Patterns, indicateurs, niveaux clés..."></textarea></div>
        <div class="form-group"><label for="twatchlist-notes"><i class="fas fa-sticky-note"></i> Notes</label><textarea id="twatchlist-notes" rows="2" placeholder="Notes..."></textarea></div>
    </div><div class="modal-footer"><button type="button" class="btn btn-outline" data-close="modal-twatchlist">Annuler</button><button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button></div></form></div></div>



    <!-- Floating Quick Actions -->
    <div class="quick-fab-dock" id="quick-fab-dock">
        <button id="fab-command" class="quick-fab" title="Palette de commandes (Ctrl+K)">
            <i class="fas fa-terminal"></i>
        </button>
        <button id="fab-focus" class="quick-fab" title="Mode focus">
            <i class="fas fa-expand-alt"></i>
        </button>
        <button id="fab-top" class="quick-fab" title="Retour en haut">
            <i class="fas fa-arrow-up"></i>
        </button>
    </div>

    <!-- Keyboard Shortcuts Modal -->
    <div class="modal-overlay" id="modal-shortcuts">
        <div class="modal modal-shortcuts">
            <div class="modal-header">
                <h3><i class="fas fa-keyboard"></i> Raccourcis clavier</h3>
                <button class="modal-close" data-close="modal-shortcuts"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body shortcuts-grid">
                <div class="shortcut-group">
                    <h4>Navigation</h4>
                    <div class="shortcut-row"><span>Palette de commandes</span><kbd>Ctrl</kbd> + <kbd>K</kbd></div>
                    <div class="shortcut-row"><span>Nouvelle transaction</span><kbd>Ctrl</kbd> + <kbd>N</kbd></div>
                    <div class="shortcut-row"><span>Fermer modal</span><kbd>Échap</kbd></div>
                    <div class="shortcut-row"><span>Aide / Commandes</span><kbd>?</kbd></div>
                </div>
                <div class="shortcut-group">
                    <h4>Affichage</h4>
                    <div class="shortcut-row"><span>Mode focus</span><kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>F</kbd></div>
                    <div class="shortcut-row"><span>Mode néon</span><kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>U</kbd></div>
                    <div class="shortcut-row"><span>Guide interactif</span><kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>H</kbd></div>
                    <div class="shortcut-row"><span>Raccourcis clavier</span><kbd>Ctrl</kbd> + <kbd>/</kbd></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Confetti Container -->
    <div id="confetti-container" class="confetti-container"></div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-spinner">
            <div class="spinner-orbit">
                <div class="spinner-planet"></div>
            </div>
            <div class="spinner-orbit spinner-orbit-2">
                <div class="spinner-planet spinner-planet-2"></div>
            </div>
            <div class="spinner-core"></div>
            <span>Chargement...</span>
        </div>
    </div>

    <!-- Modal: Prière -->
    <div class="modal-overlay" id="modal-prayer">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modal-prayer-title"><i class="fas fa-pray"></i> Nouvelle prière</h3>
                <button class="modal-close" data-close="modal-prayer"><i class="fas fa-times"></i></button>
            </div>
            <form id="prayer-form">
                <div class="modal-body">
                    <input type="hidden" id="prayer-form-id">
                    <div class="form-group">
                        <label><i class="fas fa-heading"></i> Titre *</label>
                        <input type="text" id="prayer-form-title" required placeholder="Ex: Guérison de maman" class="form-control">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-pen"></i> Intentions / détails</label>
                        <textarea id="prayer-form-text" class="form-control" rows="3" placeholder="Décrivez votre prière…"></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label><i class="fas fa-tag"></i> Catégorie</label>
                            <select id="prayer-form-category" class="form-control">
                                <option value="supplication">Supplication</option>
                                <option value="intercession">Intercession</option>
                                <option value="thanksgiving">Actions de grâce</option>
                                <option value="praise">Louange</option>
                                <option value="confession">Confession</option>
                                <option value="guidance">Guidance</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-circle"></i> Statut</label>
                            <select id="prayer-form-status" class="form-control">
                                <option value="active">En attente</option>
                                <option value="answered">Exaucée</option>
                                <option value="pending">À Dieu</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-calendar"></i> Date</label>
                        <input type="date" id="prayer-form-date" class="form-control">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline" data-close="modal-prayer">Annuler</button>
                    <button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal: Gratitude -->
    <div class="modal-overlay" id="modal-gratitude">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modal-gratitude-title">🙏 Nouvelle gratitude</h3>
                <button class="modal-close" data-close="modal-gratitude"><i class="fas fa-times"></i></button>
            </div>
            <form id="gratitude-form">
                <div class="modal-body">
                    <input type="hidden" id="gratitude-form-id">
                    <input type="hidden" id="gratitude-form-emoji" value="🙏">
                    <div class="form-group">
                        <label>Choisir une icône</label>
                        <div class="emoji-picker-row">
                            <button type="button" class="emoji-pick selected" data-emoji="🙏">🙏</button>
                            <button type="button" class="emoji-pick" data-emoji="❤️">❤️</button>
                            <button type="button" class="emoji-pick" data-emoji="✨">✨</button>
                            <button type="button" class="emoji-pick" data-emoji="🌟">🌟</button>
                            <button type="button" class="emoji-pick" data-emoji="🌈">🌈</button>
                            <button type="button" class="emoji-pick" data-emoji="🎁">🎁</button>
                            <button type="button" class="emoji-pick" data-emoji="🌿">🌿</button>
                            <button type="button" class="emoji-pick" data-emoji="🕊️">🕊️</button>
                            <button type="button" class="emoji-pick" data-emoji="💡">💡</button>
                            <button type="button" class="emoji-pick" data-emoji="🏔️">🏔️</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-pen"></i> Je suis reconnaissant(e) pour… *</label>
                        <input type="text" id="gratitude-form-text" required placeholder="Ex: La santé de ma famille" class="form-control">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-comment"></i> Détails (optionnel)</label>
                        <textarea id="gratitude-form-detail" class="form-control" rows="2" placeholder="Pourquoi en êtes-vous reconnaissant(e) ?" ></textarea>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-calendar"></i> Date</label>
                        <input type="date" id="gratitude-form-date" class="form-control">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline" data-close="modal-gratitude">Annuler</button>
                    <button type="submit" class="btn btn-primary btn-glow"><span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span><span class="btn-shimmer"></span></button>
                </div>
            </form>
        </div>
    </div>

    <!-- Account Settings Modal -->
    <div class="modal-overlay" id="modal-account">
        <div class="modal" style="max-width:520px;">
            <div class="modal-header">
                <h3><i class="fas fa-user-cog"></i> Paramètres du compte</h3>
                <button class="modal-close" data-close="modal-account"><i class="fas fa-times"></i></button>
            </div>
            <form id="account-form">
                <div class="modal-body">
                    <!-- Avatar section -->
                    <div class="account-avatar-section">
                        <div class="account-avatar-large" id="account-avatar-preview">
                            <i class="fas fa-user-astronaut"></i>
                        </div>
                        <div class="account-avatar-colors">
                            <button type="button" class="avatar-color-btn active" data-color="linear-gradient(135deg, #7C3AED, #D946EF)" style="background:linear-gradient(135deg,#7C3AED,#D946EF)"></button>
                            <button type="button" class="avatar-color-btn" data-color="linear-gradient(135deg, #2563EB, #06B6D4)" style="background:linear-gradient(135deg,#2563EB,#06B6D4)"></button>
                            <button type="button" class="avatar-color-btn" data-color="linear-gradient(135deg, #059669, #34D399)" style="background:linear-gradient(135deg,#059669,#34D399)"></button>
                            <button type="button" class="avatar-color-btn" data-color="linear-gradient(135deg, #F59E0B, #F97316)" style="background:linear-gradient(135deg,#F59E0B,#F97316)"></button>
                            <button type="button" class="avatar-color-btn" data-color="linear-gradient(135deg, #EC4899, #F43F5E)" style="background:linear-gradient(135deg,#EC4899,#F43F5E)"></button>
                            <button type="button" class="avatar-color-btn" data-color="linear-gradient(135deg, #6366F1, #8B5CF6)" style="background:linear-gradient(135deg,#6366F1,#8B5CF6)"></button>
                        </div>
                        <div class="account-avatar-icons">
                            <button type="button" class="avatar-icon-btn active" data-icon="fa-user-astronaut" title="Astronaute"><i class="fas fa-user-astronaut"></i></button>
                            <button type="button" class="avatar-icon-btn" data-icon="fa-user" title="Utilisateur"><i class="fas fa-user"></i></button>
                            <button type="button" class="avatar-icon-btn" data-icon="fa-user-ninja" title="Ninja"><i class="fas fa-user-ninja"></i></button>
                            <button type="button" class="avatar-icon-btn" data-icon="fa-user-tie" title="Pro"><i class="fas fa-user-tie"></i></button>
                            <button type="button" class="avatar-icon-btn" data-icon="fa-crown" title="Couronne"><i class="fas fa-crown"></i></button>
                            <button type="button" class="avatar-icon-btn" data-icon="fa-star" title="Étoile"><i class="fas fa-star"></i></button>
                            <button type="button" class="avatar-icon-btn" data-icon="fa-gem" title="Gemme"><i class="fas fa-gem"></i></button>
                            <button type="button" class="avatar-icon-btn" data-icon="fa-rocket" title="Fusée"><i class="fas fa-rocket"></i></button>
                        </div>
                    </div>

                    <div class="account-separator"></div>

                    <!-- Profile info -->
                    <div class="form-group">
                        <label for="account-fullname"><i class="fas fa-user"></i> Nom complet</label>
                        <input type="text" id="account-fullname" placeholder="Votre nom complet">
                    </div>
                    <div class="form-group">
                        <label for="account-email"><i class="fas fa-envelope"></i> Email</label>
                        <input type="email" id="account-email" placeholder="votre@email.com" readonly>
                        <small class="form-hint">L'email ne peut pas être modifié directement.</small>
                    </div>

                    <div class="account-separator"></div>

                    <!-- Password change -->
                    <details class="account-password-section">
                        <summary><i class="fas fa-lock"></i> Changer le mot de passe</summary>
                        <div class="account-password-fields">
                            <div class="form-group">
                                <label for="account-new-password">Nouveau mot de passe</label>
                                <input type="password" id="account-new-password" placeholder="Min. 6 caractères" minlength="6">
                            </div>
                            <div class="form-group">
                                <label for="account-confirm-password">Confirmer le mot de passe</label>
                                <input type="password" id="account-confirm-password" placeholder="Répétez le mot de passe">
                            </div>
                        </div>
                    </details>

                    <!-- Account info -->
                    <div class="account-info-bar">
                        <div class="account-info-item">
                            <i class="fas fa-calendar"></i>
                            <span>Membre depuis : <strong id="account-created-at">—</strong></span>
                        </div>
                        <div class="account-info-item">
                            <i class="fas fa-clock"></i>
                            <span>Dernière connexion : <strong id="account-last-signin">—</strong></span>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline" data-close="modal-account">Annuler</button>
                    <button type="submit" class="btn btn-primary btn-glow">
                        <span class="btn-content"><i class="fas fa-save"></i> Enregistrer</span>
                        <span class="btn-shimmer"></span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>

    </div><!-- /app-shell -->

    <script>
    // Charge et parse le fichier .env avant l'init Supabase
    (function(){
        try {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', '.env', false);
            xhr.send();
            if (xhr.status === 200 || xhr.status === 0) {
                var env = {};
                xhr.responseText.split('\n').forEach(function(line){
                    line = line.trim();
                    if (!line || line.charAt(0) === '#') return;
                    var eq = line.indexOf('=');
                    if (eq > 0) {
                        var key = line.substring(0, eq).trim();
                        var val = line.substring(eq + 1).trim();
                        if ((val.charAt(0)==='"'&&val.charAt(val.length-1)==='"')||
                            (val.charAt(0)==="'"&&val.charAt(val.length-1)==="'"))
                            val = val.slice(1,-1);
                        env[key] = val;
                    }
                });
                window.ENV = env;
            }
        } catch(e){ console.error('Impossible de charger .env :', e); }
    })();
    </script>
    <script src="js/supabase-config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/store.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/theme.js"></script>
    <script src="js/inventory.js"></script>
    <script src="js/books.js"></script>
    <script src="js/fitness.js"></script>
    <script src="js/recipes.js"></script>
    <script src="js/notes.js"></script>
    <script src="js/habits.js"></script>
    <script src="js/contacts.js"></script>
    <script src="js/movies.js"></script>
    <script src="js/travel.js"></script>
    <script src="js/plants.js"></script>
    <script src="js/music.js"></script>
    <script src="js/vehicles.js"></script>
    <script src="js/health.js"></script>
    <script src="js/events.js"></script>
    <script src="js/pets.js"></script>
    <script src="js/learning.js"></script>
    <script src="js/sleep.js"></script>
    <script src="js/home.js"></script>
    <script src="js/games.js"></script>
    <script src="js/wardrobe.js"></script>
    <script src="js/packages.js"></script>
    <script src="js/ideas.js"></script>
    <script src="js/projects.js"></script>
    <script src="js/passwords.js"></script>
    <script src="js/subscriptions.js"></script>
    <script src="js/gifts.js"></script>
    <script src="js/wine.js"></script>
    <script src="js/podcasts.js"></script>
    <script src="js/cleaning.js"></script>
    <script src="js/albums.js"></script>
    <script src="js/medications.js"></script>
    <script src="js/wishlist.js"></script>
    <script src="js/documents.js"></script>
    <script src="js/collections.js"></script>
    <script src="js/trades.js"></script>
    <script src="js/portfolio.js"></script>
    <script src="js/trading-watchlist.js"></script>
    <script src="js/spiritual.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
